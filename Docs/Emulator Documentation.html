<!DOCTYPE html>
<html lang="RU">

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>Руководство Пользователя</title>
<style type="text/css">
<!--
@font-face {
	font-family: Wingdings;
	panose-1: 5 0 0 0 0 0 0 0 0 0;
}
@font-face {
	font-family: Arial, Helvetica, sans-serif;
	panose-1: 2 11 6 4 2 2 2 2 2 4;
}
@font-face {
	font-family: Calibri;
	panose-1: 2 15 5 2 2 2 4 3 2 4;
}
-->
</style>
<link href="css/cmmn.css" rel="stylesheet">
<link href="css/style11.css" rel="stylesheet">
<link href="css/styleemd.css" rel="stylesheet">
</head>

<body style="text-justify-trim: punctuation">

<div id="content-w">
	<div class="mw-content-ltr">
		<h1 id="firstHeading" class="firstHeading">Руководство пользователя.<br>
		Эмулятор БК 0010(01) и БК 0011(М) для Windows XP / 7 / 8 / 10 / 11.<br>Версия 
		3.13.</h1>
		<center><img alt="Изображение БКшки" src="img/bkemu/bkcomp.png">
		</center>
		<div id="toc" class="toc">
			<div id="toctitle">
				<h2>Оглавление</h2>
			</div>
			<ul>
				<li class="toclevel-1"><a href="#toc_p0">Аннотация</a></li>
				<li class="toclevel-1"><a href="#toc_p1">Системные требования</a></li>
				<li class="toclevel-1"><a href="#toc_p2">Характеристики</a></li>
				<li class="toclevel-1"><a href="#toc_p3">Руководство по запуску 
				программ</a>
				<ul>
					<li class="toclevel-2"><a href="#toc_p3_1">Загрузка и запуск 
					.bin файлов на БК 0010(01)</a></li>
					<li class="toclevel-2"><a href="#toc_p3_2">Загрузка и запуск 
					.bin файлов на БК 0011</a></li>
					<li class="toclevel-2"><a href="#toc_p3_3">Загрузка и запуск 
					.bin файлов на БК 0011М</a></li>
					<li class="toclevel-2"><a href="#toc_p3_4">Загрузка и запуск 
					.wav, .tap файлов на БК 0010(01), БК 0011(M)</a></li>
				</ul>
				</li>
				<li class="toclevel-1"><a href="#toc_p4">Подробное описание функций 
				эмулятора</a>
				<ul>
					<li class="toclevel-2"><a href="#toc_p4_1">Меню &laquo;Файл&raquo;</a></li>
					<li class="toclevel-2"><a href="#toc_p4_2">Меню &laquo;Конфигурация&raquo;</a></li>
					<li class="toclevel-2"><a href="#toc_p4_7">Меню &laquo;Управление&raquo;</a></li>
					<li class="toclevel-2"><a href="#toc_p4_3">Меню &laquo;Опции&raquo;</a></li>
					<li class="toclevel-2"><a href="#toc_p4_4">Меню &laquo;Отладка&raquo;</a></li>
					<li class="toclevel-2"><a href="#toc_p4_5">Меню &laquo;Вид&raquo;</a>
					<ul>
						<li class="toclevel-3"><a href="#toc_p4_5_1">Окно отладки</a></li>
						<li class="toclevel-3"><a href="#toc_p4_5_2">Окно &laquo;Дамп 
						регистров CPU&raquo;</a></li>
						<li class="toclevel-3"><a href="#toc_p4_5_3">Окно &laquo;Дамп 
						регистров FDD&raquo;</a></li>
						<li class="toclevel-3"><a href="#toc_p4_5_4">Окно &laquo;Дамп 
						памяти&raquo;</a></li>
						<li class="toclevel-3"><a href="#toc_p4_5_5">Окно &laquo;Управление 
						чтением / записью лент&raquo;</a></li>
						<li class="toclevel-3"><a href="#toc_p4_5_6">Окно &laquo;Осциллограф&raquo;</a></li>
						<li class="toclevel-3"><a href="#toc_p4_5_7">Окно &laquo;Виртуальная 
						клавиатура&raquo;</a></li>
					</ul>
					</li>
					<li class="toclevel-2"><a href="#toc_p4_6">Меню &laquo;Инструменты&raquo;</a></li>
					<li class="toclevel-2"><a href="#toc_p4_8">Особенности эмуляции</a>
					<ul>
						<li class="toclevel-3"><a href="#toc_p4_8_1">Баг бита С</a></li>
						<li class="toclevel-3"><a href="#toc_p4_8_2">Поведение регистра 
						177702</a></li>
						<li class="toclevel-3"><a href="#toc_p4_8_3">Эмуляция процессора 
						1801ВМ1Г</a></li>
						<li class="toclevel-3"><a href="#toc_p4_8_4">Эмуляция семейств 
						команд EIS и FIS</a></li>
					</ul>
					</li>
				</ul>
				</li>
				<li class="toclevel-1"><a href="#toc_p9">Полезные возможности.</a>
				<ul>
					<li class="toclevel-2"><a href="#toc_p9_1">Сохранение музыки, 
					звучащей на AY-3-8910 или Covox в формате WAV</a></li>
					<li class="toclevel-2"><a href="#toc_p9_2">Создание лога(дампа) 
					данных, посылаемых в регистры AY-3-8910 в формате PSG</a></li>
					<li class="toclevel-2"><a href="#toc_p9_3">Захват видео</a></li>
					<li class="toclevel-2"><a href="#toc_p9_4">Скрипты</a></li>
					<li class="toclevel-2"><a href="#toc_p9_5">Описание режимов 
					работы двух AY</a></li>
				</ul>
				</li>
				<li class="toclevel-1"><a href="#toc_p5">Приложение 1. Соответствия 
				раскладки клавиатур ПК и БК и горячие клавиши</a></li>
				<li class="toclevel-1"><a href="#toc_p6">Приложение 2. Описание 
				ключей в файле &laquo;bk.ini&raquo;</a></li>
				<li class="toclevel-1"><a href="#toc_p7">Приложение 3. Описание 
				параметров командной строки</a></li>
				<li class="toclevel-1"><a href="#toc_p8">Приложение 4. Описание 
				вспомогательных утилит</a></li>
			</ul>
		</div>
		<h1><a name="toc_p0"></a>Аннотация</h1>
		<p>Данный эмулятор работает под управлением <span class="selc">32/64</span> 
		битной операционной системы <span class="selc">Windows XP SP3</span> и выше 
		(поддержка <i>Windows XP</i> будет прекращена после того, как микрософт 
		полностью выпилит средства компиляции под <i>Windows XP</i> из <i>Visual 
		Studio</i>, и минимальной ОС станет <i>Windows 7</i>), и эмулирует компьютеры &laquo;<i>БК 
		0010(01)</i>&raquo; и &laquo;<i>БК 0011(М)</i>&raquo; в различных конфигурациях. 
		В состав эмулятора входят две утилиты &laquo;<span class="symb">BK Disk 
		Explorer</span>&raquo; - утилита для работы с образами дисков БК и &laquo;<span class="symb">HDD 
		Image Maker</span>&raquo; - утилита для создания образов винчестеров, применимых 
		к контроллеру <b>СМК-512</b>. Образ винчестера имеет свой формат и жёстко 
		заданный размер, определяемый параметрами: количество дорожек, головок, 
		секторов на дорожке, в соответствии со спецификацией ATA. </p>
		<p>Эмулятор распространяется в архиве, помимо исполняемого файла там находятся 
		динамические библиотечные файлы рендеров экрана и анализатора огибающей 
		звука, конфигурационный ini файл и следующие служебные папки:</p>
		<table class="border3">
			<tr>
				<td>
				<p class="cmdk">Bin\</p>
				</td>
				<td>
				<p>– директория по умолчанию для хранения программ для БК в формате
				<b class="var">bin</b>. Обзор проводника начинается с этой папки. 
				Пользуясь средствами навигации проводника, можно перемещаться и 
				читать файлы из любого места вашего компьютера.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p class="cmdk">Docs\</p>
				</td>
				<td>
				<p>– документация к эмулятору. А так же разные полезные документы 
				из комплекта документации к компьютерам БК10/11.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p class="cmdk">Img\</p>
				</td>
				<td>
				<p>– директория по умолчанию для хранения образов дискет для БК 
				и образов HDD для БК. Обзор проводника начинается с этой папки. 
				Пользуясь средствами навигации проводника, можно перемещаться и 
				читать файлы из любого места вашего компьютера.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p class="cmdk">Memory\</p>
				</td>
				<td>
				<p>– записанные состояния памяти определённых конфигураций БК.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p class="cmdk">Rom\</p>
				</td>
				<td>
				<p>– прошивки ПЗУ. Это обязательная директория, с некоторым обязательным 
				набором прошивок ПЗУ. Туда можно добавлять свои ПЗУ, но нельзя удалять 
				или переименовывать базовые. Чтобы использовать своё ПЗУ вместо 
				базового необходимо отредактировать файл <span class="selc">bk.ini</span>. 
				(Поместить в директорию свой файл и задать в <span class="selc">
				ini</span> файле имя файла своего ПЗУ.)</p>
				</td>
			</tr>
			<tr>
				<td><span class="cmdk">Screenshots\</span></td>
				<td>
				<p>– директория, куда сохраняются скриншоты и захваченное видео. 
				Для захвата видео эта директория обязательно должна существовать, 
				иначе <b>ffmpeg</b> завершается с ошибкой параметров командной строки, 
				т.к. не умеет создавать директории, заданные в пути создаваемого 
				файла.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p class="cmdk">Scripts\</p>
				</td>
				<td>
				<p>– скрипты эмулятора. (Мало кому нужный рудимент. К тому же скриптовый 
				движок крайне примитивен и почти не развивается.)</p>
				</td>
			</tr>
			<tr>
				<td>
				<p class="cmdk">Tapes\</p>
				</td>
				<td>
				<p>– директория по умолчанию для хранения <b class="var">wav</b> 
				и <b class="var">tap</b> файлов кассет для загрузки с магнитофона. 
				Обзор проводника начинается с этой папки. Пользуясь средствами навигации 
				проводника, можно перемещаться и читать файлы из любого места вашего 
				компьютера.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p class="cmdk">Tools\</p>
				</td>
				<td>
				<p>– служебные утилиты. А так же любые другие пользовательские файлы, 
				которые туда можно поместить и самостоятельно запускать.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p class="cmdk">UserSaves\</p>
				</td>
				<td>
				<p>– любые файлы, сохраняемые пользователем, если включена соответствующая 
				опция. Если возникнет необходимость не смешивать новые файлы с файлами, 
				уже находящимися в директориях <span class="cmdk">Bin</span> и
				<span class="cmdk">Tapes</span>. Или, допустим, имена совпадающие 
				будут.</p>
				</td>
			</tr>
		</table>
		<h1><a name="toc_p1"></a>Системные требования</h1>
		<p><b>Минимальные требования:</b> Двухъядерный процессор, видеокарта с аппаратным 
		ускорением <span class="selc">OpenGL</span> или <span class="selc">Direct3D</span>.</p>
		<p><b>Рекомендуемые требования:</b> Чем больше, тем лучше. </p>
		<p>Обязательно наличие установленной библиотеки <span class="selc">DirectX 
		9.0 runtime</span> или более поздней версии, для эмуляции экрана БК с рендером
		<span class="selc">Direct3D</span>, с остальными рендерами - не обязательно.</p>
		<p>Эмулятор на данный момент не точно совместим с реальной БК. Точность 
		эмуляции составляет по оценкам автора примерно <span class="nmbr">90</span>%. 
		Но несмотря на это в нём правильно работает огромное количество программ, 
		разработанных на БК. Данная оценка является субъективным мнением автора, 
		основанном на сравнении работы программ на реальном железе и эмуляторе.</p>
		<p>Убедительная просьба: если вы обнаружили какое-либо несоответствие или 
		вы программировали на БК, и знаете некоторые нюансы или просто обнаружили 
		откровенные ляпы в эмуляции, сообщить об этом автору. Адрес электронной 
		почты указан на сайте, откуда скачан этот эмулятор, либо с которого вы читаете 
		эту документацию, а также в окне &quot;О программе&quot;. И это не Юрий 
		Калмыков, хотя его почта так и оставлена в этом окне, как напоминание о 
		родоначальнике этого эмулятора.</p>
		<p>Автор считает своей целью оттачивание эмуляции БК вплоть до
		<span class="nmbr">99</span>%, насколько это конечно возможно. Поэтому следующий 
		автор продолжил дело и добавил эмуляцию <b>БК11М</b>, <b>БК11</b> (без М), 
		стандартного КНГМД и КНГМД <b>А16М</b>, а затем и <b>СМК-512</b> и эмуляцию
		<b>HDD</b>. И Самарский контроллер НГМД+HDD. В дополнение к этому - эмуляцию 
		музыкального сопроцессора YM-2149 (AY-3-8910), а затем не полную эмуляцию 
		музыкальной приставки "Менестрель" (без генератора прерываний по вектору 
		100). И ко всему этому ещё и схему 2хAY с разными методами реализации подключения.</p>
		<p><u>Все пожелания, замечания обязательно будут замечены и учтены.</u>
		<em class="selw">Но не обязательно применены в ближайшее время, потому что 
		я иногда просто не знаю, как сделать данные фичи. Как узнаю, так сразу и 
		сделаю</em>.</p>
		<h1><a name="toc_p2"></a>Характеристики</h1>
		<p>Данная программа является программным эмулятором отечественных бытовых 
		компьютеров <i>БК 0010(01)</i> и <i>БК 0011(М)</i>. Поддерживаются конфигурации:</p>
		<ul>
			<li>БК 0010Ш без элементов поддержки локальной сети</li>
			<li>БК 0010-01 + стандартный БЕЙСИК &laquo;Вильнюс 1986&raquo;</li>
			<li>БК 0010-01 + блок МСТД (Фокал и подпрограммы тестов)</li>
			<li>БК 0010-01 + блок дополнительной памяти 32Кб</li>
			<li>БК 0010-01 + стандартный КНГМД + расширитель памяти 16Кб</li>
			<li>БК 0010-01 + блок КНГМД А16М</li>
			<li>БК 0010-01 + блок КНГМД СМК-512 + HDD </li>
			<li>БК 0010-01 + блок КНГМД + расширитель памяти 16Кб + SamaraHDD + 
			HDD </li>
			<li>БК 0011 + блок МСТД</li>
			<li>БК 0011 + стандартный КНГМД</li>
			<li>БК 0011 + блок КНГМД А16М</li>
			<li>БК 0011 + блок КНГМД СМК-512 + HDD</li>
			<li>БК 0011 + стандартный КНГМД + SamaraHDD + HDD </li>
			<li>БК 0011М + блок МСТД</li>
			<li>БК 0011М + стандартный КНГМД</li>
			<li>БК 0011М + блок КНГМД А16М</li>
			<li>БК 0011М + блок КНГМД СМК-512 + HDD</li>
			<li>БК 0011М + блок КНГМД + SamaraHDD + HDD </li>
		</ul>
		<p class="attnt">Примечания.</p>
		<ol>
			<li>Для запуска конфигурации &laquo;<span class="selc">БК 0011 + блок 
			КНГМД А16М</span>&raquo; необходимо при старте удерживать нажатой клавишу &laquo;<span class="symb">4</span>&raquo;, 
			для перехода в БОС БК11 и загрузки с дискеты вручную.</li>
			<li>Для запуска конфигурации &laquo;<span class="selc">БК 0011 + блок 
			КНГМД СМК-512</span>&raquo; необходимо удерживать нажатыми клавиши &laquo;<span class="symb">Шифт</span>&raquo;+&laquo;<span class="symb">4</span>&raquo;, 
			для перехода в БОС БК11 и загрузки с дискеты или HDD вручную. Делается 
			это следующим образом. Для загрузки с дискет можно воспользоваться командами 
			БОС - <b>0B</b> или <b>1B</b>, для загрузки с дисковода
			<span class="selc">A:</span> или <span class="selc">B:</span> соответственно. 
			А для загрузки с HDD всё сложнее. Нужно в регистр <span class="regn">
			R0</span> поместить номер раздела, с которого надо загрузиться, делается 
			командой БОС <b>R0/ &lt;число&gt;</b>, где число - это
			<span class="nmbr">2</span> - <span class="selc">С:</span>,
			<span class="nmbr">3</span> - <span class="selc">D:</span> и т.д., и 
			кстати, <span class="nmbr">0</span> - это <span class="selc">A:</span>,
			<span class="nmbr">1</span> - <span class="selc">B:</span>, но с дискет 
			можно проще загружаться. Затем нужно задать команду <b>
			<span class="nmbr">160002</span><span class="symb">G</span></b> и загрузиться 
			в <span class="selc">АНДОС</span> или <span class="selc">МКДОС</span>. 
			Остальные ОС на БК11 <b>не работают</b>.</li>
			<li>ПЗУ контроллеров АльтПро А16М и СМК-512 используют вызовы подпрограмм 
			из ПЗУ БОС БК 0011М, поэтому на БК 0011 не работают так, как задумано. 
			Поэтому при использовании этих контроллеров на БК 0011 многие действия 
			необходимо делать вручную.</li>
		</ol>
		<p>Данный эмулятор корректно эмулирует все команды процессора БК, включая 
		недокументированные команды: <span class="cmds">NOP</span> с кодом
		<span class="nmbr">0260</span>, команды останова, групповой установки и 
		сброса битов состояния процессора, команды <span class="cmds">MARK</span>,
		<span class="cmds">START</span>, <span class="cmds">STEP</span>, а также 
		биты <span class="nmbr">11</span> и <span class="nmbr">10</span> слова состояния 
		процессора. При эмуляции команд учитывается реальное время их выполнения, 
		и оно примерно соответствует времени выполнения на реальной БК-0010. В секунду 
		выполняется примерно <span class="nmbr">250</span> тыс. команд (точное значение 
		зависит от самих команд и методов адресации). Также корректно эмулируются 
		системные регистры, с учётом особенностей <i>БК 0010</i> и <i>БК 0011(М)</i>:</p>
		<table class="border vtop clltid">
			<tr>
				<td>
				<p><span class="nmbr">177660</span></p>
				</td>
				<td>
				<p>– регистр состояния клавиатуры полностью</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="nmbr">177662</span></p>
				</td>
				<td>
				<p>– регистр кода клавиатуры полностью</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="nmbr">177664</span></p>
				</td>
				<td>
				<p>– регистр рулонного сдвига полностью</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="nmbr">177700</span>, <br><span class="nmbr">177702</span>,
				<span class="nmbr"><br>177704</span></p>
				</td>
				<td>
				<p>– регистры периферийного блока частично, но поведение регистра
				<span class="nmbr">177702</span> полностью</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="nmbr">177706</span>, <br><span class="nmbr">177710</span>,
				<span class="nmbr"><br>177712</span></p>
				</td>
				<td>
				<p>– регистры таймера полностью</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="nmbr">177714</span></p>
				</td>
				<td>
				<p>– сам регистр эмулируется, но вывод регистра на внешние порты 
				в/в ПК в настоящий момент не реализован.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="nmbr">177716</span></p>
				</td>
				<td>
				<p>– полностью</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="nmbr">177130</span></p>
				</td>
				<td>
				<p>– регистр управления НГМД полностью </p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="nmbr">177132</span></p>
				</td>
				<td>
				<p>– регистр данных НГМД полностью </p>
				</td>
			</tr>
		</table>
		<p>Эмулятор корректно эмулирует найденный в <span class="nmbr">2019</span> 
		году баг с флагом <span class="symb">C</span> для команд
		<span class="cmds">MOVB</span>, <span class="cmds">SWAB</span>,
		<span class="cmds">MFPS</span>. Включение/отключение эмуляции бага задаётся 
		ключом "<span class="selb">Emulate C Bug</span>" в ini-файле.</p>
		<p>Эмулятор полностью эмулирует поведение периферийного регистра
		<span class="nmbr">177702</span>, эмуляция задаётся ключом "<span class="selb">Emulate 
		177702 behavior</span>" в ini-файле, если она выключена, то становится возможным 
		однозначно определить, где запущена программа - в эмуляторе или на реальном 
		железе.</p>
		<p>Эмулятор эмулирует различия процессора 1801ВМ1Г от 1801ВМ1А-В. Эмуляция 
		процессора 1801ВМ1Г задаётся ключом "<span class="selb">Emulate CPU 1801VM1G</span>" 
		в ini-файле, если выключена - эмулируется 1801ВМ1А, если включена - 1801ВМ1Г.</p>
		<p>Так же, дополнительно ко всему, можно включить эмуляцию аппаратного выполнения 
		инструкций семейств EIS и FIS. Эти опции включаются ключами "<span class="selb">Emulate 
		EIS Instructions Set</span>" и "<span class="selb">Emulate FIS Instructions 
		Set</span>" в ini-файле.</p>
		<p>Опции, затрагивающие поведение процессора, доступны только через ручное 
		редактирование ini-файла, т.к. они не предназначены для всеобщего пользования. 
		Они нужны только тем, кому интересно экспериментировать, или в исследовательских 
		целях.</p>
		<p>Эмулируется звук динамика БК через систему <span class="selc">Windows 
		WaveOut</span>, реализован захват звука для оцифровки аудиоплёнок через 
		систему <span class="selc">Windows WaveIn</span>.</p>
		<p>Реальное поведение клавиатуры БК, <s>имеется возможность подключения 
		джойстика со стандартной распайкой через регистр параллельного порта</s>.
		<span class="itl">(Прим. gid: что-то по исходникам этого не наблюдается, 
		джойстик просто эмулируется с клавиатуры) </span></p>
		<p>Поддерживается два режима дисплея БК – чёрно-белый и цветной, причём 
		чёрно-белый режим существует в двух вариантах: нормальном, и адаптированном. 
		Адаптированный вариант даёт более реальное изображение (более схожее с чёрно-белым 
		режимом БК) в полноэкранном режиме. Эмулируется рулонный сдвиг и режим расширенной 
		памяти. </p>
		<p>Имеется мощный (<span class="itl">Прим. gid: не такой уж и мощный, хотелось 
		бы и мощнее</span>) встроенный отладчик с возможностью установки точек останова
		<s>по условию</s> (<span class="itl">Прим. gid: нет таких, есть только простые 
		точки останова</span>) и пошагового выполнения программы (данный отладчик 
		использовался автором в процессе создания и отладки этого эмулятора).
		</p>
		<p>Корректно обрабатывается обращение по нечётным адресам, а также обрабатывается 
		попытка записи в ПЗУ и обращения по несуществующим адресам. </p>
		<p>Эмулятор поддерживает распечатку экрана БК на принтере в двух режимах 
		обычном и инверсном (для экономии тонера), а также распечатку ассемблерного 
		кода из ОЗУ в заданном диапазоне адресов.</p>
		<p>Поддерживается возможность сохранения текущего состояния заданной конфигурации 
		БК, а также сохранения файлов БК на жёстком диске ПК в широко распространённом 
		бинарном формате &laquo;<span class="var">.bin</span>&raquo;, или в оригинальных 
		звуковых форматах &laquo;<span class="var">.wav</span>&raquo; (фактически 
		является копией звуковых данных и по этой причине файл в данном формате 
		занимает много места, примерно <span class="nmbr">44100</span> двойных слов, 
		умноженных на количество секунд) и &laquo;<span class="var">.tap</span>&raquo; 
		(специально изобретённый для данного эмулятора формат, файлы в данном формате 
		примерно в <span class="nmbr">60</span> раз меньше чем аналогичные в &laquo;<span class="var">.wav</span>&raquo;). 
		Этот формат не приспособлен для хранения файлов с защитами от копирования 
		и нестандартными модуляциями.</p>
		<p>Реализована возможность чтения данных с кассет БК. Вывод из звуковых 
		файлов дублируется на бит <span class="nmbr">5</span> (код
		<span class="nmbr">040</span>) регистра <span class="nmbr">177716</span>. 
		Имеется встроенный менеджер кассет БК с возможностью конвертации одного 
		формата в другой, а также захватом с линейного входа звуковой платы.</p>
		<p>Эмулируется работа с НГМД. Поддерживается формат образа дискет БК с расширениями &laquo;<span class="var">.img</span>&raquo;, &laquo;<span class="var">.bkd</span>&raquo; 
		и &laquo;<span class="var">.dsk</span>&raquo; (что по сути есть одно и то 
		же, просто разные люди по разному именовали образы дискет). В настоящий 
		момент поддерживается до четырёх приводов одновременно на стандартном КНГМД 
		и двух - на контроллерах <b>АльтПро</b>.</p>
		<p>Для контроллера <b>СМК-512</b> эмулируется HDD в соответствии со стандартом 
		ATA. Реализован IDE канал, поддерживающий два HDD - <span class="selc">Master</span> 
		и <span class="selc">Slave</span>. Но т.к. в прошивке <b>СМК-512</b> не 
		реализована работа с двумя винчестерами, корректность работы с ними не проверена.
		</p>
		<p>Встроенный отладчик позволяет отлаживать запущенные программы, просматривать 
		и изменять на ходу текущие значения в памяти и регистрах, редактировать 
		ассемблерный текст, а также устанавливать точки останова.</p>
		<p class="picttl">
		<img alt="Сокращённый вид" src="img/bkemu/mainwindow.png" style="max-width: 100%; width: 100%"></p>
		<p class="picttl">Рис.1. Общий вид эмулятора, сокращённый вид.</p>
		<p class="picttl">
		<img alt="Полный вид" src="img/bkemu/fullwindow.png" style="max-width: 100%; width: 100%"></p>
		<p class="picttl">Рис.2. Общий вид эмулятора, полный вид.</p>
		<p><b>Главное окно</b> – это окно представляет экран БК. В любой момент 
		клик мышки на этом окне приводит к перемещению фокуса ввода клавиатуры с 
		ПК на БК. Вывод в данное окно производится в зависимости от выбранного рендера 
		с помощью <span class="selc">OpenGL</span>, <span class="selc">Direct2D</span>,
		<span class="selc">VFW</span> или <span class="selc">Direct3D</span> и в 
		большинстве случаев производится аппаратно, но не всегда. Алгоритм интерполяции 
		при уменьшении окна, зависит от драйвера конкретной видеокарты. По этой 
		причине качественное изображение не всегда гарантируется.</p>
		<p><b>Главное меню</b> – основное меню программы, состоящее из следующих 
		пунктов:</p>
		<table class="border4">
			<tr>
				<td>
				<p><span class="menu">Файл</span></p>
				</td>
				<td>
				<p>– операции загрузки и сохранения данных эмулятора, печать, скриншот.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="menu">Конфигурация</span></p>
				</td>
				<td>
				<p>– выбор нужной конфигурации эмулируемой БК.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="menu">Управление</span></p>
				</td>
				<td>
				<p>- управление конфигурацией</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="menu">Опции</span></p>
				</td>
				<td>
				<p>– различные опции эмулятора.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="menu">Отладка</span></p>
				</td>
				<td>
				<p>– команды встроенного отладчика.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="menu">Вид</span></p>
				</td>
				<td>
				<p>– управление окнами эмулятора и внешним видом.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="menu">Инструменты</span></p>
				</td>
				<td>
				<p>– вызов некоторых, определённых, вспомогательных утилит.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="menu">Справка</span></p>
				</td>
				<td>
				<p>– информация об эмуляторе.</p>
				</td>
			</tr>
		</table>
		<p><b>Панели инструментов</b> – некоторые часто используемые команды выведены 
		на панели инструментов. Большинство представленных там команд дублируют 
		соответствующие пункты меню. Клавиша <span class="selc">Alt</span> перехвачена 
		для эмуляции клавиши <span class="selc">АР2</span>. Поэтому все стандартные 
		сочетания горячих клавиш оконных приложений Windows больше не работают.</p>
		<p>Все команды разбиты на три группы, по трём панелям инструментов, и есть 
		ещё четвёртая, самостоятельная панель инструментов вне группы:</p>
		<dl>
			<dt><i>Стандартная</i></dt>
			<dd>
			<p>Вид панели:</p>
			<div id="tapemgr" class="imgzidxp" style="width: 556px; height: 24px">
				<img alt="Стандартная панель инструментов" src="img/bkemu/stdtoolbar.png">
				<div class="mapzidx" style="left: 10px; top: 2px; width: 18px; height: 18px" title="Загрузить состояние.">
				</div>
				<div class="mapzidx" style="left: 30px; top: 2px; width: 18px; height: 18px" title="Сохранить состояние.">
				</div>
				<div class="mapzidx" style="left: 50px; top: 2px; width: 18px; height: 18px" title="Загрузить ленту БК.">
				</div>
				<div class="mapzidx" style="left: 78px; top: 2px; width: 18px; height: 18px" title="Перезапустить БК.">
				</div>
				<div class="mapzidx" style="left: 98px; top: 2px; width: 30px; height: 18px" title="Вызвать прерывание по вектору 100 или 270.">
				</div>
				<div class="mapzidx" style="left: 139px; top: 2px; width: 18px; height: 18px" title="Установить максимальную частоту БК.">
				</div>
				<div class="mapzidx" style="left: 159px; top: 2px; width: 18px; height: 18px" title="Увеличить частоту процессора БК.">
				</div>
				<div class="mapzidx" style="left: 179px; top: 2px; width: 18px; height: 18px" title="Уменьшить частоту процессора БК.">
				</div>
				<div class="mapzidx" style="left: 199px; top: 2px; width: 18px; height: 18px" title="Задать стандартную частоту процессора БК.">
				</div>
				<div class="mapzidx" style="left: 227px; top: 2px; width: 18px; height: 18px" title="Переключение Полноэкранный/Оконный режим.">
				</div>
				<div class="mapzidx" style="left: 247px; top: 2px; width: 18px; height: 18px" title="Переключение Цветной/Чёрно-белый режим.">
				</div>
				<div class="mapzidx" style="left: 267px; top: 2px; width: 18px; height: 18px" title="Переключение Нормальный/Адаптивный чёрно-белый режим. Активно только в чёрно-белом режиме отображения.">
				</div>
				<div class="mapzidx" style="left: 287px; top: 2px; width: 18px; height: 18px" title="Включение/выключение сглаживания экрана. Сглаживание производится драйвером выбранного рендера. В VFW не работает.">
				</div>
				<div class="mapzidx" style="left: 317px; top: 2px; width: 30px; height: 18px" title="Примонтировать/отмонтировать образ дискеты в дисковод A:">
				</div>
				<div class="mapzidx" style="left: 350px; top: 2px; width: 30px; height: 18px" title="Примонтировать/отмонтировать образ дискеты в дисковод B:">
				</div>
				<div class="mapzidx" style="left: 383px; top: 2px; width: 30px; height: 18px" title="Примонтировать/отмонтировать образ дискеты в дисковод C:">
				</div>
				<div class="mapzidx" style="left: 416px; top: 2px; width: 30px; height: 18px" title="Примонтировать/отмонтировать образ дискеты в дисковод D:">
				</div>
				<div class="mapzidx" style="left: 456px; top: 2px; width: 18px; height: 18px" title="Печать на принтере.">
				</div>
				<div class="mapzidx" style="left: 476px; top: 2px; width: 18px; height: 18px" title="Сделать скриншот экрана.">
				</div>
				<div class="mapzidx" style="left: 496px; top: 2px; width: 18px; height: 18px" title="Изменить настройки эмулятора, требующие перезагрузки.">
				</div>
				<div class="mapzidx" style="left: 524px; top: 2px; width: 18px; height: 18px" title="Информация о программе, и потенциальное место для справочной информации.">
				</div>
			</div>
			<p>Описание команд будет представлено ниже. Здесь стоит сказать, что 
			на данной панели представлено четыре кнопки с выпадающим меню, посредством 
			которых выбирается и монтируется или отмонтируется образ дискеты в соответствующий 
			дисковод. Все остальные кнопки дублируют соответствующие пункты меню.</p>
			<p>При нажатии на иконку дискеты 5.25" появляется диалог выбора образа, 
			который будет примонтирован в заданный привод.</p>
			<p class="picttl">
			<img alt="Диалог открытия образа" src="img/bkemu/imgopen.png" style="max-width: 100%;"></p>
			<p class="picttl">Рис.3. Диалог выбора образа.</p>
			<p>Обзор образов начинается с директории по умолчанию, заданной ключом &laquo;<span class="selb">IMG 
			directory</span>&raquo; в файле &laquo;<span class="selc">bk.ini</span>&raquo;, 
			но возможен выбор образа в любом месте компьютера, даже находящегося 
			на сетевых дисках.</p>
			<p>При нажатии на стрелочку вниз в правой части иконки появляется выпадающее 
			меню, с возможными действиями над образом в приводе. Если в дисководе 
			было пусто, то отобразится меню следующего вида:</p>
			<p><img alt="Пустое меню" src="img/bkemu/fddmenu2.png"></p>
			<p>Всего два пункта: &quot;<span class="selc">Выгрузить</span>&quot; 
			и имя примонтированного образа, для пустого дисковода - пусто. Скрывать 
			пункт "<span class="selc">Выгрузить</span>" для пустого привода было 
			сочтено нецелесообразным, т.к. выпадающее меню получалось уж совсем 
			непонятным.</p>
			<p>Если в дисководе был примонтирован какой-либо образ, то появится 
			такое меню:</p>
			<p>
			<img alt="Мено для образа" height="74" src="img/bkemu/fddmenu1.png" width="151"></p>
			<p>Внизу меню отображается имя файла примонтированного образа, и два 
			возможных действия: &quot;<span class="selc">Выгрузить</span>&quot; 
			- отмонтировать образ, т.е. вынуть дискету из дисковода. И &quot;<span class="selc">Открыть 
			в BKDE</span>&quot; - передать файл образа в утилиту BKDE для редактирования. 
			Если при запуске эмулятора, он не найдёт утилиту BKDE в директории "<span class="cmdk">Tools</span>", 
			то пункт "<span class="selc">Открыть в BKDE</span>" в меню не появится.
			<em class="selw">На время работы BKDE эмулятор приостанавливается полностью, 
			это выглядит как полное зависание программы</em>. Если при этом BKDE 
			аварийно завершить, или прибить в диспетчере задач, эмулятор так в таком 
			состоянии и останется. Его можно будет только так же прибить в диспетчере 
			задач. Так что пользоваться с осторожностью. И естественно, после внесения 
			изменений в образ, эмулятор ничего не будет об этом знать, так что обновление 
			данных для БКшных ОС - задача пользователя.</p>
			</dd>
			<dt><i>Звук</i></dt>
			<dd>
			<p>Вид панели:</p>
			<div id="tapemgr" class="imgzidxp" style="width: 409px; height: 24px">
				<img alt="Звуковая панель инструментов" src="img/bkemu/sndtoolbar.png">
				<div class="mapzidx" style="left: 10px; top: 2px; width: 18px; height: 18px" title="Включить/выключить спикер.">
				</div>
				<div class="mapzidx" style="left: 30px; top: 2px; width: 18px; height: 18px" title="Включить/выключить Covox. При этом, если был включён AY-3-8910 или Менестрель, они выключаются.">
				</div>
				<div class="mapzidx" style="left: 50px; top: 2px; width: 18px; height: 18px" title="Включить/выключить AY-3-8910. При этом, если был включён Covox или Менестрель, они выключаются.">
				</div>
				<div class="mapzidx" style="left: 70px; top: 2px; width: 18px; height: 18px" title="Включить/выключить Менестрель. При этом, если был включён Covox или AY-3-8910, они выключаются.">
				</div>
				<div class="mapzidx" style="left: 90px; top: 2px; width: 18px; height: 18px" title="Переключить Стерео/Моно Covox.">
				</div>
				<div class="mapzidx" style="left: 110px; top: 2px; width: 18px; height: 18px" title="Включить/выключить фильтрацию звука спикера.">
				</div>
				<div class="mapzidx" style="left: 130px; top: 2px; width: 18px; height: 18px" title="Включить/выключить фильтрацию звука Covoxа.">
				</div>
				<div class="mapzidx" style="left: 150px; top: 2px; width: 18px; height: 18px" title="Включить/выключить фильтрацию звука AY-3-8910.">
				</div>
				<div class="mapzidx" style="left: 170px; top: 2px; width: 18px; height: 18px" title="Включить/выключить фильтрацию звука приставки Менестрель.">
				</div>
				<div class="mapzidx" style="left: 198px; top: 2px; width: 18px; height: 18px" title="Включить/выключить дамп регистров AY в файл в формате PSG. Регистры дампятся в файл, пока включена эта опция.">
				</div>
				<div class="mapzidx" style="left: 218px; top: 2px; width: 18px; height: 18px" title="Открыть диалог настроек параметров каналов AY. Изменения делаются в реальном времени.">
				</div>
				<div class="mapzidx" style="left: 250px; top: 2px; width: 140px; height: 18px" title="Ползунок регулировки громкости звука эмулятора.">
				</div>
			</div>
			<p>Описание команд будет представлено ниже. На данной панели присутствует 
			слайдер, для быстрого доступа к регулировке громкости звука эмулятора. 
			Все остальные кнопки дублируют соответствующие пункты меню.</p>
			</dd>
			<dt><i>Отладка</i></dt>
			<dd>
			<table border="0" cellpadding="0" cellspacing="10">
				<tr>
					<td>
					<p>В процессе работы</p>
					</td>
					<td nowrap>&nbsp;</td>
					<td>
					<p>Во время отладки</p>
					</td>
				</tr>
				<tr>
					<td>
					<div id="tapemgr" class="imgzidxp" style="width: 171px; height: 24px">
						<img alt="Отладочная панель инструментов" src="img/bkemu/dbgtoolbar.png">
						<div class="mapzidx" style="left: 10px; top: 2px; width: 18px; height: 18px" title="Остановить/Продолжить выполнение.">
						</div>
						<div class="mapzidx" style="left: 30px; top: 2px; width: 18px; height: 18px" title="Шаг с заходом в подпрограмму.">
						</div>
						<div class="mapzidx" style="left: 50px; top: 2px; width: 18px; height: 18px" title="Шаг с обходом подпрограммы.">
						</div>
						<div class="mapzidx" style="left: 70px; top: 2px; width: 18px; height: 18px" title="Шаг с выходом из подпрограммы.">
						</div>
						<div class="mapzidx" style="left: 90px; top: 2px; width: 18px; height: 18px" title="Выполнить до курсора.">
						</div>
						<div class="mapzidx" style="left: 118px; top: 2px; width: 18px; height: 18px" title="Поставить точку останова.">
						</div>
						<div class="mapzidx" style="left: 138px; top: 2px; width: 18px; height: 18px" title="Показать карту памяти.">
						</div>
					</div>
					</td>
					<td nowrap>&nbsp;</td>
					<td>
					<div id="tapemgr" class="imgzidxp" style="width: 171px; height: 24px">
						<img alt="Отладочная панель инструментов" src="img/bkemu/dbgtoolbar1.png">
						<div class="mapzidx" style="left: 10px; top: 2px; width: 18px; height: 18px" title="Остановить/Продолжить выполнение.">
						</div>
						<div class="mapzidx" style="left: 30px; top: 2px; width: 18px; height: 18px" title="Шаг с заходом в подпрограмму.">
						</div>
						<div class="mapzidx" style="left: 50px; top: 2px; width: 18px; height: 18px" title="Шаг с обходом подпрограммы.">
						</div>
						<div class="mapzidx" style="left: 70px; top: 2px; width: 18px; height: 18px" title="Шаг с выходом из подпрограммы.">
						</div>
						<div class="mapzidx" style="left: 90px; top: 2px; width: 18px; height: 18px" title="Выполнить до курсора.">
						</div>
						<div class="mapzidx" style="left: 118px; top: 2px; width: 18px; height: 18px" title="Поставить точку останова.">
						</div>
						<div class="mapzidx" style="left: 138px; top: 2px; width: 18px; height: 18px" title="Показать карту памяти.">
						</div>
					</div>
					</td>
				</tr>
			</table>
			<p>Описание команд будет представлено в подробном описании отладчика. 
			(<span class="itl">которого нигде нет, а писать самостоятельно пока 
			нет желания. Вкратце - обычные стандартные команды отладчика</span>)</p>
			</dd>
			<dt><i>Захват видео</i></dt>
			<dd>
			<p>Вид панели:</p>
			<div id="tapemgr" class="imgzidxp" style="width: 63px; height: 24px">
				<img alt="Панель инструментов захвата видео" src="img/bkemu/videocapturetoolbar.png">
				<div class="mapzidx" style="left: 10px; top: 2px; width: 18px; height: 18px" title="Начать захват видео.">
				</div>
				<div class="mapzidx" style="left: 30px; top: 2px; width: 18px; height: 18px" title="Остановить захват видео.">
				</div>
			</div>
			<p>Это единственная панель, команд которой вообще нет ни в каком меню, 
			подробнее о функциях читайте в разделе <a href="#toc_p9_3">Захват видео</a>.</p>
			</dd>
			<dt><i>Панель состояния</i></dt>
			<dd>
			<p>На данной панели отображаются текущие внутренние параметры эмулятора:</p>
			<ul>
				<li><span class="argm">Scr: <b>X</b> x <b>Y</b></span> – отображается 
				текущий размер экрана. <span class="nmbr">2048</span> х
				<span class="nmbr">1536</span> - максимум, размер экрана свободно 
				масштабируется в сторону уменьшения, для увеличения существует полноэкранный 
				режим. При повсеместном распространении <span class="nmbr">8</span>K 
				мониторов эта ситуация будет изменена.</li>
				<li><span class="argm">FPS: <b>N</b></span> – текущее количество 
				кадров в секунду. Это плавающий параметр, из-за того, что частота 
				кадров БК - <span class="nmbr">48</span>,<span class="nmbr">8</span>Гц, 
				его значение постоянно колеблется между числами
				<span class="nmbr">48</span> и <span class="nmbr">50</span>. Если 
				долго отличается от заданного, то существует два объяснения. Первое: 
				если оно больше – то это значит, что что-то не так с Windows или 
				материнской платой. Главным образом из-за того, что полностью отсутствует 
				или неисправна звуковая подсистема. Второе: если оно меньше – это 
				значит, что ваш компьютер не справляется. Обычно это происходит 
				от того, что какое-то другое приложение активно использует ресурсы 
				процессора, но может быть и действительно - ваш компьютер слишком 
				слаб.</li>
				<li><span class="argm">CPU: <b>Z</b> Hz</span> – текущая частота 
				работы процессора. Её можно произвольно увеличивать / уменьшать 
				в заданных пределах, либо из меню с шагом <span class="nmbr">1000</span> 
				Гц, либо из панели дампа регистров произвольно.</li>
				<li><span class="argm">Uptime <b>hh:mm:ss</b>.</span> – внутренние 
				часы, показывают, сколько времени запущена программа. Зачем это 
				нужно, не знаю, но убирать не хочется.</li>
			</ul>
			</dd>
		</dl>
		<h1><a name="toc_p3"></a>Руководство по запуску программ</h1>
		<h3><a name="toc_p3_1"></a>Загрузка и запуск .bin файлов на БК 0010(01)</h3>
		<p>После запуска эмулятора в любой конфигурации БК 0010(01) без дисковода, 
		первое, что необходимо сделать для запуска программы в кодах, это перейти 
		в монитор БК. А программы Бейсика или Фокала в формате <span class="var">
		.bin</span> загружаются обычными способами с помощью команд Бейсика или 
		Фокала. Как это сделать, нужно читать в соответствующих руководствах:
		<a href="http://gid.pdp-11.ru/docs/10-01/00001-01.34.09.djvu">00001-01.34.09</a> 
		- Программное обеспечение микро-ЭВМ "Электроника БК0010". "Электроника БК0010Ш". 
		Язык "Бейсик". Руководство оператора. Глава 6. Или
		<a href="http://gid.pdp-11.ru/docs/10-01/00009-01.90.01.djvu">00009-01.90.01</a> 
		- Микро-ЭВМ "Электроника БК 0010-01". Программное обеспечение Фокал. Руководство 
		пользователя. Глава 13.</p>
		<p>Монитор визуально отличается своим приглашением ввода пользователя 
		которое выглядит как вопросительный знак &laquo;<span class="symb">?</span>&raquo;. 
		Из БЕЙСИКа выход в монитор осуществляется командой &laquo;<span class="symb">МО
		<img alt="" height="20" src="img/kbd/kbenter.png" width="35"></span>&raquo; 
		(<b>MONIT</b>). Из Фокала можно выйти по команде &laquo;<span class="symb">P 
		M <img alt="" height="20" src="img/kbd/kbenter.png" width="35"></span>&raquo;(P 
		пробел M). Монитор БК поддерживает следующие команды:</p>
		<p>От &laquo;<span class="symb">А</span>&raquo; до &laquo;<span class="symb">K</span>&raquo;
		<span class="symb">
		<img alt="" height="20" src="img/kbd/kbenter.png" width="35"></span> - переход 
		обратно в Бейсик или Фокал, в зависимости от конфигурации. На самом деле 
		происходит вызов подпрограммы по адресу <span class="nmbr">120000</span>. 
		В общем случае, по данному адресу может находится что угодно пользовательское.</p>
		<p>&laquo;<span class="symb">M
		<img alt="" height="20" src="img/kbd/kbenter.png" width="35"></span>&raquo; 
		- загрузка файла с магнитофона. В эмуляторе загрузка осуществляется с диска 
		ПК. По умолчанию из директории &laquo;<span class="cmdk">Bin</span>&raquo;. 
		Имя данной директории можно поменять, изменив ключ &laquo;<span class="selb">Program 
		directory</span>&raquo; в файле &laquo;<span class="selc">bk.ini</span>&raquo;. 
		На приглашение &laquo;<span class="symb">Имя ?</span>&raquo; можно просто 
		нажать &laquo;<img alt="" height="20" src="img/kbd/kbenter.png" width="35">&raquo;, 
		после чего появится стандартный диалог открытия файла. Если этого не произошло, 
		то нужно посмотреть, включена ли опция &laquo;<span class="menu">Эмулировать 
		загрузку ленты</span>&raquo;. И если выключена - включить, нажать кнопку &laquo;<strong>СТОП</strong>&raquo; 
		и повторить попытку. Также вместо простого нажатия &laquo;<img alt="" height="20" src="img/kbd/kbenter.png" width="35">&raquo;, 
		можно набрать имя запускаемой программы. Файлы программ обычно имеют расширение &laquo;<span class="var">.bin</span>&raquo;.</p>
		<p>&laquo;<span class="symb">S [адрес]
		<img alt="" height="20" src="img/kbd/kbenter.png" width="35"></span>&raquo; 
		– запуск загруженной программы с указанного адреса. Запускает только что 
		загруженную программу с адреса, указанного после команды &laquo;<span class="symb">S</span>&raquo;. 
		Например, команда &laquo;<span class="symb">S 1000
		<img alt="" height="20" src="img/kbd/kbenter.png" width="35"></span>&raquo; 
		запускает программу с адреса <span class="nmbr">1000</span> (типичный адрес 
		запуска программ на БК). Также можно после &laquo;<span class="symb">S</span>&raquo; 
		сразу нажать &laquo;<img alt="" height="20" src="img/kbd/kbenter.png" width="35">&raquo; 
		ничего не указывая. При этом программа начнёт выполнение с адреса, указанного 
		в заголовке загруженного файла. Это наиболее рекомендуемый способ запуска, 
		т.к. далеко не все программы имеют адрес запуска <span class="nmbr">1000</span>. 
		Только для конфигураций БК 0010 + КНГМД (БК 0010(01) с FDD): команда &laquo;<span class="symb">S 
		160000</span>&raquo; запускает начальный загрузчик системной дискеты. Поиск 
		системной дискеты осуществляется сначала в приводе &laquo;<span class="symb">A:</span>&raquo;, 
		а потом в приводе &laquo;<span class="symb">B:</span>&raquo;.</p>
		<p>&laquo;<span class="symb">Т
		<img alt="" height="20" src="img/kbd/kbenter.png" width="35"></span>&raquo; 
		– запуск программы тестов, зашитой в ПЗУ. Данная команда запускает тесты 
		различных узлов БК. Тесты зашиты в ПЗУ блока МСТД. В эмуляторе данная конфигурация 
		называется &laquo;<i>БК 0010-01 + блок Фокал-МСТД</i>&raquo;. На самом деле 
		команда вызывает подпрограмму, зашитую в ПЗУ по адресу
		<span class="nmbr">160100</span>, и в других конфигурациях её действие может 
		отличаться.</p>
		<p>Более подробно об этом читайте в документе
		<a href="http://gid.pdp-11.ru/books/00001-01.32.03.html#_Toc381877477">00001-01.32.03</a>.</p>
		<p>Клик на любом &laquo;<span class="var">.bin</span>&raquo; или &laquo;<span class="var">.msf</span>&raquo; 
		файле приводит к запуску эмулятора (если он не загружен), загрузке содержимого 
		этого файла и запуску на исполнение. Клик на файле скрипта, также приводит 
		к запуску данного скрипта. Скрипты могут быть использованы для автоматизации 
		набора часто используемых команд или для быстрого набора текста. Скрипты 
		обычно имеют расширение &laquo;<span class="var">.bkscript</span>&raquo;.</p>
		<p>Но гораздо проще воспользоваться эмулятором дисковода, загружаться с 
		образа дискеты и использовать возможности файлового менеджера какой-нибудь 
		ОС, которая находится на дискете.</p>
		<h3><a name="toc_p3_2"></a>Загрузка и запуск .bin файлов на БК 0011</h3>
		<p>Для БК11 так же реализована эмуляция чтения/записи с магнитофона как 
		для БК10. Но тут немного сложнее. Чтобы хоть как-то начать пользоваться 
		БКшкой нужно прочитать руководство
		<a href="http://gid.pdp-11.ru/books/00008-01.32.01.html#_Toc375906531">00008-01.32.01</a>. 
		Потому что у БК0011 без М очень особенный управляющий монитор. Там внешне 
		команды выглядят как в БК0011М, но есть нюансы.</p>
		<p>Чтобы запустить Бейсик, нужно в мониторе набрать следующие команды:</p>
		<p><span class="nmbr">11</span>;<span class="nmbr">1</span><span class="symb">С</span></p>
		<p><span class="nmbr">100000</span><span class="symb">G</span></p>
		<p>Подробнее см. в
		<a href="http://gid.pdp-11.ru/docs/11(m)/00008-01.34.04.djvu">00008-01.34.04</a> 
		- Персональная микро-ЭВМ "Электроника МС0513". Программное обеспечение. 
		Бейсик. Руководство оператора. (там есть в том числе и описание, как зайти 
		и выйти в Бейсик для БК 0011 без М. Подсказка: выход из Бейсика в монитор 
		делается командой <span class="symb">SYS</span>[<span class="symb">TEM</span>], 
		а не <span class="symb">MO</span>[<span class="symb">NITOR</span>] как в 
		остальных БК).</p>
		<p>Чтобы загрузить программу, нужно набрать такую команду:</p>
		<p><span class="cmdk">XXXXXX</span><span class="symb">L</span></p>
		<p>Где <span class="cmdk">XXXXXX</span> - адрес загрузки.</p>
		<p>Но перед этим, необходимо установить нужные страницы в окна, монитор 
		этим не озабочивается.</p>
		<p>После подачи команды будет запрошено имя файла, и об особенностях форматов 
		имени настоятельно рекомендуется почитать руководство
		<a href="http://gid.pdp-11.ru/books/00008-01.32.01.html#_Toc375906531">00008-01.32.01</a>.</p>
		<h3><a name="toc_p3_3"></a>Загрузка и запуск .bin файлов на БК 0011М</h3>
		<p>Для БК11М, аналогично, реализована эмуляция чтения/записи с магнитофона. 
		Тут всё уже более дружественно к пользователю, при запуске любой конфигурации 
		БК11М без дисковода, сразу запускается Бейсик. Выход из него делается командой &laquo;<span class="symb">МО
		<img alt="" height="20" src="img/kbd/kbenter.png" width="35"></span>&raquo; 
		(<b>MONIT</b>). Подробнее почитать о командах монитора можно&nbsp; в руководстве
		<a href="http://gid.pdp-11.ru/books/00015-01.32.01.html#_ref_p221">00015-01.32.01</a>.</p>
		<p>Загрузка программы делается так же, как и в БК11:</p>
		<p><span class="cmdk">XXXXXX</span><span class="symb">L</span></p>
		<p>Где <span class="cmdk">XXXXXX</span> - адрес загрузки.</p>
		<p>Так же перед этим нужно установить нужные страницы в окна. И после подачи 
		команды, так же будет запрошено имя загружаемого файла. Если сразу нажать 
		Ввод, т.е. пустое имя, то будет загружаться первый найденный файл.</p>
		<h3><a name="toc_p3_4"></a>Загрузка и запуск .wav, .tap файлов на БК 0010(01), 
		БК 0011(M)</h3>
		<p>Чтобы загружать .wav, .tap файлы, нужно отключить эмуляцию чтения с магнитофона. 
		А чтобы записывать - соответственно отключить эмуляцию записи на магнитофон. 
		Для этого нужно выполнить или убедиться, что выполнены следующие действия:</p>
		<ul>
			<li>Необходимо отключить в опциях пункт &laquo;<span class="menu">Эмулировать 
			загрузку ленты</span>&raquo;. Если нужна ещё и запись на магнитофон 
			- отключить &laquo;<span class="menu">Эмулировать сохранение на ленту</span>&raquo;
			</li>
			<li>После этого в панели инструментов и меню &laquo;<span class="menu">Файл</span>&raquo; 
			станет доступен пункт &laquo;<span class="menu">Загрузить ленту...</span>&raquo;
			</li>
			<li>В мониторе или Бейсике или где-либо ещё, соответствующими командами 
			запускаем загрузку файла и жмём на &laquo;<span class="menu">Загрузить 
			ленту...</span>&raquo;</li>
			<li>Выбираем нужный файл (<span class="var">.tap</span>,
			<span class="var">.wav</span> или <span class="var">.bin</span>, для 
			последнего - нужно перейти в соответствующую директорию) и слушаем, 
			как он загружается. </li>
		</ul>
		<p>Прервать воспроизведение можно кнопкой &laquo;<i class="selc">Стоп</i>&raquo; 
		на панели управления чтением/записью лент.</p>
		<h1><a name="toc_p4"></a>Подробное описание функций эмулятора</h1>
		<h3><a name="toc_p4_1"></a>Меню &laquo;Файл&raquo;</h3>
		<p><img alt="Меню Файл" src="img/bkemu/menu_file.png"></p>
		<dl>
			<dt><span class="menu">Загрузить состояние...</span></dt>
			<dd>
			<p>– загрузить ранее сохранённое состояние конфигурации БК с диска. 
			Файлы состояния БК имеют расширение &laquo;<span class="var">.msf</span>&raquo;, 
			и по умолчанию хранятся в директории &laquo;<span class="cmdk">Memory</span>&raquo;. 
			Путь к данной директории можно изменить в файле настроек &laquo;<span class="selc">bk.ini</span>&raquo;, 
			поменяв строку с именем ключа &laquo;<span class="selb">Memory directory</span>&raquo;. 
			Эмулятор считывает конфигурацию, слепок памяти БК и состояние всех регистров. 
			После загрузки выполнение программы тут же продолжается с записанного 
			места, причём именно в нужной конфигурации (т.е. если состояние было 
			сохранено как <i>БК 0010-01</i>, а текущая конфигурация <i>БК 0010-01 
			+ блок Фокал-МСТД</i>, то будет выбрана конфигурация с Бейсиком). В 
			диалоге выбора файла состояния имеется окно &laquo;<i>Preview</i>&raquo;, 
			в котором показывается уменьшенная копия экрана БК на момент сохранения.</p>
			<p class="picttl">
			<img alt="Загрузка состояния" src="img/bkemu/msfopen.png" style="max-width: 100%;"></p>
			<p class="picttl">Рис.4. Диалог выбора и загрузки состояний.</p>
			</dd>
			<dt><span class="menu">Сохранить состояние...</span></dt>
			<dd>
			<p>– сохранить текущее состояние конфигурации БК на диск. Файлы состояния 
			БК имеют расширение &laquo;<span class="var">.msf</span>&raquo;, и по 
			умолчанию хранятся в директории &laquo;<span class="cmdk">Memory</span>&raquo;. 
			Путь к данной директории можно изменить в файле настроек &laquo;<span class="selc">bk.ini</span>&raquo;, 
			поменяв строку с именем ключа &laquo;<span class="selb">Memory directory</span>&raquo;. 
			Эмулятор сохраняет конфигурацию, записывает слепок памяти БК и состояние 
			всех регистров. После записи выполнение программы продолжается дальше.</p>
			<p><b class="attnt">ОБРАТИТЕ ОСОБОЕ ВНИМАНИЕ!</b> Для того, чтобы сохранения 
			были переносимы между компьютерами и просто различными экземплярами 
			эмулятора, все монтируемые образы дискет и HDD <b>должны находится в 
			директории по умолчанию для образов</b>. Директорией по умолчанию считается 
			директория, заданная в параметре <span class="selb">IMG directory</span> 
			в секции <b class="selb">[Directories]</b> файла настроек &laquo;<span class="selc">bk.ini</span>&raquo;.</p>
			</dd>
			<dt><span class="menu">Загрузить ленту...</span></dt>
			<dd>
			<p>– загрузить содержимое кассеты и запустить на воспроизведение. Файлы 
			кассет БК могут храниться в двух форматах: &laquo;<span class="var">.wav</span>&raquo;
			<span class="selc">- Microsoft PCM Wave 8/16бит Моно/Стерео</span> с 
			любой частотой дискретизации, поддерживаемой форматом или &laquo;<span class="var">.tap</span>&raquo; 
			- собственном формате <span class="selc">Tape</span>. При выделении 
			файла показывается имя записи, адрес загрузки и длина записанного файла. 
			По умолчанию файлы кассет лежат в каталоге &laquo;<span class="cmdk">Tapes</span>&raquo;. 
			Путь к данной директории можно изменить в файле настроек &laquo;<span class="selc">bk.ini</span>&raquo;, 
			поменяв строку с именем ключа &laquo;<span class="selb">Tapes directory</span>&raquo;. 
			После нажатия кнопки &laquo;<b class="cmdm">Открыть</b>&raquo; файл 
			загружается и воспроизводится через звуковую карту. Загрузка таких файлов 
			выполняется точно также, как на реальной БК. Прервать воспроизведение 
			не нужного или ошибочного файла можно кнопкой &laquo;<i class="selc">Стоп</i>&raquo; 
			на панели управления чтением/записью лент. Файлы в формате &laquo;<span class="var">.bin</span>&raquo; 
			так же можно загрузить как файл с кассеты.</p>
			</dd>
			<dt><span class="menu">Скриншот</span></dt>
			<dd>
			<p>– сделать снимок экрана эмулятора БК. По умолчанию скриншоты помещаются 
			в директорию &laquo;<span class="cmdk">Screenshots</span>&raquo;, имя 
			директории можно поменять в файле настроек &laquo;<span class="selc">bk.ini</span>&raquo;, 
			поменяв строку с именем ключа &laquo;<span class="selb">Screenshots 
			directory</span>&raquo;. Формат скриншота - <b class="var">png</b>, 
			разрешение и форма управляется опцией &laquo;<span class="selb">Origin 
			screenshot size</span>&raquo;<span class="nmbr"></span>. Имя файла скриншота 
			имеет следующий вид &quot;<i>screenshot_xxx.png</i>&quot;, где <b>xxx</b> 
			- инкрементный счётчик. Его значение сохраняется в файле настроек &laquo;<span class="selc">bk.ini</span>&raquo;, 
			в ключе &laquo;<span class="selb">Screenshot number</span>&raquo;. Когда 
			его значение достигнет невероятно больших величин, ему можно вручную 
			задать желаемое значение.</p>
			<p>Опция, управляющая размером и формой создаваемого скриншота, &laquo;<span class="selb">Origin 
			screenshot size</span>&raquo;, находится в файле настроек &laquo;<span class="selc">bk.ini</span>&raquo; 
			в секции &laquo;<b class="selb">[Main]</b>&raquo;, её значение по умолчанию &laquo;<span class="selb">No</span>&raquo;, 
			т.е. она выключена. Когда опция включена, то скриншоты создаются оригинального 
			размера, т.е. такого, какого формируется текстура кадра экрана перед 
			выводом на экран. Если опция выключена, то скриншоты создаются размером 
			как у viewport&#39;а (т.е. текущего размера экрана, или последнего заданного 
			размера экрана) путём масштабирования оригинальной текстуры, со сглаживанием 
			в процессе увеличения размеров.</p>
			</dd>
			<dt><span class="menu">Печать...</span></dt>
			<dd>
			<p>– распечатка экрана БК или ассемблерного кода из ОЗУ на принтере. 
			Появляется модифицированный диалог настройки принтера, с возможностью 
			выбора принтера и изменения его стандартных настроек. Также предоставляется 
			возможность выбора двух функций: </p>
			<ul>
				<li>&laquo;<i>Print screen</i>&raquo; – распечатка экрана БК в двух 
				режимах. Если в поле &laquo;<i>Inverse</i>&raquo; не стоит галочка, 
				то распечатка экрана будет производиться в обычном режиме, т.е. 
				чёрный экран и на бумаге будет распечатан чёрным, а буквы белым 
				или серым цветами, что приводит к неэкономному расходу тонера. Если 
				же в поле &laquo;<i>Inverse</i>&raquo; стоит галочка, то экран БК 
				будет распечатан в инвертированном режиме, экран белым (т.е. никаким), 
				а буквы чёрным цветами. Соответственно тонера израсходуется намного 
				меньше. Рекомендуется ставить эту опцию при распечатке большого 
				количества листов для экономии тонера, и не ставить если необходимо 
				получить более похожую на реальный экран БК картинку.</li>
				<li>&laquo;<i>Print code</i>&raquo; – распечатка ассемблерного текста 
				из ОЗУ БК. В поле &laquo;<i>From address</i>&raquo; нужно ввести 
				начальный адрес программы в ОЗУ БК, а в поле &laquo;<i>to</i>&raquo; 
				конечный адрес. При этом в окне &laquo;<i>Pages</i>&raquo; показывается 
				точное (не примерное) рассчитанное количество листов бумаги, необходимое 
				для распечатки всего листинга программы, что очень полезно для оценки 
				расхода бумаги для распечатки большого кода.</li>
			</ul>
			<p>Для обеих возможностей распечатки &laquo;<i>Print screen</i>&raquo; 
			и &laquo;<i>Print code</i>&raquo;, если необходимо, можно указать название 
			программы или любую другую полезную информацию, которая будет распечатана 
			в левом верхнем углу каждого листа. Также на каждом листе будет распечатан 
			его номер и общее количество страниц программы.</p>
			</dd>
			<dt><span class="menu">Настройка печати...</span></dt>
			<dd>
			<p>– настройка параметров принтера. </p>
			</dd>
			<dt><span class="menu">Выход</span></dt>
			<dd>
			<p>– выход из эмулятора. По данной команде осуществляется выход из эмулятора 
			так же, как если кликнуть мышкой по кнопке с крестиком в правом верхнем 
			углу окна. <span class="selc">Alt-F4</span> не работает, т.к. это обычное 
			сочетание клавиш <span class="selc">АР2</span> +
			<img alt="" height="20" src="img/kbd/kbins.png" width="35"> для БК.</p>
			</dd>
		</dl>
		<h3><a name="toc_p4_2"></a>Меню &laquo;Конфигурация&raquo;</h3>
		<p><img alt="Меню Конфигурация" src="img/bkemu/menu_config.png"></p>
		<dl>
			<dt><span class="menu">Старт БК 0010Ш</span></dt>
			<dd>
			<p>– запуск конфигурации БК 0010Ш с версией ПЗУ Фокала №84, рассчитанной 
			на работу в составе КУВТ в локальной сети. В остальном, ничем не отличается 
			от конфигурации БК 0010-01+МСТД. Карта памяти:</p>
			<table class="border cllct">
				<tr>
					<th>Адреса</th>
					<th>Описание</th>
					<th>Объём Кб.</th>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">000000</span> – <span class="nmbr">000377</span></p>
					</td>
					<td>
					<p>прерывания и системные данные</p>
					</td>
					<td>
					<p><span class="nmbr">0</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">000400</span> – <span class="nmbr">037777</span></p>
					</td>
					<td>
					<p>ОЗУ пользовательской программы</p>
					</td>
					<td>
					<p><span class="nmbr">15</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">040000</span> – <span class="nmbr">077777</span></p>
					</td>
					<td>
					<p>ОЗУ экрана</p>
					</td>
					<td>
					<p><span class="nmbr">16</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">100000</span> – <span class="nmbr">117777</span></p>
					</td>
					<td>
					<p>Монитор</p>
					</td>
					<td>
					<p><span class="nmbr">8</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">120000</span> – <span class="nmbr">137777</span></p>
					</td>
					<td>
					<p>ПЗУ Фокала</p>
					</td>
					<td>
					<p><span class="nmbr">8</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">140000</span> – <span class="nmbr">157777</span></p>
					</td>
					<td>
					<p>Не используется</p>
					</td>
					<td>
					<p><span class="nmbr">8</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">160000</span> – <span class="nmbr">177577</span></p>
					</td>
					<td>
					<p>ПЗУ тестов</p>
					</td>
					<td>
					<p><span class="nmbr">7</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">177600</span> – <span class="nmbr">177777</span></p>
					</td>
					<td>
					<p>область системных регистров</p>
					</td>
					<td>
					<p><span class="nmbr">0</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
			</table>
			</dd>
			<dt><span class="menu">Старт БК 0010-01</span></dt>
			<dd>
			<p>– запуск обычной конфигурации БК 0010-01 с БЕЙСИКом &laquo;Вильнюс 
			1986&raquo;. Данная версия БЕЙСИКа была хорошо документирована и на
			<span class="nmbr">80</span>% совпадает по синтаксису с GW Basic на 
			ПК. Карта памяти:</p>
			<table class="border cllct">
				<tr>
					<th>Адреса</th>
					<th>Описание</th>
					<th>Объём Кб.</th>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">000000</span> – <span class="nmbr">000377</span></p>
					</td>
					<td>
					<p>прерывания и системные данные</p>
					</td>
					<td>
					<p><span class="nmbr">0</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">000400</span> – <span class="nmbr">037777</span></p>
					</td>
					<td>
					<p>ОЗУ пользовательской программы</p>
					</td>
					<td>
					<p><span class="nmbr">15</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">040000</span> – <span class="nmbr">077777</span></p>
					</td>
					<td>
					<p>ОЗУ экрана</p>
					</td>
					<td>
					<p><span class="nmbr">16</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">100000</span> – <span class="nmbr">117777</span></p>
					</td>
					<td>
					<p>Монитор</p>
					</td>
					<td>
					<p><span class="nmbr">8</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">120000</span> – <span class="nmbr">137777</span></p>
					</td>
					<td>
					<p><span class="nmbr">1</span>-е ПЗУ БЕЙСИКа</p>
					</td>
					<td>
					<p><span class="nmbr">8</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">140000</span> – <span class="nmbr">157777</span></p>
					</td>
					<td>
					<p><span class="nmbr">2</span>-е ПЗУ БЕЙСИКа</p>
					</td>
					<td>
					<p><span class="nmbr">8</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">160000</span> – <span class="nmbr">177577</span></p>
					</td>
					<td>
					<p><span class="nmbr">3</span>-е ПЗУ БЕЙСИКа</p>
					</td>
					<td>
					<p><span class="nmbr">7</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">177600</span> – <span class="nmbr">177777</span></p>
					</td>
					<td>
					<p>область системных регистров</p>
					</td>
					<td>
					<p><span class="nmbr">0</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
			</table>
			</dd>
			<dt><span class="menu">Старт БК 0010-01 + Фокал-МСТД</span></dt>
			<dd>
			<p>– запуск конфигурации БК 0010-01 с блоком МСТД – ПЗУ с интерпретатором 
			Фокала и тестами. Карта памяти:</p>
			<table class="border cllct">
				<tr>
					<th>Адреса</th>
					<th>Описание</th>
					<th>Объём Кб.</th>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">000000</span> – <span class="nmbr">000377</span></p>
					</td>
					<td>
					<p>прерывания и системные данные</p>
					</td>
					<td>
					<p><span class="nmbr">0</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">000400</span> – <span class="nmbr">037777</span></p>
					</td>
					<td>
					<p>ОЗУ пользовательской программы</p>
					</td>
					<td>
					<p><span class="nmbr">15</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">040000</span> – <span class="nmbr">077777</span></p>
					</td>
					<td>
					<p>ОЗУ экрана</p>
					</td>
					<td>
					<p><span class="nmbr">16</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">100000</span> – <span class="nmbr">117777</span></p>
					</td>
					<td>
					<p>Монитор</p>
					</td>
					<td>
					<p><span class="nmbr">8</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">120000</span> – <span class="nmbr">137777</span></p>
					</td>
					<td>
					<p>ПЗУ Фокала</p>
					</td>
					<td>
					<p><span class="nmbr">8</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">140000</span> – <span class="nmbr">157777</span></p>
					</td>
					<td>
					<p>Не используется</p>
					</td>
					<td>
					<p><span class="nmbr">8</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">160000</span> – <span class="nmbr">177577</span></p>
					</td>
					<td>
					<p>ПЗУ тестов</p>
					</td>
					<td>
					<p><span class="nmbr">7</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">177600</span> – <span class="nmbr">177777</span></p>
					</td>
					<td>
					<p>область системных регистров</p>
					</td>
					<td>
					<p><span class="nmbr">0</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
			</table>
			</dd>
			<dt><span class="menu">Старт БК 0010-01 + доп. 32Кб ОЗУ</span></dt>
			<dd>
			<p>– запуск конфигурации БК 0010-01 с дополнительным блоком ОЗУ
			<span class="nmbr">32</span> Кб. Данный блок ОЗУ расширял стандартные
			<span class="nmbr">16</span> Кб ОЗУ, дополнительными
			<span class="nmbr">32</span> Кб, причём общий объём ОЗУ становился равным
			<span class="nmbr">48</span> Кб. Блок проецировался на адреса памяти
			<span class="nmbr">120000</span> – <span class="nmbr">140000</span>. 
			Карта памяти: </p>
			<table class="border cllct">
				<tr>
					<th>Адреса</th>
					<th>Описание</th>
					<th>Объём Кб.</th>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">000000</span> – <span class="nmbr">000377</span></p>
					</td>
					<td>
					<p>прерывания и системные данные</p>
					</td>
					<td>
					<p><span class="nmbr">0</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">000400</span> – <span class="nmbr">037777</span></p>
					</td>
					<td>
					<p>ОЗУ пользовательской программы</p>
					</td>
					<td>
					<p><span class="nmbr">15</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">040000</span> – <span class="nmbr">077777</span></p>
					</td>
					<td>
					<p>ОЗУ экрана</p>
					</td>
					<td>
					<p><span class="nmbr">16</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">100000</span> – <span class="nmbr">117777</span></p>
					</td>
					<td>
					<p>Монитор</p>
					</td>
					<td>
					<p><span class="nmbr">8</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">120000</span> – <span class="nmbr">137777</span></p>
					</td>
					<td>
					<p>Одна из <span class="nmbr">8</span> кб страниц блока ДОЗУ
					<span class="nmbr">32</span>К</p>
					</td>
					<td>
					<p><span class="nmbr">8</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">140000</span> – <span class="nmbr">157777</span></p>
					</td>
					<td>
					<p>Не используется</p>
					</td>
					<td>
					<p><span class="nmbr">8</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">160000</span> – <span class="nmbr">177377</span></p>
					</td>
					<td>
					<p>Не используется</p>
					</td>
					<td>
					<p><span class="nmbr">7</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">177400</span> – <span class="nmbr">177777</span></p>
					</td>
					<td>
					<p>область системных регистров</p>
					</td>
					<td>
					<p><span class="nmbr">0</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
			</table>
			<p>Для подключения заданной страницы памяти нужно записать номер страницы 
			по адресам <span class="nmbr">100000</span>-<span class="nmbr">117777</span>. 
			Всего <span class="nmbr">4</span> страницы: <span class="nmbr">0</span>,<span class="nmbr">1</span>,<span class="nmbr">2</span>,<span class="nmbr">3</span>. 
			Но на самом деле можно записывать вообще любое число, значимы только 
			два младших бита этого числа, остальные игнорируются.</p>
			</dd>
			<dt><span class="menu">Старт БК 0010-01 + стандартный КНГМД</span></dt>
			<dd>
			<p>– запуск БК 0010-01 со стандартным контроллером НГМД и блоком ДОЗУ
			<span class="nmbr">16</span> Кб. В этой конфигурации эмулируется БК 
			с подключённым к ней стандартным контроллером НГМД. Максимальное число 
			приводов для данного контроллера - <span class="nmbr">4</span>. Их имена &laquo;<span class="cmdm">A:</span>&raquo; 
			и &laquo;<span class="cmdm">B:</span>&raquo;, &laquo;<span class="cmdm">C:</span>&raquo; 
			и &laquo;<span class="cmdm">D:</span>&raquo;. Соответствующие имена 
			образов дисков можно указать в файле &laquo;<span class="selc">bk.ini</span>&raquo;. 
			Имена ключей: &laquo;<span class="selb">Drive A:</span>&raquo;, &laquo;<span class="selb">Drive 
			B:</span>&raquo;, &laquo;<span class="selb">Drive C:</span>&raquo; и &laquo;<span class="selb">Drive 
			D:</span>&raquo;.</p>
			</dd>
			<dt><span class="menu">Старт БК 0010-01 + контроллер A16M</span></dt>
			<dd>
			<p>– запуск БК 0010-01 с контроллером НГМД <b>А16М</b> и блоком ДОЗУ
			<span class="nmbr">16</span> Кб. В этой конфигурации эмулируется БК 
			с подключённым к ней контроллером <b>А16М</b>. Максимальное число приводов 
			для данного контроллера - <span class="nmbr">2</span>. Их имена &laquo;<span class="cmdm">A:</span>&raquo; 
			и &laquo;<span class="cmdm">B:</span>&raquo;. Соответствующие имена 
			образов дисков можно указать в файле &laquo;<span class="selc">bk.ini</span>&raquo;. 
			Имена ключей: &laquo;<span class="selb">Drive A:</span>&raquo;, &laquo;<span class="selb">Drive 
			B:</span>&raquo;. Ключи &laquo;<span class="selb">Drive C:</span>&raquo; 
			и &laquo;<span class="selb">Drive D:</span>&raquo; игнорируются. Обычно 
			образ диска имеет расширение &laquo;<span class="var">.img</span>&raquo; 
			или &laquo;<span class="var">.bkd</span>&raquo;, но может иметь и другое 
			расширение. Естественно, что для загрузки операционной системы диск 
			должен быть загрузочным. Все изменения, правила запуска файлов и работы 
			с ними читайте в руководстве к конкретной операционной системе. Начальная 
			карта памяти: </p>
			<table class="border cllct">
				<tr>
					<th>Адреса</th>
					<th>Описание</th>
					<th>Объём Кб.</th>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">000000</span> – <span class="nmbr">000377</span></p>
					</td>
					<td>
					<p>прерывания и системные данные</p>
					</td>
					<td>
					<p><span class="nmbr">0</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">000400</span> – <span class="nmbr">037777</span></p>
					</td>
					<td>
					<p>ОЗУ пользовательской программы</p>
					</td>
					<td>
					<p><span class="nmbr">15</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">040000</span> – <span class="nmbr">077777</span></p>
					</td>
					<td>
					<p>ОЗУ экрана</p>
					</td>
					<td>
					<p><span class="nmbr">16</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">100000</span> – <span class="nmbr">117777</span></p>
					</td>
					<td>
					<p>Монитор</p>
					</td>
					<td>
					<p><span class="nmbr">8</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">120000</span> – <span class="nmbr">137777</span></p>
					</td>
					<td>
					<p><span class="nmbr">1</span>-я страница расширенного ОЗУ НГМД</p>
					</td>
					<td>
					<p><span class="nmbr">8</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">140000</span> – <span class="nmbr">157777</span></p>
					</td>
					<td>
					<p><span class="nmbr">2</span>-я страница расширенного ОЗУ НГМД</p>
					</td>
					<td>
					<p><span class="nmbr">8</span>.<span class="nmbr">0</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">160000</span> – <span class="nmbr">176777</span></p>
					</td>
					<td>
					<p>ПЗУ контроллера НГМД</p>
					</td>
					<td>
					<p><span class="nmbr">7</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
				<tr>
					<td>
					<p><span class="nmbr">177000</span> – <span class="nmbr">177777</span></p>
					</td>
					<td>
					<p>область системных регистров</p>
					</td>
					<td>
					<p><span class="nmbr">0</span>.<span class="nmbr">5</span></p>
					</td>
				</tr>
			</table>
			<p>В соответствии с режимами <b>А16М</b> карта памяти может изменяться.</p>
			</dd>
			<dt><span class="menu">Старт БК 0010(01) + контроллер СМК-512</span></dt>
			<dd>
			<p>– запуск БК 0010-01 с контроллером НГМД <b>СМК-512</b> и блоком ДОЗУ
			<span class="nmbr">512</span> Кб с поддержкой винчестера. Количество 
			дисководов здесь <span class="nmbr">2</span>, &laquo;<span class="cmdm">A:</span>&raquo; 
			и &laquo;<span class="cmdm">B:</span>&raquo;, значения ключей &laquo;<span class="selb">Drive 
			C:</span>&raquo; и &laquo;<span class="selb">Drive D:</span>&raquo; 
			игнорируются, т.к. приоритет отдан винчестеру.</p>
			</dd>
			<dt><span class="menu">Старт БК 0010(01) + контроллер Samara</span></dt>
			<dd>
			<p>– запуск БК 0010-01 со стандартным контроллером НГМД и блоком ДОЗУ
			<span class="nmbr">16</span> Кб и самарским контроллером винчестера. 
			Количество дисководов здесь <span class="nmbr">2</span>, &laquo;<span class="cmdm">A:</span>&raquo; 
			и &laquo;<span class="cmdm">B:</span>&raquo;, значения ключей &laquo;<span class="selb">Drive 
			C:</span>&raquo; и &laquo;<span class="selb">Drive D:</span>&raquo; 
			игнорируются, т.к. приоритет отдан винчестеру. Конфигурация работоспособна, 
			но при наличии более удобных контроллеров АльтПро представляет чисто 
			академический интерес.</p>
			</dd>
			<dt><span class="menu">Старт БК 0011 + МСТД</span></dt>
			<dd>
			<p>– Запуск БК 0011 в стандартной конфигурации + блок тестов МСТД, для 
			запуска тестов надо набрать <span class="symb">160000G</span>. Для запуска 
			бейсика надо набрать <span class="symb">11;1C<img alt="" height="20" src="img/kbd/kbenter.png" width="35">100000G</span>.</p>
			</dd>
			<dt><span class="menu">Старт БК 0011 + стандартный КНГМД</span></dt>
			<dd>
			<p>– Запуск БК 0011 с контроллером НГМД с прошивкой
			<span class="nmbr">253</span>. Но из-за отсутствия софта, эта конфигурация 
			малополезна. Вообще, БК 0011 добавлен для того, чтобы иметь представление, 
			что это такое. </p>
			</dd>
			<dt><span class="menu">Старт БК 0011 + контроллер A16M</span></dt>
			<dd>
			<p>– Запуск БК 0011 с контроллером НГМД <b>А16М</b> и блоком ДОЗУ
			<span class="nmbr">16</span> Кб. Для запуска этой конфигурации необходимо 
			при старте удерживать нажатой клавишу &laquo;<span class="symb">4</span>&raquo;, 
			для перехода в БОС БК11 и загрузки с дискеты вручную. Работоспособность 
			не гарантируется, потому что контроллеры АльтПро не рассчитаны на работу 
			с компьютерами БК 0011.</p>
			</dd>
			<dt><span class="menu">Старт БК 0011 + контроллер СМК-512</span></dt>
			<dd>
			<p>– Запуск БК 0011М с контроллером НГМД <b>СМК-512</b> и блоком ДОЗУ
			<span class="nmbr">512</span> Кб с поддержкой винчестера. Для запуска 
			этой конфигурации необходимо удерживать нажатыми клавиши &laquo;<span class="symb">Шифт</span>&raquo;+&laquo;<span class="symb">4</span>&raquo;, 
			для перехода в БОС БК11 и загрузки с дискеты вручную. Работоспособность 
			не гарантируется, потому что контроллеры АльтПро не рассчитаны на работу 
			с компьютерами БК 0011.</p>
			</dd>
			<dt><span class="menu">Старт БК 0011 + контроллер Samara</span></dt>
			<dd>
			<p>– Запуск БК 0011 со стандартным контроллером НГМД с прошивкой
			<span class="nmbr">253</span> и самарским контроллером винчестера. Конфигурация 
			работоспособна, но из-за отсутствия софта, эта конфигурация малополезна 
			и представляет чисто академический интерес.</p>
			</dd>
			<dt><span class="menu">Старт БК 0011М + МСТД</span></dt>
			<dd>
			<p>– Запуск БК 0011М в стандартной конфигурации + блок тестов МСТД, 
			для запуска тестов надо выйти из бейсика в монитор и набрать
			<span class="symb">160000G</span>.</p>
			</dd>
			<dt><span class="menu">Старт БК 0011М + стандартный КНГМД</span></dt>
			<dd>
			<p>– Запуск БК 0011М с контроллером НГМД с прошивкой
			<span class="nmbr">326</span>.</p>
			</dd>
			<dt><span class="menu">Старт БК 0011М + контроллер A16M</span></dt>
			<dd>
			<p>– Запуск БК 0011М с контроллером НГМД <b>А16М</b> и блоком ДОЗУ
			<span class="nmbr">16</span> Кб.</p>
			</dd>
			<dt><span class="menu">Старт БК 0011М + контроллер СМК-512</span></dt>
			<dd>
			<p>– Запуск БК 0011М с контроллером НГМД <b>СМК-512</b> и блоком ДОЗУ
			<span class="nmbr">512</span> Кб с поддержкой винчестера.</p>
			</dd>
			<dt><span class="menu">Старт БК 0011М + контроллер Samara</span></dt>
			<dd>
			<p>– Запуск БК 0011М со стандартным контроллером НГМД с прошивкой
			<span class="nmbr">326</span> и самарским контроллером винчестера. Здесь 
			более интересно, поскольку софт для контроллера работает только из-под 
			CSIDOS.</p>
			</dd>
		</dl>
		<h3><a name="toc_p4_7"></a>Меню &laquo;Управление&raquo;</h3>
		<p><img alt="Меню Управление" src="img/bkemu/menu_control.png"></p>
		<dl>
			<dt><span class="menu">Рестарт БК</span></dt>
			<dd>
			<p>– перезагрузка БК. При выборе данного пункта меню перезапускается 
			текущая конфигурация эмулятора, при этом осуществляется так называемый &laquo;мягкий&raquo; 
			перезапуск, т.е. не происходит полной потери данных в памяти БК и её 
			регистрах. Выполнение программ начинается с адреса, заданного в старших 
			битах регистра <span class="nmbr">177716</span>. На реальной БК10 это 
			значение равно <span class="nmbr">100000</span>, БК11(М) -
			<span class="nmbr">140000</span>. При необходимости его можно поменять 
			в файле конфигурации &laquo;<span class="selc">bk.ini</span>&raquo;, 
			изменив значение ключа &laquo;<span class="selb">CPU start address</span>&raquo;. 
			По умолчанию, значение в файле конфигурации равно <span class="nmbr">
			0</span>, т.е. берётся стандартный адрес из соответствующей конфигурации. 
			После перезагрузки восстанавливается конфигурация, а также все точки 
			останова.</p>
			<p>Реализована модификация <span class="selc">СУ</span>+<span class="selc">Ресет</span>. 
			Это когда на БК 0011(М) необходимо перезагрузиться по адресу
			<span class="nmbr">100000</span>. Для этого необходимо удерживать нажатой 
			клавишу <span class="selc">СУ</span> (<span class="selc">Ctrl</span>) 
			при выполнении команды <span class="menu">Рестарт БК</span> <b>только</b> 
			из панели инструментов. Данная модификация не работает с контроллерами
			<b>А16М</b> и <b>СМК-512</b>, т.к. эти контроллеры помещают в регистр
			<span class="nmbr">177716</span> свои стартовые значения.</p>
			</dd>
			<dt><span class="menu">СУ+Рестарт БК</span></dt>
			<dd>
			<p>– перезагрузка БК 0011(М) с адреса <span class="nmbr">100000</span>. 
			Специальный пункт меню для поддержки эмуляции модификации
			<span class="selc">СУ</span>+<span class="selc">Ресет</span>, для того, 
			чтобы можно было перезагрузиться так же из меню &laquo;<b>Конфигурация</b>&raquo;, 
			и с помощью комбинации горячих клавиш, а не только кликая мышкой по 
			иконке на панели инструментов.</p>
			</dd>
			<dt><span class="menu">Длинный рестарт БК</span></dt>
			<dd>
			<p>– специальный режим перезапуска <b>только</b> для контроллера <b>
			А16М</b>. Работает <b>только</b> в конфигурациях с контроллером <b>А16М</b>, 
			в остальных конфигурациях полностью аналогичен пункту
			<span class="menu">Рестарт БК</span>. На контроллере <b>А16М</b> обычный 
			ресет работает, как описано выше, но если нужно, чтобы перезапуск начинался 
			со старта ПЗУ <b>АльтПро</b>, где обрабатываются специальные комбинации 
			клавиш и происходит установка режима работы контроллера <b>А16М</b>, 
			то необходим длинный ресет. На реальном устройстве - пятисекундное удержание 
			кнопки Ресет перед тем, как её отпустить.</p>
			</dd>
			<dt><span class="menu">IRQ2 (Прерывание по вектору 100)</span></dt>
			<dd>- Выдать единичный импульс на вход процессора IRQ2. Сгенерируется 
			прерывание по вектору 100. Результат будет зависеть от того, задан ли 
			обработчик вектора прерывания.</dd>
			<dt><span class="menu">IRQ3 (Прерывание по вектору 270)</span></dt>
			<dd>- Выдать единичный импульс на вход процессора IRQ3. Сгенерируется 
			прерывание по вектору 270. Результат будет зависеть от того, задан ли 
			обработчик вектора прерывания.</dd>
			<dt><span class="menu">Ускорить</span></dt>
			<dd>
			<p>– увеличить частоту процессора на величину, зависящую от комбинации 
			нажатых клавиш-модификаторов <span class="selc">Shift</span>,
			<span class="selc">Ctrl</span>, <span class="selc">Alt</span>. По умолчанию, 
			среднее количество команд, обрабатываемых процессором, составляет
			<span class="nmbr">250&nbsp;000</span> в секунду, что соответствует 
			реальной скорости БК.</p>
			<p><span class="attnt">Примечание</span>: скорость воспроизведения файлов 
			с ленты БК остаётся строго постоянной. По этой причине сильное изменение 
			скорости процессора может привести к генерации <span class="var">.wav</span> 
			файла, который потом никак и ничем невозможно будет прочитать.</p>
			</dd>
			<dt><span class="menu">Замедлить</span></dt>
			<dd>
			<p>– уменьшить частоту процессора на величину, зависящую от комбинации 
			нажатых клавиш-модификаторов <span class="selc">Shift</span>,
			<span class="selc">Ctrl</span>, <span class="selc">Alt</span>. По умолчанию, 
			среднее количество команд, обрабатываемых процессором, составляет
			<span class="nmbr">250&nbsp;000</span> в секунду, что соответствует 
			реальной скорости БК.</p>
			<p><span class="attnt">Примечание</span>: скорость воспроизведения файлов 
			с ленты БК остаётся строго постоянной. По этой причине сильное изменение 
			скорости процессора может привести к ошибкам чтения.</p>
			</dd>
			<dt><span class="menu">Стандартная скорость</span></dt>
			<dd>
			<p>– установить частоту, заданную конфигурацией БК. Это будет либо частота 
			конфигурации по умолчанию - для БК 0010(01) это <span class="nmbr">3</span> 
			МГц, для БК 0011(М) - <span class="nmbr">4</span> МГц, либо частота, 
			заданная пользователем. Частоту по умолчанию можно переопределить в 
			файле &laquo;<span class="selc">bk.ini</span>&raquo; в ключе &laquo;<span class="selb">CPU 
			frequency</span>&raquo;. Этот ключ переопределяет частоту процессора 
			заданной конфигурации, если определён в кастомной секции, либо глобально, 
			частоту всех конфигураций, если задан в основной секции. Значение по 
			умолчанию - <span class="nmbr">0</span>, что означает, что берётся предопределённое 
			значение частоты из конфигурации. Своё значение следует задавать в герцах.</p>
			</dd>
			<dt><span class="menu">Максимальная скорость</span></dt>
			<dd>
			<p>– установить максимально возможную частоту, которую позволяет эмуляция. 
			Это кнопка-переключатель, т.е. нажатие - включает максимальную частоту, 
			а отжатие - выключает и возвращает то значение, которое было до нажатия 
			кнопки.</p>
			</dd>
		</dl>
		<p>Для пунктов меню <span class="menu">Ускорить</span> и
		<span class="menu">Замедлить</span>, горячих клавиш для них, а так же дублирующих 
		их кнопок на панели дампа регистров действуют следующие модификаторы:</p>
		<ul>
			<li>Без модификаторов: &plusmn; <span class="nmbr">1000</span> Гц (<span class="nmbr">1</span> 
			кГц)</li>
			<li><span class="selc">Shift</span>: &plusmn; <span class="nmbr">1</span> 
			Гц </li>
			<li><span class="selc">Ctrl</span>: &plusmn; <span class="nmbr">10</span> 
			Гц </li>
			<li><span class="selc">Ctrl</span>+<span class="selc">Shift</span>: &plusmn;
			<span class="nmbr">100</span> Гц </li>
			<li><span class="selc">Alt</span>: &plusmn; <span class="nmbr">1</span> 
			МГц </li>
			<li><span class="selc">Alt</span>+<span class="selc">Shift</span>: &plusmn;
			<span class="nmbr">10000</span> Гц (<span class="nmbr">10</span> кГц)</li>
			<li><span class="selc">Ctrl</span>+<span class="selc">Alt</span>: &plusmn;
			<span class="nmbr">100000</span> Гц (<span class="nmbr">100</span> кГц)</li>
			<li><span class="selc">Ctrl</span>+<span class="selc">Alt</span>+<span class="selc">Shift</span>: 
			*<span class="nmbr">10</span> или /<span class="nmbr">10</span> текущую 
			частоту</li>
		</ul>
		<h3><a name="toc_p4_3"></a>Меню &laquo;Опции&raquo;</h3>
		<p><img alt="Меню Опции" src="img/bkemu/menu_options.png"></p>
		<p><img alt="Меню Опции" src="img/bkemu/menu_options2.png"></p>
		<dl>
			<dt><span class="menu">Настройки эмулятора</span></dt>
			<dd>
			<p>– Открывается диалог, в котором можно изменить через пользовательский 
			интерфейс, а не только вручную практически все параметры опций и настроек 
			эмулятора.</p>
			<p>В первой вкладке, "<span class="selc">Приводы и параметры</span>" 
			можно задать образы дискет и HDD для заданной конфигурации. И изменить 
			несколько параметров.</p>
			<p>Адрес начального запуска - это адрес, который подменяет стартовый 
			адрес из регистра <span class="nmbr">177716</span>, т.е. значимый там 
			только старший байт, младший байт игнорируется. Число
			<span class="nmbr">0</span> означает, что будет использовано стандартное 
			значение по умолчанию для заданной конфигурации. Адрес записывается 
			в восьмеричной системе счисления.</p>
			<p>Начальная частота процессора - это частота, которая подменяет стандартную 
			рабочую частоту. Число <span class="nmbr">0</span> означает, что будет 
			использовано стандартное значение по умолчанию для заданной конфигурации.</p>
			<p>Адрес дизассемблера и адрес дампа памяти - значения из соответствующих 
			окон. Задаются в восьмеричном виде. Эти два параметра не требуют перезапуска 
			конфигурации, все остальные - требуют. Адрес дампа памяти задаётся только 
			для первого окна дампа, как задавать для всех окон, я пока не придумал.</p>
			<p class="picttl">
			<img alt="Настройки эмулятора" src="img/bkemu/bksettings1.png" style="max-width: 100%;"></p>
			<p class="picttl">Рис.5. Диалог настроек эмулятора.</p>
			<p>Во второй вкладке можно изменить тип рендера, частоту дискретизации 
			звука, модель музыкального сопроцессора и его рабочую частоту. А также 
			некоторые другие параметры.</p>
			<p>Рабочую частоту можно выбрать как из заданного списка, так и вручную, 
			вписав своё значение. Все значения меньше <span class="nmbr">1</span> 
			МГц и больше <span class="nmbr">2</span> МГц заменяются на частоту по 
			умолчанию <span class="nmbr">1714286</span> Гц.</p>
			<p>Чекбокс "<span class="selc">Большие иконки панели инструментов</span>" 
			влияет на пользовательский интерфейс программы и требует перезапуска 
			всего эмулятора.</p>
			<p class="picttl">
			<img alt="Настройки эмулятора" src="img/bkemu/bksettings2.png" style="max-width: 100%;"></p>
			<p class="picttl">Рис.6. Диалог настроек эмулятора.</p>
			<p>Это единственное место, кроме ручной правки ini файла, где можно 
			включить/выключить поддержку конфигурации 2хAY.</p>
			<p>Чекбокс "<span class="selc">Большие иконки панели инструментов</span>" 
			влияет на пользовательский интерфейс программы и требует перезапуска 
			всего эмулятора.</p>
			<p>Чекбокс "<span class="selc">Дата и Время вместо номера</span>" меняет 
			формат имени файла скриншота. Вместо инкрементного номера будет задаваться 
			штамп времени.</p>
			<p>В третьей вкладке можно изменить текущие опции, которые доступны 
			в меню "<span class="menu">Опции</span>" и "<span class="menu">Вид</span>" 
			и некоторые параметры. Все они не требуют перезагрузки конфигурации.</p>
			<p class="picttl">
			<img alt="Настройки эмулятора" src="img/bkemu/bksettings3.png" style="max-width: 100%;"></p>
			<p class="picttl">Рис.7. Диалог настроек эмулятора.</p>
			<p>Кнопка "<span class="selc">ОК, Всё устраивает</span>" - это отмена 
			всех сделанных изменений и закрытие диалога. Кнопка "<span class="selc">Сохранить 
			изменения</span>" вызывает либо просто изменение значений опций, либо 
			перезапуск конфигурации, всё зависит от типа изменённого параметра.</p>
			</dd>
			<dt><span class="menu">Редактор Палитр</span></dt>
			<dd>
			<p>- опция вызывает диалог редактирования палитр. Для тех, кому не нравится 
			стандартный набор цветов и хочется чего-то такого этакого.</p>
			<p class="picttl">
			<img alt="Диалог редактирования палитр" src="img/bkemu/palette_edit.png"></p>
			<p class="picttl">Рис.8. Диалог редактирования палитр.</p>
			<p>Можно раздельно задать разные палитры для стандартного чёрно-белого 
			режима и для адаптивного, хотя это фактически не верно, просто есть 
			такая возможность в принципе. Но пресеты палитр из выпадающего списка 
			задают один пресет для обеих чёрно-белых палитр одновременно, потому 
			что чёрно-белый режим один.</p>
			<p>Для каждой конфигурации сохраняется свой набор изменённых палитр.</p>
			<p>Так же, есть возможность сохранять настройки палитр в отдельный файл. 
			Это обычный ini файл, и в нём сохраняются настройки палитр в точно таком 
			же виде, как и в файле настроек <span class="selc">bk.ini</span>. Палитры 
			сохраняются в директорию по умолчанию <span class="cmdk">UserSaves</span>.</p>
			</dd>
			<dt><span class="menu">Редактор Джойстика</span></dt>
			<dd>
			<p>- опция вызывает диалог редактирования управляющих клавиш джойстика.</p>
			<p class="picttl">
			<img alt="Диалог редактора джойстика" src="img/bkemu/joysettings.png"></p>
			<p class="picttl">Рис.9. Диалог редактирования настроек джойстика.</p>
			<p>Клик мышкой в поле названия клавиши - задать свою клавишу, в выпадающем 
			списке можно задать свой набор битов в порту <span class="nmbr">177714</span> 
			для каждого действия джойстика. Никаких проверок ни на что не делается. 
			Если задать клавишу, которая назначена горячей клавишей в меню, то вызов 
			меню имеет приоритет и клавиша джойстика работать не будет.</p>
			</dd>
			<dt><span class="menu">Включить Speaker</span></dt>
			<dd>
			<p>– данная опция включает эмуляцию динамика реальной БК через звуковую 
			карту. Обновление звуковых буферов осуществляется <span class="nmbr">
			50</span> раз в секунду. При этом звук довольно хорошо синхронизирован 
			с изображением на экране, т.е., например, между каким-то событием в 
			игре и звуком задержка порядка <span class="nmbr">20</span> мс, что 
			естественно не улавливается на слух. При этом, на медленных компьютерах 
			(зависит не только от компьютера, но и от звуковой карты) могут быть 
			слышны трески и хрипы.</p>
			</dd>
			<dt><span class="menu">Включить Covox</span></dt>
			<dd>
			<p>- опция включает <span class="selc">Covox</span>. При этом если был 
			включён <span class="selc">AY-3-8910</span> или <span class="selc">Менестрель</span>, 
			они выключаются.</p>
			</dd>
			<dt><span class="menu">Stereo Covox</span></dt>
			<dd>
			<p>- переключает виды ковоксов моно или стерео. В моно ковоксе используется 
			только младший байт, при этом зачастую в старшем байте оказывается мусор. 
			В стерео ковоксе используются оба байта, младший - левый канал, старший 
			- правый канал.</p>
			</dd>
			<dt><span class="menu">Включить Менестрель</span></dt>
			<dd>
			<p>- опция включает музыкальную приставку <span class="selc">Менестрель</span>. 
			При этом если был включён <span class="selc">Covox</span> или
			<span class="selc">AY-3-8910</span>, они выключаются.</p>
			</dd>
			<dt><span class="menu">Включить AY8910</span></dt>
			<dd>
			<p>- опция включает музыкальный сопроцессор <span class="selc">AY-3-8910</span>. 
			При этом если был включён <span class="selc">Covox</span> или
			<span class="selc">Менестрель</span>, они выключаются.</p>
			</dd>
			<dt><span class="menu">Дамп регистров AY8910</span></dt>
			<dd>
			<p>- опция включает дамп регистров AY в файл в формате
			<span class="selc">PSG</span>. Регистры дампятся в файл, пока включена 
			эта опция. Поэтому, если случайно включить её и забыть, можно получить 
			очень большой ненужный файл. Файл дампа сохраняется в директорию, заданную 
			параметром &laquo;<span class="selb">User Saves directory</span>&raquo;, 
			по умолчанию это <span class="selc">UserSaves</span>.</p>
			</dd>
			<dt><span class="menu">Параметры AY8910</span></dt>
			<dd>
			<p>- опция вызывает диалог настроек параметров AY-3-8910: панорамирование 
			каналов в стерео диапазоне и регулировку локальной громкости каналов, 
			чтобы отрегулировать уровень звучания каналов относительно друг друга.
			</p>
			<p class="picttl">
			<img alt="Диалог настроек AY-3-8910" src="img/bkemu/aysettings.png"></p>
			<p class="picttl">Рис.10. Диалог настроек AY-3-8910.</p>
			<p>Для удобства ориентирования, под ползунками громкости отображается 
			относительный уровень в процентах. А справа от ползунков панорамирования 
			отображается процентное соотношение уровня громкости в левом и правом 
			каналах. Для каждой конфигурации сохраняются свои параметры.</p>
			<p>Эти параметры применяются к заданному AY на лету, мгновенно. Если 
			второй AY выключен в настройках, то результата изменений не услышать, 
			но они тоже сохранятся в настройках.</p>
			<p>Кнопка &quot;Отмена&quot; отменяет все сделанные изменения и возвращает 
			то состояние, которое было до вызова этого диалога. Кнопка &quot;ОК&quot; 
			фиксирует сделанные изменения</p>
			<p>Кнопка &quot;Вернуть&quot; возвращает те положения ползунков, которые 
			были на момент вызова этого диалога.</p>
			<p>Кнопка &quot;По умолч.&quot; устанавливает заданные параметры по 
			умолчанию.</p>
			<p>Каждой группе ползунков соответствует свой набор кнопок.</p>
			</dd>
			<dt><span class="menu">Фильтры</span></dt>
			<dd>
			<dl>
				<dt><span class="menu">Speaker</span></dt>
				<dd>
				<p>- включить фильтрацию звука пищалки. При включённом фильтре чтение/запись 
				программ из/в &laquo;<span class="var">.wav</span>&raquo; файлов 
				чаще всего становится невозможным. т.к. вносятся серьёзные искажения, 
				с которыми алгоритмы эмулятора не справляются.</p>
				</dd>
				<dt><span class="menu">Covox</span></dt>
				<dd>
				<p>- включить фильтрацию звука ковокса. Вот тут фильтрация особенно 
				полезна.</p>
				</dd>
				<dt><span class="menu">Менестрель</span></dt>
				<dd>
				<p>- включить фильтрацию звука Менестреля. На данный момент, фильтрация 
				практически не заметна, т.к. сама эмуляция менестреля плохо работает.</p>
				</dd>
				<dt><span class="menu">AY8910</span></dt>
				<dd>
				<p>- включить фильтрацию звука музыкального сопроцессора <b>AY-3-8910</b>. 
				На любителя, кому-то нравится отфильтрованный звук, кому-то - нет.</p>
				</dd>
			</dl>
			</dd>
			<dt><span class="menu">Коррекция смещения</span></dt>
			<dd>
			<p>Группа опций, включающая коррекцию смещения постоянного тока для 
			заданных звуковых устройств. Для некоторых - полезная штука, для других 
			- нет.</p>
			<dl>
				<dt><span class="menu">Speaker</span></dt>
				<dd>
				<p>- включить коррекцию DC пищалки. Очень нежелательная вещь, если 
				планируется запись программ в виде &laquo;<span class="var">.wav</span>&raquo; 
				файлов. Обратное чтение таких программ эмулятором становится затруднено 
				из-за несовершенства алгоритма парсинга &laquo;<span class="var">.wav</span>&raquo; 
				файлов.</p>
				</dd>
				<dt><span class="menu">Covox</span></dt>
				<dd>
				<p>- включить коррекцию DC ковокса. Вот тут становится даже лучше, 
				чем без коррекции.</p>
				</dd>
				<dt><span class="menu">Менестрель</span></dt>
				<dd>
				<p>- включить коррекцию DC Менестреля. Здесь оно работает как-то 
				неправильно.</p>
				</dd>
				<dt><span class="menu">AY8910</span></dt>
				<dd>
				<p>- включить коррекцию DC музыкального сопроцессора <b>AY-3-8910</b>. 
				На любителя, включение приводит лишь к дополнительным искажениям.</p>
				</dd>
			</dl>
			</dd>
			<dt><span class="menu">Эмулировать клавиатуру БК</span></dt>
			<dd>
			<p>– опция задаёт, будет ли эмулироваться реальное поведение клавиатуры 
			БК. Если данная опция включена, то клавиатура ПК начинает работать также, 
			как и реальная клавиатура БК, т.е. при нажатии любой клавиши в мониторе 
			автоповтора не происходит, а обработка кода новой клавиши не производится, 
			пока не будет отпущена старая. Действие клавиши <span class="selc">Шифт</span>: 
			в режиме Лат.Стр. делает Лат.Загл., в режиме Лат.Загл. действия не оказывает; 
			в режиме Рус.Стр. действия не оказывает, в режиме Рус.Загл. делает Рус.Стр.</p>
			<p>При выключенной опции автоповтор работает стандартным образом, а 
			клавиатура ведёт себе так же, как в <span class="selc">Windows</span>, 
			клавиша <span class="selc">Шифт</span> является модификатором и делает 
			регистр противоположным: из строчных букв делает заглавные, а из заглавных 
			- строчные.</p>
			</dd>
			<dt><span class="menu">Стандартное переключение РУС/ЛАТ</span></dt>
			<dd>
			<p>– опция задаёт способ переключения раскладки клавиатуры БК. Если 
			включена, то действует классическая схема: левая клавиша Windows - клавиша 
			РУС, правая клавиша Windows - клавиша ЛАТ. Это нужно тем людям, у которых 
			на клавиатуре две клавиши Windows, и которые пользуются программами 
			БК, в которых на клавиши РУС/ЛАТ назначены разные действия.</p>
			<p>Если опция выключена, то любая клавиша Windows действует как переключатель 
			раскладки. Это нужно тем людям, у которых на клавиатуре осталась только 
			одна клавиша Windows, и они не имеют возможности найти и использовать 
			старую добрую классическую 104-кнопочную клавиатуру ПК.</p>
			</dd>
			<dt><span class="menu">Включить джойстик</span></dt>
			<dd>
			<p>– опция включает эмуляцию джойстика. Включение данной опции рекомендуется 
			в играх, поддерживающих джойстик. При этом в играх становится возможной 
			обработка нажатия нескольких клавиш одновременно, что делает управление 
			более комфортным. При настройках по умолчанию, клавиши, эмулирующие 
			джойстик, эмулируются на дополнительной клавиатуре (при выключенном
			<span class="selc">NumLock</span>):</p>
			<ul>
				<li><span class="selc">NumPad 6</span> – вправо</li>
				<li><span class="selc">NumPad 4</span> – влево</li>
				<li><span class="selc">NumPad 2</span> – вниз</li>
				<li><span class="selc">NumPad 8</span> – вверх</li>
				<li><span class="selc">NumPad 7</span> – кнопка 1</li>
				<li><span class="selc">NumPad 9</span> – кнопка 2</li>
				<li><span class="selc">NumPad 5</span> – кнопка 3</li>
				<li><span class="selc">NumPad 1</span> – кнопка 4</li>
				<li><span class="selc">NumPad 3</span> – кнопка 5 </li>
			</ul>
			<p>Либо задаются свои произвольные в диалоге настройки джойстика. Если 
			при этом клавишей джойстика назначена клавиша, заданная горячей клавишей 
			для меню, то для джойстика она работать не будет.</p>
			<p><span class="attnt">Примечание</span>: Включение джойстика отключает
			<span class="selc">Блок нагрузок</span>, если он был подключён. При 
			выключении джойстика <span class="selc">Блок нагрузок</span> обратно 
			сам не подключается, его необходимо включать вручную.</p>
			</dd>
			<dt><span class="menu">Включить Блок нагрузок</span></dt>
			<dd>
			<p>– специально для прохождения отладочных тестов БК 0010(11) сделана 
			эмуляция блока нагрузок, заключающаяся в простой передаче данных из 
			выходного порта УП, во входной. При этом два раздельных порта: порт 
			ввода и порт вывода объединяются в один порт ввода-вывода, в котором 
			хранится 16-разрядное слово, доступное для чтения и записи, как в обычной 
			ячейке памяти.</p>
			<p><span class="attnt">Примечание</span>: Включение Блока нагрузок отключает 
			джойстик, если он был включён, и не включает его обратно, при выключении 
			блока нагрузок, джойстик при необходимости потом нужно включать вручную.</p>
			</dd>
			<dt><span class="menu">Эмулировать ввод-вывод дисковода</span></dt>
			<dd>
			<p>– опция включает эмуляцию функции чтения-записи блока на дискету. 
			Включение существенно ускоряет скорость обмена с дисководом. При выключении 
			опции скорость чтения-записи становится такой же медленной, как на настоящем 
			дисководе и происходит с помощью эмуляции портов контроллера дисковода
			<span class="nmbr">177130</span>, <span class="nmbr">177132</span> и 
			вращения дискеты.</p>
			<p>При эмуляции производится проверка ПЗУ КНГМД, и если оно нестандартное, 
			то эмуляции не происходит, несмотря на то, что опция включена.</p>
			<p>Как это работает. Определяется тип прошивки <span class="nmbr">253</span> 
			или <span class="nmbr">326</span>, все ПЗУ АльтПро совместимы с
			<span class="nmbr">326</span>, т.к. все п/п находятся на своих местах, 
			поэтому на них перехват также работает. Но с единственным отличием - 
			перехват работает, только если ПЗУ АльтПро подключено. В режимах, когда 
			оно отключено, перехват, естественно, не может работать.</p>
			<p>Для прошивки <span class="nmbr">326</span> перехват начинается 
			с адреса <span class="nmbr">160372</span>, и затем управление передаётся 
			на адрес <span class="nmbr">161564</span>.</p>
			<p>Для прошивки <span class="nmbr">253</span> перехват начинается 
			с адреса <span class="nmbr">160422</span>, и затем управление передаётся 
			на адрес <span class="nmbr">161540</span>.</p>
			<p>Если эта опция включена, то, как только значение регистра
			<span class="regn">PC</span> становится равным адресу перехвата, то 
			вместо эмуляции команд процессора вызывается функция эмуляции ввода-вывода 
			дисковода. По окончании работы функции управление передаётся на адрес 
			конца перехвата и далее продолжается обычная работа по эмуляции команд 
			процессора. Если во время работы функции эмуляции возникнет нештатная 
			ситуация - например попытка записи в ПЗУ или туда, где нет ОЗУ, или 
			чтение из участка, где нет ОЗУ, то выполнение функции прерывается и 
			возникает прерывание по вектору <span class="nmbr">4</span>, всё в точности 
			как было бы и при обычном покомандном выполнении программы. </p>
			</dd>
			<dt><span class="menu">Исп. папку Saves по умолчанию (Basic или Focal)</span>
			</dt>
			<dd>
			<p>– использовать директорию <span class="cmdk">UserSaves</span> как 
			директорию для чтения файлов по умолчанию. По умолчанию, если данная 
			опция не установлена, чтение файлов происходит из текущей директории, 
			если программа запущена из командной строки (указана в строке параметров, 
			или просто запущена двойным щелчком) или из директории
			<span class="cmdk">Bin</span>, если эмулятор запущен без параметров. 
			Сохранение файлов, по умолчанию, производится в каталог
			<span class="cmdk">UserSaves</span>. Данный путь содержится в файле &laquo;<span class="selc">bk.ini</span>&raquo;, 
			ключ &laquo;<span class="selb">User Saves directory</span>&raquo;. В 
			том случае, если вы постоянно сохраняете и загружаете файлы, установка 
			данной опции изменит папку по умолчанию на <span class="cmdk">UserSaves</span>.</p>
			</dd>
			<dt><span class="menu">Эмулировать загрузку ленты</span></dt>
			<dd>
			<p>– данный пункт включает или выключает загрузку данных с кассет БК. 
			Если данная опция включена, то при обращении к <span class="cmds">EMT
			<span class="nmbr">36</span></span> / <span class="cmds">EMT
			<span class="nmbr">115</span></span> (операции ввода/вывода) выводится 
			диалог, и предлагается загрузка данных из &laquo;<span class="var">.bin</span>&raquo; 
			файла, а бит <span class="nmbr">5</span> (код <span class="nmbr">40</span>) 
			регистра <span class="nmbr">177716</span> не эмулируется. Если опция 
			отключена, то чтение происходит как на реальной БК. Опцию можно поменять, 
			изменив ключ &laquo;<span class="selb">Emulate load tape operations</span>&raquo; 
			в файле &laquo;<span class="selc">bk.ini</span>&raquo;. Работает на 
			всех конфигурациях БК, а также на БК11(М) в режиме эмуляции БК10.</p>
			<p>Как это работает.</p>
			<p>Для монитора БК10 (даже если машина - БК11), адрес начала перехвата 
			- 116640, а адрес выхода зависит от загружаемой программы, если она 
			с автозапуском, то 117374, если без - то 116710. Если вообще отказ от 
			загрузки - то выход по адресу 116214. </p>
			<p>Для монитора БК11 без М, адрес начала перехвата - 145006, адрес выхода, 
			если не было ошибок - 144026, если были какие-либо логические ошибки 
			или отказ от загрузки - 143752.</p>
			<p>Для монитора БК11М, адрес начала перехвата - 155604, адрес выхода, 
			если не было ошибок - 155646, если были какие-либо логические ошибки 
			или отказ от загрузки - 154762.</p>
			<p>Во всех случаях, если будет ошибка доступа по записи, то функция 
			будет прервана и возникнет прерывание по вектору 4.</p>
			<p>И перед выполнением перехвата делается проверка наличия там действительно 
			нужного ПЗУ.</p>
			</dd>
			<dt><span class="menu">Эмулировать сохранение на ленту</span></dt>
			<dd>
			<p>– данный пункт включает или выключает запись данных в формате кассет 
			БК. Если данная опция включена, то при обращении к
			<span class="cmds">EMT <span class="nmbr">36</span></span> /
			<span class="cmds">EMT <span class="nmbr">115</span></span> (операции 
			ввода/вывода) выводится диалог, и предлагается запись данных в формате &laquo;<span class="var">.bin</span>&raquo; 
			файла, а бит <span class="nmbr">6</span> (код <span class="nmbr">100</span>) 
			регистра <span class="nmbr">177716</span> не эмулируется. Если опция 
			отключена, то запись происходит как на реальной БК. Опцию можно поменять, 
			изменив ключ &laquo;<span class="selb">Emulate save tape operations</span>&raquo; 
			в файле &laquo;<span class="selc">bk.ini</span>&raquo;. Работает на 
			всех конфигурациях БК, а также на БК11(М) в режиме эмуляции БК10.</p>
			<p>Как это работает.</p>
			<p>Для монитора БК10 (даже если машина - БК11), адрес начала перехвата 
			- 116256, а адрес выхода в любом случае - 116402. </p>
			<p>Для монитора БК11 без М, адрес начала перехвата - 144264, адрес выхода, 
			если не было ошибок - 144026, если были какие-либо логические ошибки 
			или отказ от записи - 143752.</p>
			<p>Для монитора БК11М, адрес начала перехвата - 155170, адрес выхода, 
			если не было ошибок - 155312, если были какие-либо логические ошибки 
			или отказ от записи - 154762.</p>
			<p>Во всех случаях, если будет ошибка доступа по чтению, то функция 
			будет прервана и возникнет прерывание по вектору 4.</p>
			<p>И перед выполнением перехвата делается проверка наличия там действительно 
			нужного ПЗУ.</p>
			</dd>
			<dt><span class="menu">Менеджер лент БК...</span></dt>
			<dd>
			<p>– вызвать менеджер кассет БК. Данный диалог позволяет переносить 
			информацию с магнитных лент и компакт-кассет реальной БК на ПК или конвертировать 
			файлы из одного формата в другой. Для начала переноса файлов, требуется 
			только подключить выход магнитофона к вашей звуковой плате и нажать 
			кнопку &laquo;<i>Пуск</i>&raquo; (возможно, понадобится переключить 
			ваш магнитофон в режим MONO и поставить галочку под ползунком микрофона 
			на панели микширования звука в <span class="selc">Windows</span>). Если 
			со звуковой карты есть сигнал, то на мониторе &laquo;<i>Монитор</i>&raquo; 
			вы увидите чёрные полоски. Чтобы были устройства ввода, в звуковой подсистеме
			<span class="selc">Windows</span> должен быть включён
			<span class="selc">Микшер</span>.</p>
			<p>В окне &laquo;<i>Информация</i>&raquo; вы можете видеть информацию 
			о текущем файле, его имя, адрес и длину, а также другую сопутствующую 
			информацию. Имена &laquo;захваченных&raquo; файлов появляются в списке 
			в порядке их следования на ленте. После захвата файла подсчитывается 
			его контрольная сумма и выдаётся информация в колонке CRC. С помощью 
			кнопки &laquo;<i>Обзор</i>&raquo; вы может выбрать директорию, в которую 
			будут сохраняться &laquo;захваченные&raquo; файлы. </p>
			<p>После выделения файлов в списке, активизируется пункт &laquo;<i>Сохранить 
			как…</i>&raquo;, где вы можете выбрать формат сохранения. Закрытие диалога 
			приводит к потере информации обо всех не сохранённых файлах. См. рис.&nbsp;11.</p>
			<div id="tapemgr" class="imgzidx" style="width: 586px; height: 442px">
				<img alt="Менеджер лент" src="img/bkemu/tapemgr.png">
				<div class="mapzidx" style="left: 323px; top: 39px; width: 255px; height: 25px" title="Выбор устройства ввода. Сделан на будущее, сейчас выбрать ничего невозможно, всегда выбрано устройство ввода по умолчанию.">
				</div>
				<div class="mapzidx" style="left: 117px; top: 69px; width: 330px; height: 24px" title="Рабочая директория, куда сохраняются файлы по кнопке 'Сохранить как...'.">
				</div>
				<div class="mapzidx" style="left: 459px; top: 68px; width: 115px; height: 25px" title="Кнопка выбора рабочей директории.">
				</div>
				<div class="mapzidx" style="left: 459px; top: 101px; width: 115px; height: 25px" title="Кнопка выбора файлов для обработки.">
				</div>
				<div class="mapzidx" style="left: 459px; top: 132px; width: 115px; height: 25px" title="Кнопка удаления файлов из списка.">
				</div>
				<div class="mapzidx" style="left: 459px; top: 163px; width: 115px; height: 25px" title="Кнопка сохранения файлов из списка с возможностью конвертирования между форматами.">
				</div>
				<div class="mapzidx" style="left: 11px; top: 279px; width: 565px; height: 58px" title="Окно для визуального контроля входного звукового сигнала.">
				</div>
				<div class="mapzidx" style="left: 11px; top: 357px; width: 437px; height: 72px" title="Окно для вывода различной информации.">
				</div>
			</div>
			<p class="picttl">Рис.11. Менеджер кассет БК.</p>
			<p class="itl">Конвертация в формат &laquo;.bin&raquo; файла с неправильной 
			контрольной суммой в настоящий момент не поддерживается и приводит к 
			ошибке копирования.</p>
			</dd>
		</dl>
		<h3><a name="toc_p4_4"></a>Меню &laquo;Отладка&raquo;</h3>
		<p><img alt="Меню Отладка" src="img/bkemu/menu_debug.png"></p>
		<p>Данный пункт меню <strike>подробно описан в отдельном руководстве по 
		Отладчику</strike> (<span class="itl">Прим. следующего автора: которого 
		нигде нету</span>). В Отладчике предоставляются следующие возможности:
		</p>
		<ul>
			<li>Остановка выполнения программы на текущей команде</li>
			<li>Продолжение выполнения программы с текущего места</li>
			<li>Трассировка программы по шагам</li>
			<li>Трассировка программы до заданного места</li>
			<li>Установка точек останова с условиями (например, когда по заданному 
			адресу изменилось значение, или, когда значение в регистре больше чем 
			заданное) (<span class="itl">Прим. следующего автора: условные точки 
			останова недоработаны, есть только безусловные</span>).</li>
		</ul>
		<p>Данные возможности предназначены для специфических задач и не представляют 
		интереса для обычных пользователей. Поэтому описание меню &laquo;<b class="menu">Отладка</b>&raquo; 
		не представлено в данном руководстве.</p>
		<p>Добавлю краткое описание опций, которые ввёл я:</p>
		<dl>
			<dt><span class="menu">Карта памяти...</span></dt>
			<dd>
			<p>– вызывает окно, в котором по две штуки на вкладку отображается графическое 
			представление страниц памяти БК. Под страницей понимается
			<span class="nmbr">16</span> килобайтный кусок памяти, совпадающий с 
			размером страницы БК-0011, от того и название. Таким образом, для БК 
			0010(01) отображается две страницы: <span class="nmbr">0</span>..<span class="nmbr">16</span> 
			кб и экранная область <span class="nmbr">16</span>..<span class="nmbr">32</span> 
			кб. Кроме памяти БК отображается и содержимое дополнительной памяти 
			контроллеров <b>АльтПро</b>.</p>
			<div id="dbgwnd" class="imgzidx" style="width: 569px; height: 589px">
				<img alt="Карта памяти" src="img/bkemu/memmap.png">
				<div class="mapzidx" style="left: 7px; top: 33px; width: 384px; height: 20px" title="Выбор вкладки с необходимой страницей памяти.">
				</div>
				<div class="mapzidx" style="left: 536px; top: 57px; width: 26px; height: 24px" title="Кнопка переключения режима отображения: цветной / чёрно-белый.">
				</div>
				<div class="mapzidx" style="left: 536px; top: 85px; width: 26px; height: 24px" title="Кнопка переключения чёрно-белого режима отображения: обычный / адаптивный. Активна только в чёрно-белом режиме просмотра.">
				</div>
				<div class="mapzidx" style="left: 536px; top: 236px; width: 26px; height: 24px" title="Кнопка загрузки файла изображения в страницу.">
				</div>
				<div class="mapzidx" style="left: 536px; top: 263px; width: 26px; height: 24px" title="Кнопка сохранения страницы в файл изображения.">
				</div>
				<div class="mapzidx" style="left: 536px; top: 291px; width: 26px; height: 24px" title="Кнопка вызова окна для более пристального изучения содержимого страницы памяти.">
				</div>
				<div class="mapzidx" style="left: 536px; top: 321px; width: 26px; height: 24px" title="Кнопка переключения режима отображения: цветной / чёрно-белый.">
				</div>
				<div class="mapzidx" style="left: 536px; top: 349px; width: 26px; height: 24px" title="Кнопка переключения чёрно-белого режима отображения: обычный / адаптивный. Активна только в чёрно-белом режиме просмотра.">
				</div>
				<div class="mapzidx" style="left: 536px; top: 499px; width: 26px; height: 24px" title="Кнопка загрузки файла изображения в страницу.">
				</div>
				<div class="mapzidx" style="left: 536px; top: 527px; width: 26px; height: 24px" title="Кнопка сохранения страницы в файл изображения.">
				</div>
				<div class="mapzidx" style="left: 536px; top: 554px; width: 26px; height: 24px" title="Кнопка вызова окна для более пристального изучения содержимого страницы памяти.">
				</div>
			</div>
			<p class="picttl">Рис.12. Карта памяти.</p>
			<p>Особенности загрузки / сохранения.</p>
			<ol>
				<li>Клик левой клавишей мыши по кнопкам загрузки/сохранения вызывает 
				функцию загрузки/сохранения изображения. А если при этом удерживать 
				нажатой клавишу <span class="selc">Shift</span>, то будет вызвана 
				функция загрузки/сохранения страницы как <span class="var">.bin</span> 
				файла.</li>
				<li>Возможные форматы файлов: <span class="var">.bmp</span>,
				<span class="var">.png</span>, <span class="var">.gif</span>,
				<span class="var">.tiff</span>, <span class="var">.jpg</span></li>
				<li>Сохраняется вся страница целиком пиксель в пиксель. В режиме 
				отображения цветного изображения, сохраняется файл
				<span class="nmbr">256</span> х <span class="nmbr">256</span> пикселей, 
				в четырёх цветах: чёрном, синем, зелёном и красном. В режиме отображения 
				чёрно-белого изображения, сохраняется файл <span class="nmbr">512</span> 
				х <span class="nmbr">256</span> пикселей, в двух цветах: чёрном 
				и белом.</li>
				<li>Загружается также вся страница целиком. Если файл больше размера 
				страницы - он обрезается по размеру страницы, если меньше - размещается 
				как есть с верхнего левого угла.</li>
				<li>Алгоритмы обработки загружаемых изображений зависят от текущего 
				режима отображения страницы. Для цветного режима ожидается изображение
				<span class="nmbr">256</span> х <span class="nmbr">256</span> пикселей, 
				состоящее из точек четырёх цветов: чёрного, синего, зелёного и красного, 
				для чёрно-белого - <span class="nmbr">512</span> х
				<span class="nmbr">256</span> пикселей, состоящее из точек двух 
				цветов: чёрного и любого не чёрного.</li>
				<li>Загрузка в цветном режиме чёрно-белого изображения даст чёрный 
				экран, поскольку алгоритм не найдёт в изображении ни красных, ни 
				синих, ни зелёных точек, все остальные точки алгоритмом игнорируются 
				и рассматриваются как чёрные. Загрузка в цветном режиме полноцветного 
				изображения даст результат, скорее всего далёкий от ожидания.</li>
				<li>Загрузка в чёрно-белом режиме любого изображения в любом случае 
				что-то даст, но не всегда в приемлемом виде.</li>
			</ol>
			</dd>
			<dt><span class="menu">Интервал обновления дампа регистров</span></dt>
			<dd>
			<p>– при работе эмулятора в реальном времени в окошке &laquo;<i>Дамп 
			регистров</i>&raquo; можно смотреть текущие значения большинства регистров. 
			Но это довольно сильно нагружает систему и приводит к ухудшению звука. 
			Поэтому данной опцией можно задать желаемый интервал в миллисекундах, 
			или совсем отключить вывод. Этой опции соответствует ключ &laquo;<span class="selb">Registers 
			dump interval</span>&raquo; в файле &laquo;<span class="selc">bk.ini</span>&raquo;</p>
			</dd>
			<dt><span class="menu">Диалог при ошибке доступа к памяти</span></dt>
			<dd>
			<p>– если включить данную опцию, то при любой исключительной ситуации, 
			которая на БК вызывает прерывание по вектору <span class="nmbr">4</span> 
			(даже при нажатии клавиши &laquo;<span class="selc">СТОП</span>&raquo;), 
			будет выводиться окошко сообщения, в котором будет задаваться вопрос, 
			что делать дальше: игнорировать, остановиться для отладки или прекратить 
			работу. Не включайте эту опцию без крайней на то необходимости. Этой 
			опции соответствует ключ &laquo;<span class="selb">Show dialog on access 
			violation</span>&raquo; в файле &laquo;<span class="selc">bk.ini</span>&raquo;</p>
			</dd>
			<dt><span class="menu">Останов CPU после запуска эмулятора</span></dt>
			<dd>
			<p>– если включить данную опцию, то после создания конфигурации БК сработает 
			точка останова на стартовом адресе. Это полезно для отладки всяких необычных 
			конфигураций, самодельных прошивок и т.п. В обычной жизни - надобности 
			в этой опции не возникает. Этой опции соответствует ключ &laquo;<span class="selb">Pause 
			CPU after emulator start</span>&raquo; в файле &laquo;<span class="selc">bk.ini</span>&raquo;</p>
			</dd>
		</dl>
		<h3><a name="toc_p4_5"></a>Меню &laquo;Вид&raquo;</h3>
		<p><img alt="Меню Вид" src="img/bkemu/menu_view1.png"><br></p>
		<p><img alt="Меню Вид" src="img/bkemu/menu_view2.png"><br></p>
		<p><img alt="Меню Вид" src="img/bkemu/menu_view3.png"><br></p>
		<p><img alt="Меню Вид" src="img/bkemu/menu_view4.png"><br></p>
		<dl>
			<dt><span class="menu">Панели инструментов и закрепляемые окна</span></dt>
			<dd>
			<p>– возможность показать/скрыть разные окна и панели:</p>
			<dl>
				<dt><span class="menu">Стандартная</span>, <span class="menu">Звук</span>,
				<span class="menu">Отладка</span>, <span class="menu">Захват видео</span>
				</dt>
				<dd>
				<p>– показать/скрыть соответствующие панели инструментов.</p>
				</dd>
				<dt><a name="toc_p4_5_1"></a><span class="menu">Окно отладки</span></dt>
				<dd>
				<p>– показывать или не показывать окно Отладчика. В данном окне 
				можно увидеть то, какая команда выполняется в данный момент и её 
				операнды, или код программы по заданному адресу. Подробнее см. руководство 
				по Отладчику (<i class="itl">Прим. gid: которого нигде нет</i>).</p>
				<div id="dbgwnd" class="imgzidx" style="width: 439px; height: 418px">
					<img alt="Окно отладчика" src="img/bkemu/dbgwindow.png">
					<div class="mapzidx" style="left: 2px; top: 22px; width: 64px; height: 25px" title="Поле ввода начального адреса дизассемблера.">
					</div>
					<div class="mapzidx" style="left: 70px; top: 22px; width: 42px; height: 18px" title="Выбор ассемблирования/дизассемблирования инструкций диспетчера памяти: MTPD, MFPD, MTPI, MFPI.">
					</div>
					<div class="mapzidx" style="left: 120px; top: 22px; width: 40px; height: 18px" title="Выбор ассемблирования/дизассемблирования инструкций набора EIS: MUL, DIV, ASH, ASHC.">
					</div>
					<div class="mapzidx" style="left: 164px; top: 22px; width: 40px; height: 18px" title="Выбор ассемблирования/дизассемблирования инструкций набора FIS: FMUL, FDIV, FADD, FSUB.">
					</div>
					<div class="mapzidx" style="left: 208px; top: 22px; width: 40px; height: 18px" title="Выбор ассемблирования/дизассемблирования инструкций набора FPU.">
					</div>
				</div>
				<p class="picttl">Рис.13. Окно Отладчика.</p>
				<p>Поле ввода в левом верхнем углу служит для задания начального 
				адреса дизассемблера. </p>
				<p>Справа от него - опции ассемблера/дизассемблера, какие дополнительные 
				команды опознавать, они не реализованы в процессоре 1801ВМ1 и вызывают 
				прерывание по вектору 10:</p>
				<ul>
					<li>MMG - команды <span class="cmds">MFPI</span>(<span class="nmbr">0065xx</span>),
					<span class="cmds">MTPI</span>(<span class="nmbr">0066xx</span>),
					<span class="cmds">MFPD</span>(<span class="nmbr">1065xx</span>),
					<span class="cmds">MTPD</span>(<span class="nmbr">1066xx</span>)</li>
					<li>EIS - команды <span class="cmds">MUL</span>(<span class="nmbr">070xxx</span>),
					<span class="cmds">DIV</span>(<span class="nmbr">071xxx</span>),
					<span class="cmds">ASH</span>(<span class="nmbr">072xxx</span>),
					<span class="cmds">ASHC</span>(<span class="nmbr">073xxx</span>)</li>
					<li>FIS - команды <span class="cmds">FADD</span>(<span class="nmbr">07500x</span>),
					<span class="cmds">FSUB</span>(<span class="nmbr">07501x</span>),
					<span class="cmds">FMUL</span>(<span class="nmbr">07502x</span>),
					<span class="cmds">FDIV</span>(<span class="nmbr">07503x</span>)</li>
					<li>FPU - команды математического сопроцессора в диапазоне
					<span class="nmbr">170000</span>-<span class="nmbr">177777</span>.</li>
				</ul>
				<p>Двойной клик на поле слева от адреса - установка/снятие точки 
				останова. Нажатие горячей клавиши F9 - установка/снятие точки останова 
				на текущей выделенной строке.</p>
				<p>Двойной клик на команде - возможность редактирования команды. 
				Команды записываются в том же виде, как и в отладчиках Paradise, 
				Dess и т.п.</p>
				<p>Допускаются отрицательные числа и смещения, но не адреса. В результате 
				они всё равно будут отображены в беззнаковой форме.</p>
				<p>Возможен просто ввод данных с помощью псевдокоманды
				<span class="pscm">.WORD</span> number, или <span class="pscm">WORD</span> 
				number. Или даже ещё проще - можно просто написать число. Можно 
				даже отрицательное.</p>
				<p>Если команда не опознана или где-то допущена синтаксическая ошибка, 
				то ввод отменяется и ничего не сохраняется. Если ошибка длины перехода 
				в ветвлении или <span class="cmds">SOB</span> - то же самое, такая 
				команда не принимается. </p>
				</dd>
				<dt><a name="toc_p4_5_2"></a><span class="menu">Дамп регистров CPU</span></dt>
				<dd>
				<p>– показывать или не показывать окно состояния регистров процессора, 
				системных регистров и коды режимов работы контроллеров <b>А16М</b>/<b>СМК</b>. 
				В первом окошке отображаются значения регистров общего назначения
				<span class="selb">R0</span>, <span class="selb">R1</span>,
				<span class="selb">R2</span>, <span class="selb">R3</span>,
				<span class="selb">R4</span>, <span class="selb">R5</span>,
				<span class="selb">SP</span> (указатель стека),
				<span class="selb">PC</span> (указатель текущей команды) и
				<span class="selb">PS</span> (биты слова состояния процессора). 
				Во втором - системные регистры БК <span class="nmbr">177660</span> 
				– <span class="nmbr">177716</span>. В третьем - коды режимов работы 
				контроллера <b>А16М</b> или <b>СМК</b>.</p>
				<div id="dbgwnd" class="imgzidx" style="width: 282px; height: 490px">
					<img alt="Окно дампа регистров CPU и системных регистров" src="img/bkemu/regdumpcpu.png">
					<div class="mapzidx" style="left: 76px; top: 26px; width: 25px; height: 20px" title="Уменьшить ТЧ на 1000 Гц.">
					</div>
					<div class="mapzidx" style="left: 106px; top: 27px; width: 71px; height: 18px" title="Задать значение вручную.">
					</div>
					<div class="mapzidx" style="left: 185px; top: 26px; width: 14px; height: 20px" title="Изменить значение на 1 Гц вверх или вниз.">
					</div>
					<div class="mapzidx" style="left: 201px; top: 26px; width: 24px; height: 20px" title="Увеличить ТЧ на 1000 Гц.">
					</div>
					<div class="mapzidx" style="left: 229px; top: 26px; width: 24px; height: 20px; right: 29px;" title="Задать максимально возможную частоту.">
					</div>
					<div class="mapzidx" style="left: 253px; top: 26px; width: 24px; height: 20px" title="Вернуть значение по умолчанию.">
					</div>
					<div class="mapzidx" style="left: 47px; top: 73px; width: 55px; height: 162px" title="Просмотр и изменение содержимого регистров общего назначения. А так же PSW в восьмеричном представлении.">
					</div>
					<div class="mapzidx" style="left: 120px; top: 72px; width: 55px; height: 143px" title="Дополнительный вид содержимого регистров общего назначения.">
					</div>
					<div class="mapzidx" style="left: 184px; top: 71px; width: 58px; height: 20px" title="Кнопка смены системы счисления дополнительного вида. Возможны два режима DEC - десятичный и HEX - шестнадцатеричный.">
					</div>
					<div class="mapzidx" style="left: 108px; top: 219px; width: 68px; height: 17px" title="Просмотр и изменение содержимого регистра состояния процессора. Здесь можно видеть и редактировать логические флаги ССП.
H - бит 11 маскировка IRQ1 в пультовом режиме и вызов прерываний по зависанию по вектору 160002;
M - бит 10 маскирует все внешние прерывания и вызов прерываний по зависанию по вектору 160002,
в общем признак работы в пультовом режиме;
P - бит 7 приоритет; T - бит 4 отладка; NZVC - признаки.">
					</div>
					<div class="mapzidx" style="left: 86px; top: 259px; width: 55px; height: 161px" title="Просмотр и изменение содержимого системных регистров.">
					</div>
					<div class="mapzidx" style="left: 209px; top: 259px; width: 55px; height: 161px" title="Просмотр и изменение содержимого системных регистров.">
					</div>
					<div class="mapzidx" style="left: 89px; top: 445px; width: 55px; height: 35px" title="Просмотр и изменение режимов работы контроллеров АльтПро.">
					</div>
				</div>
				<p class="picttl">Рис.14. Окно дампа регистров CPU.</p>
				<p>Двойной клик на значении регистра позволяет изменить его значение.</p>
				</dd>
				<dt><a name="toc_p4_5_3"></a><span class="menu">Дамп регистров FDD</span></dt>
				<dd>
				<p>– показывать или не показывать окно состояния регистров КНГМД 
				и регистров HDD. Регистр 1F0 - словный, все остальные - байтовые, 
				просто отображаются как словные для простоты вывода.</p>
				<div id="dbgwnd" class="imgzidx" style="width: 438px; height: 391px">
					<img alt="Окно дампа регистров FDD и HDD" src="img/bkemu/regdumpfdd.png">
					<div class="mapzidx" style="left: 92px; top: 45px; width: 55px; height: 71px" title="Просмотр и изменение содержимого регистров КНГМД.">
					</div>
					<div class="mapzidx" style="left: 52px; top: 157px; width: 120px; height: 180px" title="Просмотр содержимого регистров HDD master">
					</div>
					<div class="mapzidx" style="left: 208px; top: 157px; width: 120px; height: 180px" title="Просмотр содержимого регистров HDD slave">
					</div>
				</div>
				<p class="picttl">Рис.15. Окно дампа регистров FDD.</p>
				</dd>
				<dt><a name="toc_p4_5_4"></a><span class="menu">Дамп памяти #n</span></dt>
				<dd>
				<p>- показывать или не показывать окно дампа памяти. Есть четыре 
				независимых друг от друга одинаковых окна. В данном окне можно увидеть 
				значение заданной ячейки памяти и соответствующие им коды КОИ-8, 
				а также изменить данные значения. Возможен просмотр в режиме Слова 
				или Байта. Подробнее см. руководство по Отладчику (<i class="itl">Прим. 
				gid: которого нигде нет</i>).</p>
				<div id="memdmpwnd" class="imgzidx" style="width: 438px; height: 401px">
					<img alt="Окно дампа памяти" src="img/bkemu/memdump1.png">
					<div class="mapzidx" style="left: 8px; top: 27px; width: 56px; height: 19px" title="Поле ввода начального адреса дампа памяти.">
					</div>
					<div class="mapzidx" style="left: 73px; top: 28px; width: 42px; height: 19px" title="Кнопка переключения режима отображения ячеек памяти.">
					</div>
					<div class="mapzidx" style="left: 121px; top: 28px; width: 60px; height: 19px; right: 257px;" title="Кнопка сохранения дампа памяти в формате .bin.">
					</div>
					<div class="mapzidx" style="left: 187px; top: 28px; width: 61px; height: 19px" title="Кнопка загрузки дампа памяти в формате .bin.">
					</div>
					<div class="mapzidx" style="left: 286px; top: 27px; width: 68px; height: 19px" title="Поле выбора заданной страницы памяти">
					</div>
					<div class="mapzidx" style="left: 357px; top: 27px; width: 70px; height: 19px" title="Поле выбора относительного адреса заданной страницы памяти">
					</div>
					<div class="mapzidx" style="left: 73px; top: 82px; width: 261px; height: 302px" title="Просмотр и изменение содержимого ячеек памяти.">
					</div>
				</div>
				<p class="picttl">Рис.16. Окно дампа памяти.</p>
				<p>Поле ввода в левом верхнем углу служит для задания начального 
				адреса дампа. Кнопка справа от него - переключает режимы отображения
				<span class="selc">WORD</span> или <span class="selc">BYTE</span>. 
				Двойной клик на значении позволяет изменить значение ячейки. Колесо 
				прокрутки мыши - скроллинг содержимого памяти. Вид закольцован, 
				т.е. за адресом <span class="nmbr">0177770</span> идёт снова
				<span class="nmbr">000000</span>, и наоборот.</p>
				<p>Так же есть возможность сохранения/загрузки произвольного участка 
				памяти в обычном формате <span class="selc">bin</span>. Но есть 
				нюансы:</p>
				<ul>
					<li>Поскольку чтение/запись делается на уровне эмулятора, то 
					можно спокойно сохранять/загружать данные, перекрывающие стековую 
					область. Однако в подобных случаях желательно ставить эмуляцию 
					на паузу через тулбар или меню отладки, т.к. можно нарваться 
					на неожиданные для себя последствия.</li>
					<li>Чтение/запись делается в адресное пространство
					<span class="nmbr">0</span>..<span class="nmbr">65535 </span>
					в те страницы БК11 или СМК-512, которые в данный момент отображены 
					в это адресное пространство.</li>
					<li>Нажатие на кнопку "<span class="selc">Сохр.Дамп</span>" 
					вызывает диалог, в котором необходимо задать участок, который 
					нужно сохранить:<br>
					<img alt="" src="img/bkemu/memdump2.png"><br>Здесь нужно задать 
					начальный адрес и длину сохраняемого участка в восьмеричной 
					системе счисления. Либо можно задать конечный адрес (не включая), 
					при этом длина скорректируется автоматически. В общем, выбирайте 
					сами - или длину, или конечный адрес, как больше нравится. Затем 
					надо кликнуть мышью кнопку "OK", т.к. клавиша "Enter" перехвачена 
					и обрабатывается полями ввода. После этого откроется диалог 
					выбора имени файла и места сохранения, и всё.</li>
					<li>Нажатие на кнопку "<span class="selc">Загр.Дамп</span>" 
					вызывает диалог выбора файла для загрузки, bin файл загружается 
					по адресу из его заголовка. Если формат бин файла не опознан 
					или заголовка нет, такой файл не загружается. Если нужно загрузить 
					файл по другому адресу, отличному от заголовка, то нужно нажимать 
					на кнопку "<span class="selc">Загр.Дамп</span>" удерживая нажатой 
					клавишу "<span class="selc">Shift</span>" на клавиатуре. При 
					этом появится диалог, где нужно задать свой адрес загрузки:<br>
					<table class="border2 vtop">
						<tr>
							<td><img alt="" src="img/bkemu/memdump3.png"><br>Для 
							конфигураций БК11(М)</td>
							<td><img alt="" src="img/bkemu/memdump4.png"><br>Для 
							конфигураций БК10</td>
						</tr>
					</table>
					<br>Затем надо кликнуть мышью кнопку "OK", т.к. клавиша "Enter" 
					перехвачена и обрабатывается полями ввода. После этого как обычно 
					- выбор файла и его загрузка.</li>
				</ul>
				<p>Поскольку у нас теперь несколько окон дампа, то реализована возможность 
				мониторить отдельные страницы памяти. Для каждой конфигурации - 
				свой набор страниц. Для БК под страницей понимается страница БК11 
				размером <span class="nmbr">040000</span>, для СМК - страница СМК, 
				размером <span class="nmbr">0100000</span>, состоящая из всех
				<span class="nmbr">8</span> сегментов. Для конфигураций БК10 без 
				дополнительной памяти никаких страниц не предусмотрено.</p>
				<p>По умолчанию выбрано всё адресное пространство размером 64кБ, 
				из выпадающего списка можно выбрать желаемую страницу. Для страниц 
				БК11 дополнительно можно выбрать адрес, с которого она начинается, 
				чтобы можно было смотреть дамп по тем адресам, в какое окно страница 
				подключена.</p>
				</dd>
				<dt><a name="toc_p4_5_5"></a><span class="menu">Управление чтением 
				/ записью лент</span></dt>
				<dd>
				<p>– показать окно с панелью управления кассетными записями БК. 
				С помощью данной панели можно остановить проигрывание или запись 
				ленты (<span class="var">.wav</span>, <span class="var">.tap</span> 
				или <span class="var">.bin</span> файла), а также включить запись. 
				При этом существуют две дополнительные опции, позволяющие автоматически 
				определить начало и конец записи на ленту (&laquo;<i>Автоопределение 
				начала файла</i>&raquo; и &laquo;<i>Автоопределение конца файла</i>&raquo; 
				соответственно). Если установлена опция &laquo;<i>Автоопределение 
				начала файла</i>&raquo;, то после нажатия на кнопку записи, запись 
				не начинается до тех пор, пока эмулятор не определит начало стартовой 
				синхропоследовательности, если установлена опция &laquo;<i>Автоопределение 
				конца файла</i>&raquo;, то запись автоматически прекратится при 
				определении финишной синхропоследовательности. В случае, если данные 
				опции выключены, то запись начинается сразу после нажатия на кнопку &laquo;<i>Запись</i>&raquo;, 
				а прекратится только при нажатии на кнопку &laquo;<i>Стоп</i>&raquo;.</p>
				<div id="tapectrl" class="imgzidx" style="width: 282px; height: 64px">
					<img alt="Управление записью на ленту" src="img/bkemu/tapectrl.png">
					<div class="mapzidx" style="left: 3px; top: 28px; width: 28px; height: 25px" title="Кнопка запуска записи.">
					</div>
					<div class="mapzidx" style="left: 36px; top: 28px; width: 28px; height: 25px" title="Кнопка начала/паузы воспроизведения.">
					</div>
					<div class="mapzidx" style="left: 65px; top: 28px; width: 28px; height: 25px" title="Кнопка останова записи/воспроизведения.">
					</div>
					<div class="mapzidx" style="left: 95px; top: 21px; width: 185px; height: 18px" title="Флаг автопоиска начала полезного сигнала.">
					</div>
					<div class="mapzidx" style="left: 95px; top: 41px; width: 185px; height: 18px" title="Флаг автопоиска конца полезного сигнала.">
					</div>
				</div>
				<p class="picttl">Рис.17a. Панель управления лентой БК при включённых 
				опциях<br>&laquo;Эмулировать сохранение на ленту&raquo; и &laquo;Эмулировать 
				загрузку ленты&raquo;.</p>
				<p>Кнопки на панели становятся активными, если отключить опцию
				<span class="menu">&laquo;Эмулировать сохранение на ленту&raquo;</span>. 
				Т.е. в этом случае, сохранение на диск файлов делается не автоматически 
				в формат <span class="var">.bin</span>, а вручную, посредством кнопок &laquo;<i>Запись</i>&raquo;, 
				и &laquo;<i>Стоп</i>&raquo; в аудиоформаты <span class="var">.wav</span> 
				или <span class="var">.tap</span>.</p>
				<p>Если выключить опцию <span class="menu">&laquo;Эмулировать загрузку 
				ленты&raquo;</span>, то станет активной только кнопка &laquo;<i>Стоп</i>&raquo;, 
				чтобы можно было прервать воспроизведение загружаемого
				<span class="var">.wav</span>, <span class="var">.tap</span> или
				<span class="var">.bin</span> файла, если он окажется не тем, который 
				нужен.</p>
				<p>После того, как <span class="var">.wav</span>,
				<span class="var">.tap</span> или <span class="var">.bin</span> 
				файл будет загружен и запущен на воспроизведение, станет активной 
				кнопка &laquo;<i>Старт/Пауза</i>&raquo;. Нажатие кнопки &laquo;<i>Стоп</i>&raquo; 
				прервёт воспроизведение, но при этом, с помощью кнопки &laquo;<i>Старт/Пауза</i>&raquo; 
				его можно будет начать заново. После того, как файл будет воспроизведён 
				полностью, кнопка &laquo;<i>Старт/Пауза</i>&raquo; снова становится 
				неактивной, и снова потребуется загрузка <span class="var">.wav</span>,
				<span class="var">.tap</span> или <span class="var">.bin</span> 
				файла.</p>
				<table class="border2 vtop">
					<tr>
						<td width="50%">
						<div id="tapectrl" class="imgzidx" style="width: 282px; height: 64px">
							<img alt="Управление записью на ленту" src="img/bkemu/tapectrl2.png">
							<div class="mapzidx" style="left: 3px; top: 28px; width: 28px; height: 25px" title="Кнопка запуска записи.">
							</div>
							<div class="mapzidx" style="left: 36px; top: 28px; width: 28px; height: 25px" title="Кнопка начала/паузы воспроизведения.">
							</div>
							<div class="mapzidx" style="left: 65px; top: 28px; width: 28px; height: 25px" title="Кнопка останова записи/воспроизведения.">
							</div>
							<div class="mapzidx" style="left: 95px; top: 21px; width: 185px; height: 18px" title="Флаг автопоиска начала полезного сигнала.">
							</div>
							<div class="mapzidx" style="left: 95px; top: 41px; width: 185px; height: 18px" title="Флаг автопоиска конца полезного сигнала.">
							</div>
						</div>
						<p class="picttl">Рис.17б. Панель управления лентой БК при 
						выключенных опциях &laquo;Эмулировать сохранение на ленту&raquo; 
						и &laquo;Эмулировать загрузку ленты&raquo;.</p>
						</td>
						<td width="50%">
						<div id="tapectrl" class="imgzidx" style="width: 282px; height: 64px">
							<img alt="Управление записью на ленту" src="img/bkemu/tapectrl1.png">
							<div class="mapzidx" style="left: 3px; top: 28px; width: 28px; height: 25px" title="Кнопка запуска записи.">
							</div>
							<div class="mapzidx" style="left: 36px; top: 28px; width: 28px; height: 25px" title="Кнопка начала/паузы воспроизведения.">
							</div>
							<div class="mapzidx" style="left: 65px; top: 28px; width: 28px; height: 25px" title="Кнопка останова записи/воспроизведения.">
							</div>
							<div class="mapzidx" style="left: 95px; top: 21px; width: 185px; height: 18px" title="Флаг автопоиска начала полезного сигнала.">
							</div>
							<div class="mapzidx" style="left: 95px; top: 41px; width: 185px; height: 18px" title="Флаг автопоиска конца полезного сигнала.">
							</div>
						</div>
						<p class="picttl">Рис.17в. Панель управления лентой БК при 
						выключенных опциях &laquo;Эмулировать сохранение на ленту&raquo; 
						и &laquo;Эмулировать загрузку ленты&raquo; и запущенном 
						на воспроизведение файле.</p>
						</td>
					</tr>
				</table>
				<p>Рекомендуется включать опции &laquo;<i>Автоопределение начала 
				файла</i>&raquo; и &laquo;<i>Автоопределение конца файла</i>&raquo; 
				только при использовании стандартной подпрограммы записи
				<span class="cmds">EMT <span class="nmbr">36</span></span>. В случае 
				нестандартной подпрограммы записи, правильная работа автодетектора 
				не только не гарантируется, она точно не будет работать.</p>
				<p>При включённой фильтрации спикера автоопределение может не срабатывать, 
				и может теряться синхронизация. Поэтому, чтобы всё это работало, 
				фильтрацию нужно выключать.</p>
				<p>У этой функции есть одна полезная побочная возможность. Если 
				выключить все автоопределения, можно сохранять в
				<span class="var">.wav</span> формате все воспроизводимые звуки, 
				например, записывать музыку, играемую на <b>AY-3-8910</b> или <b>
				Covox</b>. После нажатия кнопки &laquo;<i>Стоп</i>&raquo;, файл 
				надо записать в формате <span class="var">.wav</span>, а не
				<span class="var">.tap</span>, как предлагается по умолчанию,
				<span class="var">.tap</span>, не пригоден для хранения музыки.</p>
				</dd>
				<dt><a name="toc_p4_5_6"></a><span class="menu">Осциллограф</span></dt>
				<dd>
				<p>– показать панель осциллографа. Наглядно отображает, что звучит 
				в динамиках. Верхняя осциллограмма - левый канал, нижняя - правый.</p>
				</dd>
				<dt><a name="toc_p4_5_7"></a><span class="menu">Виртуальная клавиатура</span></dt>
				<dd>
				<p>– показать панель виртуальной клавиатуры, причём клавиатура реализована 
				двух видов: плёночная (которая была в самом начале, и у которой 
				под плёнкой были механические переключатели) и кнопочная (новая 
				мягкая, которая тоже плёночная, а не на механических переключателях, 
				дубовая, скрипучая).</p>
				<p class="picttl">
				<img alt="Кнопочная виртуальная клавиатура" src="img/bkemu/vkbd.png" style="max-width: 100%;"></p>
				<p class="picttl">Рис.18. Виртуальная клавиатура.</p>
				<p>Клавиатура масштабируемая, желаемый размер можно задать изменением 
				размера окошка клавиатуры.</p>
				</dd>
			</dl>
			</dd>
			<dt><span class="menu">Строка состояния</span></dt>
			<dd>
			<p>– показывать строку состояния в нижней части окна. На ней обычно 
			отображается различная служебная информация, например, текущее количество 
			кадров в секунду, или режим работы клавиатуры.</p>
			</dd>
			<dt><span class="menu">Вид приложения</span></dt>
			<dd>
			<p>– выбор визуального стиля приложения. Это стандартное микрософтовское 
			меню. Описывать не буду.</p>
			</dd>
			<dt><span class="menu">Виртуальная клавиатура</span></dt>
			<dd>
			<p>– выбор вида виртуальной клавиатуры, плёночная или кнопочная.</p>
			</dd>
			<dt><span class="menu">Пропорции экрана</span></dt>
			<dd>
			<p>– здесь можно задать разные пропорции экрана, для тех, кто желает 
			странного. Предоставлен небольшой список более-менее приличных пропорций. 
			Совсем уж экзотические можно задать вручную, редактированием файла &laquo;<span class="selc">bk.ini</span>&raquo;. 
			В этом случае будет выбран пункт &laquo;<span class="selc">Свои</span>&raquo;.</p>
			</dd>
			<dt><span class="menu">Установить размер экрана</span></dt>
			<dd>
			<p>– выбрать один из заданных размеров экрана, чтобы не подгонять его 
			вручную. Размеры со значениями в скобках - пропорциональные, без искажений, 
			кроме (х<span class="nmbr">0</span>.<span class="nmbr">5</span>), он 
			нормально работает только в <span class="selc">Direct3D</span>. Пункт
			<span class="selc">&laquo;Свой</span>&raquo; - установить размеры, которые 
			были перед выбором одного из заданных размеров. Изменяются только размер 
			экрана и размер главного окна программы. Размеры всех вспомогательных 
			окошек не изменяются.</p>
			<p>Это меню динамическое, и размеры зависят от выбранной пропорции экрана. 
			Например, если выбрать пропорцию &laquo;2:1&raquo;:<br>
			<img alt="Меню Вид" src="img/bkemu/menu_view5.png"> <br>То список размеров 
			примет такой вид:<br>
			<img alt="Меню Вид" src="img/bkemu/menu_view6.png"></p>
			<p>Т.е. ширина экрана для всех пропорций - фиксированная величина, а 
			высота меняется в зависимости от выбранной пропорции.</p>
			</dd>
			<dt><span class="menu">Во весь экран</span></dt>
			<dd>
			<p>– перевести эмулятор в полноэкранный режим работы. При этом используется 
			текущее разрешение рабочего стола <span class="selc">Windows</span>.</p>
			</dd>
			<dt><span class="menu">Цветной режим</span></dt>
			<dd>
			<p>– переключает цветной и чёрно-белый режим экрана. Для чёрно-белого 
			возможно два варианта:</p>
			<ul>
				<li>чёрно-белый – нормальный</li>
				<li>чёрно-белый – адаптивный</li>
			</ul>
			</dd>
			<dt><span class="menu">Адаптивный Ч/Б режим</span></dt>
			<dd>
			<p>– меняет чёрно-белый режим с адаптивного на точный и обратно. Адаптивный 
			режим не полностью соответствует реальному чёрно-белому режиму БК, но 
			визуально выглядит более похоже. Какой именно режим будет применяться, 
			определяет ключ &laquo;<span class="selb">Adapt black &amp; white mode</span>&raquo; 
			в файле &laquo;<span class="selc">bk.ini</span>&raquo;.</p>
			</dd>
			<dt><span class="menu">Эмуляция затухания люминофора</span></dt>
			<dd>
			<p>– опция эмулирует поведение слоя люминофора ЭЛТ. Подозреваю, что 
			на самом деле люминофор гаснет не линейно, поэтому поведение неточное. 
			Когда включена, за движущимися объектами на экране остаётся слабый быстро 
			гаснущий шлейф. На LCD мониторах с медленной матрицей эффект заметнее, 
			чем на быстрых.</p>
			</dd>
		</dl>
		<h3><a name="toc_p4_6"></a>Меню &laquo;Инструменты&raquo;</h3>
		<p><img alt="Меню Инструменты" src="img/bkemu/menu_tools.png"></p>
		<p>В данном меню отображаются имена утилит, поставляемых вместе с эмулятором, 
		которые были обнаружены эмулятором при запуске. По умолчанию утилиты находятся 
		в папке <span class="cmdk">Tools</span> заданной ключом &laquo;<span class="selb">Tools 
		directory</span>&raquo; в файле &laquo;<span class="selc">bk.ini</span>&raquo;. 
		Подробнее утилиты будут описаны в <a href="#toc_p8">приложении 4</a>.</p>
		<p><span class="attnt">Примечание.</span> Если утилита BK Disk Explorer 
		(BKDE) не будет обнаружена, то в выпадающем меню дисководов не появится 
		пункт "<span class="selc">Открыть в BKDE</span>".</p>
		<h3><a name="toc_p4_8"></a>Особенности эмуляции.</h3>
		<p>Тут даётся описание тех малопонятных особенностей, которые включаются/выключаются 
		опциями, затрагивающими поведение процессора.</p>
		<dl>
			<dt><a name="toc_p4_8_1"></a>Баг бита С</dt>
			<dd>
			<p>Информация взята из документа "Однокристальный микропроцессор К1801ВМ1. 
			Техническое описание © 1801BM1@gmail.com" v1.2 подготовленное Vslav'ом.</p>
			<p>Флаг переноса C трактуется инструкциями условного перехода как сброшенный 
			после инструкций MOVB xx, Rd и MFPS Rd (только с указанными режимами 
			адресации приёмника). Ошибка локализована по микроадресу 0x51 (для 
			К1801ВМ1А), на этом микроадресе выполняется знаковое расширение байта 
			в регистр результата, при этом временное значение флага C в промежуточном 
			регистре флагов устанавливается нулевым и может быть использовано следующей 
			инструкцией условного перехода:</p>
			<pre>sec             ; установим флаг C
movb    R1, R0  ; флаг С не должен измениться
bcc     1$      ; переход будет выполнен (неверно)</pre>
			<p>Значение флага C в реальном регистре PSW устанавливается всегда корректно, 
			значение флага в промежуточном регистре влияет только на инструкции 
			перехода.</p>
			<pre>sec             ; установим флаг C
movb    R1, R0  ; флаг С не должен измениться
mfps    R2      ; бит 0 в R2 будет единичным (верно)
bcc     1$      ; переход будет выполнен (неверно)</pre>
			<p>При выполнении любой инструкции (кроме MOVB xx, Rd и MFPS Rd) промежуточный 
			регистр флагов перезаписывается из реального PSW и инструкции условного 
			перехода начинают работать правильно</p>
			<pre>sec             ; установим флаг C
movb    R1, R0  ; флаг С не должен измениться
nop             ;
bcc     1$      ; переход не будет выполнен (верно)</pre>
			<p>Микроадрес 0x51 используется инструкциями MOVB xx, Rd и MFPS Rd, 
			а также инструкцией SWAB Rd (для выставления флагов N и Z по младшему 
			байту результата), но инструкция SWAB предполагает сброс флага C, поэтому 
			данная ошибка не проявляется.</p>
			<p>Ключом "<span class="selb">Emulate C Bug</span>" в ini-файле можно 
			включить эмуляцию этого бага, тем самым привести эмуляцию процессора 
			к реальному виду. Или выключить этот баг. Тогда поведение будет отличаться 
			от реального.</p>
			</dd>
			<dt><a name="toc_p4_8_2"></a>Поведение регистра 177702</dt>
			<dd>
			<p>На реальном железе, этот регистр доступен только по записи, но, при 
			этом, при чтении формируется RPLY и всегда читается 177777. Если в данный 
			регистр записать любое значение, то он пропадает с шины и перестаёт 
			быть доступным вообще, как по записи, так и по чтению. Однако, из-за 
			ошибки в микрокоде, команда EMT сбрасывает внутреннее состояние регистра 
			и снова делает его доступным по записи, и чтение тоже работает.</p>
			<p>Ключом "<span class="selb">Emulate 177702 behavior</span>" в ini-файле 
			можно включить эмуляцию реального поведения этого регистра. Или выключить, 
			тогда данный регистр всегда будет доступен по записи, и не будет пропадать 
			с шины, но читаться из него будет число 177777, как в реале.</p>
			</dd>
			<dt><a name="toc_p4_8_3"></a>Эмуляция процессора 1801ВМ1Г</dt>
			<dd>
			<p>Основное отличие этого процессора - в нём реализована аппаратная 
			команда семейства EIS - MUL. Из-за чего ANDOS v3.1 и младше не работают 
			на этом процессоре, т.к. используют опкоды 070ххх в своих целях и ожидают, 
			что они будут вызывать прерывание по вектору 10. Второе отличие - реализовано 
			прерывание от событий ВЕ-таймера по вектору 270. Есть ещё некоторые 
			отличия, но они не эмулируются.</p>
			<p>Ключом "<span class="selb">Emulate CPU 1801VM1G</span>" в ini-файле 
			можно включить эмуляцию этих особенностей.</p>
			</dd>
			<dt><a name="toc_p4_8_4"></a>Эмуляция семейств команд EIS и FIS</dt>
			<dd>
			<p>Ключами "<span class="selb">Emulate EIS Instructions Set</span>" 
			и "<span class="selb">Emulate FIS Instructions Set</span>" в ini-файле 
			можно включить эмуляцию этих наборов команд. Тем самым можно поломать 
			логику работы разных программ, использующих опкоды из диапазонов этих 
			команд в своих целях для вызова прерывания по вектору 10.</p>
			<p>К тому же, поскольку эти команды не реализованы аппаратно, то и тайминги 
			их выполнения не известны и для EIS взяты от 1801ВМ2, а для FIS взяты 
			произвольные значения. </p>
			</dd>
		</dl>
		<h1><a name="toc_p9"></a>Полезные возможности.</h1>
		<h3><a name="toc_p9_1"></a>Сохранение музыки, звучащей на AY-3-8910 или 
		Covox в формате WAV</h3>
		<p>Перед тем, как начать сохранять музыку, необходимо выполнить следующие 
		действия:</p>
		<ol>
			<li>Выключить опцию &laquo;<span class="menu">Эмулировать сохранение 
			на ленту</span>&raquo;, при этом станут активными кнопки в панели управления 
			кассетными записями в окне &laquo;<span class="menu">Управление чтением 
			/ записью лент</span>&raquo;.</li>
			<li>Если окна &laquo;<span class="menu">Управление чтением / записью 
			лент</span>&raquo; нет на экране, то его необходимо вывести на экран. 
			Для этого нужно зайти в меню &laquo;<span class="menu">Вид</span>&raquo;-&gt;&laquo;<span class="menu">Панели 
			инструментов и закрепляемые окна</span>&raquo; и задействовать данное 
			окно.</li>
		</ol>
		<p>В окне &laquo;<span class="menu">Управление чтением / записью лент</span>&raquo; 
		следует снять галочки с обеих опций: &laquo;<i>Автоопределение начала ленты</i>&raquo; 
		и &laquo;<i>Автоопределение конца ленты</i>&raquo;.</p>
		<p>После этого можно приступать к сохранению. Для этого нужно нажать кнопку
		<img alt=" " src="img/bkemu/startrec.png"> перед началом мелодии, которую 
		вы хотите сохранить. Затем, дождавшись конца мелодии, следует нажать кнопку
		<img alt=" " src="img/bkemu/stoprec.png">. Это приведёт к появлению диалога 
		выбора сохраняемого файла. Обратите особое внимание, что файл надо сохранять 
		в формате <span class="var">.wav</span>, а не <span class="var">.tap</span>, 
		который задан по умолчанию. Не забывайте каждый раз переключать формат сохраняемого 
		файла.</p>
		<h3><a name="toc_p9_2"></a>Создание лога (дампа) данных, посылаемых в регистры 
		AY-3-8910 в формате PSG</h3>
		<p><span class="attnt">Внимание!</span> Эта функция корректно работает только 
		для одного AY, потому что я нигде не нашёл информации, как сохранять в дамп 
		номер чипа, для которого задаётся адрес регистра. Возможно, этого даже никто 
		никогда не предусматривал.</p>
		<p>Чтобы сохранить мелодию, звучащую на AY-3-8910, в виде дампа значений, 
		посылаемых в регистры AY-3-8910, необходимо нажать кнопку
		<img alt="PSG" height="22" src="img/bkemu/psgbtn.png" width="23"> в панели 
		инструментов <b>Звук</b>. Или выбрать опцию &laquo;<span class="menu">Дамп 
		регистров AY8910</span>&raquo; в меню &laquo;<span class="menu">Опции</span>&raquo;.</p>
		<p>Как только данная опция будет включена или кнопка будет нажата, сразу 
		же начнётся вывод дампа в лог файл. Поэтому не следует нажимать её слишком 
		заранее, чтобы не было в начале лога пустых циклов.</p>
		<p>Файл дампа создаётся в директории, заданной параметром &laquo;<span class="selb">User 
		Saves directory</span>&raquo;, по умолчанию это <span class="selc">UserSaves</span> 
		и имеет вид &quot;AYlog_{timestamp}.psg&quot;, чтобы гарантировать уникальность 
		имени файла. Переименование его в нужный пользователю вид является задачей 
		пользователя.</p>
		<p>Выключение данной опции или отжатие кнопки на панели инструментов приводит 
		к прекращению ведения лога и закрытию и фиксации файла.</p>
		<p>Если забыть выключить вовремя эту опцию, можно получить весьма большой 
		и ненужный файл <b>.PSG</b>.</p>
		<h3><a name="toc_p9_3"></a>Захват видео.</h3>
		<p>Управление захватом видео осуществляется из панели инструментов &quot;<span class="selw"><b>Захват 
		видео</b></span>&quot;, на ней есть всего две кнопки - начать захват и остановить 
		захват. Панель по умолчанию скрыта, показать её можно из меню &quot;<span class="menu">Вид</span>&quot;-&gt;&quot;<span class="menu">Панели 
		инструментов и закрепляемые окна</span>&quot;.</p>
		<p>За формирование видеофайла отвечает консольная утилита
		<span class="selc">ffmpeg.exe</span>. Файл <span class="selc">ffmpeg.exe</span> 
		в комплект не входит, его нужно скачивать самостоятельно и поместить в директорию 
		к исполняемому файлу эмулятора. При отсутствии этого файла на своём месте, 
		кнопки панели инструментов захвата будут неактивны. Наличие файла проверяется 
		один раз при запуске эмулятора, так что, если поместить
		<span class="selc">ffmpeg.exe</span> на место при запущенном эмуляторе, 
		неактивные кнопки сами собой не активируются, надо перезапустить эмулятор.</p>
		<p>Захваченное видео сохраняется в директории <span class="cmdk">Screenshots</span>. 
		Так же, туда отдельным файлом сохраняется и звук. Они рассинхронизированы, 
		и мне так и не удалось их синхронизировать.</p>
		<p>Параметры запуска <span class="selc">ffmpeg.exe</span> находятся в файле
		<span class="selc">bk.ini</span> в секции <b class="selb">[Main]</b> в ключе
		<span class="selb">FFMPEG Cmd Line</span>. Можете сами их менять как хотите, 
		нельзя только менять или удалять параметр &quot;<span class="strn">-s %dx%d</span>&quot; 
		- это подставляемое разрешение буфера захватываемого кадра.</p>
		<p><span class="attnt">ВНИМАНИЕ!</span> Если самостоятельно закрыть окно 
		консоли <span class="selc">ffmpeg.exe</span> или задать неправильные параметры, 
		из-за которых <span class="selc">ffmpeg.exe</span> сам завершится, то это 
		приведёт к полному <b>зависанию эмулятора</b>, <b><u>прибить его можно будет 
		только из диспетчера задач</u></b>. И это не лечится и никак не исправляется. 
		Это особенность Windows, точнее, кривая реализация асинхронного перехвата 
		перенаправления потоков консольного ввода/вывода.</p>
		<p>И если у вас не SSD, приготовьтесь к подтормаживаниям во время захвата. 
		Пока захваченные данные сбрасываются на диск, эмулятор замирает, т.к. захват 
		звука не сделан в отдельном потоке, пока что я вообще сомневаюсь в нужности 
		всего этого нововведения. </p>
		<h3><a name="toc_p9_4"></a>Скрипты.</h3>
		<p>Для работы с эмулятором возможно использовать примитивные скрипты.</p>
		<p>Скрипт, это обычный текстовый файл в кодировке <span class="selc">Windows-1251</span>, 
		другие кодировки не поддерживаются и не обрабатываются правильно (в смысле, 
		русские буквы). Всё содержимое скрипта передаётся как нажатие соответствующих 
		клавиш на клавиатуре. Но полноценное нажатие и отжатие клавиши при этом 
		не эмулируется, поэтому особо привередливые программы могут вести себя не 
		так, как ожидалось.</p>
		<p>Ещё один нюанс, связанный с БК-0011(М). По умолчанию в Windows конец 
		строки - символы CR (код 015), LF (код 012), и они оба передаются в эмулятор. 
		Монитор БК-0010 игнорирует символ CR, а мониторы БК-0011 и БК-0011М интерпретируют 
		их как перевод строки, в результате получается два перевода строки. Поэтому 
		для скриптов, которые будут использоваться на БК-0011 и БК-0011М лучше использовать 
		юниксовый формат конца строки, состоящий только из одного символа LF (код 
		012).</p>
		<p>Имеются управляющие коды, для выполнения действий, не являющихся нажатием 
		на клавишу. Управляющим символом выбран символ &quot;<span class="symb">|</span>&quot;, 
		как один из наиболее редко используемых на БК.</p>
		<p><span class="symb">||</span> - передать символ <span class="symb">|</span> 
		как обычный символ;</p>
		<p><span class="symb">|#</span> - задать задержку выполнения в 2 секунды. 
		Обычно, чтобы медленная БКшка могла что-то сделать и символы пока не передавались. 
		Нужное количество времени задаётся нужным количеством последовательностей 
		этих символов.</p>
		<p><span class="symb">|^</span> - нажать кнопку СТОП</p>
		<p><span class="symb">|0</span> .. <span class="symb">|9</span> - вставить 
		аргумент из списка аргументов. Скрипту можно передавать большой список аргументов, 
		но обрабатывать он будет, как видно - всего десять.</p>
		<p>В данный момент в скрипт передаются следующие аргументы:</p>
		<ul>
			<li>Для БК-0010: <span class="symb">|0</span> - имя .bin файла, который 
			передаётся программе из командной строки, ДрагнДропа или при запуске
			<span class="var">.bin</span> файла из оболочки Windows.</li>
			<li>&nbsp;Для БК-0011(М): <span class="symb">|0</span> - команда для 
			подключения страницы в окно <span class="nmbr">0</span> (если задано),
			<span class="symb">|1</span> - команда для подключения страницы в окно
			<span class="nmbr">1</span> (если задано), <span class="symb">|2</span> 
			- имя .bin файла, который передаётся программе из командной строки, 
			ДрагнДропа или при запуске <span class="var">.bin</span> файла из оболочки 
			Windows.</li>
		</ul>
		<p>Возможно, когда-нибудь скриптовые возможности будут расширены, когда 
		в этом возникнет необходимость.</p>
		<h3><a name="toc_p9_5"></a>Описание режимов работы двух AY.</h3>
		<p>На момент написания этого текста существует три реализованных в железе 
		варианта подключения спаренных чипов AY-3-8910 (YM2149F) к БК-0011(0010).</p>
		<ol>
			<li>Режим Gryphon (по названию автора режима)
			<p>Первый вариант. Маски разрядов <span class="nmbr">14</span>. и
			<span class="nmbr">15</span>. порта <span class="nmbr">177714</span>.</p>
			<p>Основан на выборе нужного AY при помощи старших разрядов
			<span class="nmbr">14</span>. и <span class="nmbr">15</span>. адреса 
			регистра, передаваемого в порт <span class="nmbr">177714</span>. Суть 
			в следующем. Поскольку обмен с AY происходит путём отправки пары "регистр 
			AY (слово) - данные (байт)", то в момент отправки слова с номером регистра 
			AY один из битов <span class="nmbr">14</span>. или
			<span class="nmbr">15</span>. устанавливается, как маска, что позволяет 
			подключить нужный AY. Либо сразу оба, если установить оба бита. Или 
			ни одного, если забыть установить эти биты.</p>
			<p>Данный вариант подключения обратно совместим, т.к. все legacy ("старые") 
			проигрыватели при отправке данных в <span class="nmbr">177714</span> 
			ничего не записывают в старший байт, и соответственно не трогают биты
			<span class="nmbr">14</span>. и <span class="nmbr">15</span>. Единственное 
			"но" - при этом оба AY "играют" параллельно одно и то же. На слух это 
			иногда звучит оригинально, но для истинных ценителей желательно предусмотреть 
			возможность физического отключения одного из AY.</p>
			<p>Таким образом, необходимо при каждом задании адреса регистра выставлять 
			необходимые биты.</p>
			<p>Пример:</p>
			<pre><span class="labl">AY1</span> = <span class="nmbr">100000</span>
<span class="labl">AY2</span> = <span class="nmbr">040000</span>
<span class="labl">NOISE</span> = <span class="nmbr">6</span>
<span class="labl">MIXER</span> = <span class="nmbr">7</span>
<span class="cmds">mov</span>     #<span class="labl">AY1</span> + <span class="labl">MIXER</span>, <span class="regn">R0</span>
<span class="cmds">com</span>     <span class="regn">R0</span>
<span class="cmds">mov</span>     <span class="regn">R0</span>, @#<span class="nmbr">177714</span>      <span class="cmmnt">       ; выбираем регистр 7 AY#1</span>
<span class="cmds">movb</span>    #^c<span class="nmbr">^b101111</span>, @#<span class="nmbr">177714</span>    <span class="cmmnt">; заносим туда данные</span>
<span class="cmds">mov</span>     #<span class="labl">AY2</span> + <span class="labl">MIXER</span>, <span class="regn">R0</span>
<span class="cmds">com</span>     <span class="regn">R0</span>
<span class="cmds">mov</span>     <span class="regn">R0</span>, @#<span class="nmbr">177714</span>             <span class="cmmnt">; выбираем регистр 7 AY#2</span>
<span class="cmds">movb</span>    #^c<span class="nmbr">^b110111</span>, @#<span class="nmbr">177714</span>    <span class="cmmnt">; заносим туда данные</span>
<span class="cmds">mov</span>     #<span class="labl">AY1</span> + <span class="labl">AY2</span> + <span class="labl">NOISE</span>, <span class="regn">R0</span>
<span class="cmds">com</span>     <span class="regn">R0</span>
<span class="cmds">mov</span>     <span class="regn">R0</span>, @#<span class="nmbr">177714</span>             <span class="cmmnt">; выбираем регистр 6 AY#1 и AY#2</span>
<span class="cmds">movb</span>    #^c<span class="nmbr">20</span>, @#<span class="nmbr">177714</span>          <span class="cmmnt">; заносим туда данные</span>
</pre>
			</li>
			<li>Режим TurboSound
			<p>Уже устоявшийся стандарт.</p>
			<p>Плата TurboSound спроектирована и реализована так, что её можно подключить 
			на место существующего чипа AY-3-8910 (YM2149F) и она будет работать 
			как с legacy ("старыми") проигрывателями так и с новыми, которые поддерживают 
			способ переключения двух AY.</p>
			<p>Этот способ подключения очень прост. Что бы переключить AY потребуется 
			отправка слова в порт <span class="nmbr">177714</span> с номером несуществующего 
			регистра AY. В стандарте TurboSound этими регистрами выбраны значения
			<span class="nmbr">255</span>. и <span class="nmbr">254</span>. Программно 
			это выглядит достаточно просто. Перед отправкой основных данных управления 
			регистрами AY в порт <span class="nmbr">177714</span> пишется подключение 
			нужного AY. Т.е. записал один раз, выбрав тем самым нужный чип, и дальше 
			вывод всех адресов и данных перенаправляются туда. Выбрать одновременно 
			оба чипа - невозможно. Всегда, в любое время выбран какой-либо один 
			из чипов. Поэтому для legacy проигрывателей всё остаётся по-старому.</p>
			<p>Пример:</p>
			<pre><span class="labl">AY1</span> = <span class="nmbr">255</span>.
<span class="labl">AY2</span> = <span class="nmbr">254</span>.
<span class="labl">NOISE</span> = <span class="nmbr">6</span>
<span class="labl">MIXER</span> = <span class="nmbr">7</span>
<span class="cmds">mov</span>     #^c<span class="labl">AY1</span>, @#<span class="nmbr">177714</span>         <span class="cmmnt">; выбираем AY#1</span>
<span class="cmds">mov</span>     #^c<span class="labl">MIXER</span>, @#<span class="nmbr">177714</span>       <span class="cmmnt">; выбираем регистр 7 AY#1</span>
<span class="cmds">movb</span>    #^c<span class="nmbr">^b101111</span>, @#<span class="nmbr">177714</span>    <span class="cmmnt">; заносим туда данные</span>
<span class="cmds">mov</span>     #^c<span class="labl">NOISE</span> , @#<span class="nmbr">177714</span>      <span class="cmmnt">; выбираем регистр 6 AY#1</span>
<span class="cmds">movb</span>    #^c<span class="nmbr">20</span>, @#<span class="nmbr">177714</span>          <span class="cmmnt">; заносим туда данные</span>
<span class="cmds">mov</span>     #^c<span class="labl">AY2</span>, @#<span class="nmbr">177714</span>         <span class="cmmnt">; выбираем AY#2</span>
<span class="cmds">mov</span>     #^c<span class="labl">MIXER</span>, @#<span class="nmbr">177714</span>       <span class="cmmnt">; выбираем регистр 7 AY#2</span>
<span class="cmds">movb</span>    #^c<span class="nmbr">^b110111</span>, @#<span class="nmbr">177714</span>    <span class="cmmnt">; заносим туда данные</span>
<span class="cmds">mov</span>     #^c<span class="labl">NOISE</span> , @#<span class="nmbr">177714</span>      <span class="cmmnt">; выбираем регистр 6 AY#2</span>
<span class="cmds">movb</span>    #^c<span class="nmbr">13</span>, @#<span class="nmbr">177714</span>          <span class="cmmnt">; заносим туда данные</span></pre>
			</li>
			<li>Внешнее устройство AZBK.
			<p>Здесь не реализовано. Будет реализовано в эмуляции устройства AZBK.</p>
			</li>
			<li>Режим gid (по названию автора режима)
			<p>Виртуальный режим, нигде аппаратно не реализован.</p>
			<p>В этом режиме нужный AY выбирается не маской, а номером чипа в битах
			<span class="nmbr">7</span>..<span class="nmbr">4</span> адреса. Т.е. 
			получается, что номера регистров AY#<span class="nmbr">1</span> будут
			<span class="nmbr">0x00</span>..<span class="nmbr">0x0f</span>, номера 
			регистров AY#<span class="nmbr">2</span> будут <span class="nmbr">0x10</span>..<span class="nmbr">0x1f</span> 
			и т.д. И одновременно выбрать несколько чипов тоже невозможно.</p>
			<p>Он также обратно совместим со старыми проигрывателями, потому как 
			они оперируют лишь набором регистров <span class="nmbr">0x00</span>..<span class="nmbr">0x0f</span>.</p>
			<p>Пример:</p>
			<pre><span class="labl">AY1</span> = <span class="nmbr">0x00</span>
<span class="labl">AY2</span> = <span class="nmbr">0x10</span>
<span class="labl">NOISE</span> = <span class="nmbr">6</span>
<span class="labl">MIXER</span> = <span class="nmbr">7</span>
<span class="cmds">mov</span>     #<span class="labl">AY1</span> + <span class="labl">MIXER</span>, <span class="regn">R0</span>
<span class="cmds">com</span>     <span class="regn">R0</span>
<span class="cmds">mov</span>     <span class="regn">R0</span>, @#<span class="nmbr">177714</span>      <span class="cmmnt">       ; выбираем регистр 7 AY#1</span>
<span class="cmds">movb</span>    #^c<span class="nmbr">^b101111</span>, @#<span class="nmbr">177714</span>    <span class="cmmnt">; заносим туда данные</span>
<span class="cmds">mov</span>     #<span class="labl">AY2</span> + <span class="labl">MIXER</span>, <span class="regn">R0</span>
<span class="cmds">com</span>     <span class="regn">R0</span>
<span class="cmds">mov</span>     <span class="regn">R0</span>, @#<span class="nmbr">177714</span>             <span class="cmmnt">; выбираем регистр 7 AY#2</span>
<span class="cmds">movb</span>    #^c<span class="nmbr">^b110111</span>, @#<span class="nmbr">177714</span>    <span class="cmmnt">; заносим туда данные</span>
<span class="cmds">mov</span>     #<span class="labl">AY1</span> + <span class="labl">NOISE</span>, <span class="regn">R0</span>
<span class="cmds">com</span>     <span class="regn">R0</span>
<span class="cmds">mov</span>     <span class="regn">R0</span>, @#<span class="nmbr">177714</span>             <span class="cmmnt">; выбираем регистр 6 AY#1</span>
<span class="cmds">movb</span>    #^c<span class="nmbr">20</span>, @#<span class="nmbr">177714</span>          <span class="cmmnt">; заносим туда данные</span>
<span class="cmds">mov</span>     #<span class="labl">AY2</span> + <span class="labl">NOISE</span>, <span class="regn">R0</span>
<span class="cmds">com</span>     <span class="regn">R0</span>
<span class="cmds">mov</span>     <span class="regn">R0</span>, @#<span class="nmbr">177714</span>             <span class="cmmnt">; выбираем регистр 6 AY#2</span>
<span class="cmds">movb</span>    #^c<span class="nmbr">13</span>, @#<span class="nmbr">177714</span>          <span class="cmmnt">; заносим туда данные</span>
</pre>
			</li>
		</ol>
		<h1><a name="toc_p5"></a>Приложение 1. Соответствия раскладки клавиатур 
		PC и БК и горячие клавиши</h1>
		<table class="border clltid">
			<caption>Табл.1. Соответствие раскладки клавиатуры. </caption>
			<tr>
				<th style="width: 20%">Клавиша БК </th>
				<th style="width: 30%">Клавиша PC </th>
				<th style="width: 20%">Клавиша БК </th>
				<th style="width: 30%">Клавиша PC </th>
			</tr>
			<tr>
				<td><span class="btn">ПОВТ</span></td>
				<td>
				<p>F1</p>
				</td>
				<td><span class="btn">
				<img alt="" height="30" src="img/kbd/kbbs_w.png" width="61"></span></td>
				<td>
				<p>Backspace</p>
				</td>
			</tr>
			<tr>
				<td><span class="btn">KT</span></td>
				<td>
				<p>Esc</p>
				</td>
				<td><span class="btn">ВС</span></td>
				<td>
				<p>Insert</p>
				</td>
			</tr>
			<tr>
				<td><span class="btn">
				<img alt="" height="30" src="img/kbd/kbdelrt_w.png" width="61"></span></td>
				<td>
				<p>F2</p>
				</td>
				<td><span class="btn">ГРАФ</span></td>
				<td>
				<p>Delete</p>
				</td>
			</tr>
			<tr>
				<td><span class="btn">
				<img alt="" height="30" src="img/kbd/kbdel_w.png" width="61"></span></td>
				<td>
				<p>F3</p>
				</td>
				<td><span class="btn">УСТ<br>ТАБ</span></td>
				<td>
				<p>Home</p>
				</td>
			</tr>
			<tr>
				<td><span class="btn">
				<img alt="" height="30" src="img/kbd/kbins_w.png" width="61"></span></td>
				<td>
				<p>F4</p>
				</td>
				<td><span class="btn">ЗАП</span></td>
				<td>
				<p>End</p>
				</td>
			</tr>
			<tr>
				<td><span class="btn">ИНД<br>СУ</span></td>
				<td>
				<p>F5</p>
				</td>
				<td><span class="btn">СБР<br>ТАБ</span></td>
				<td>
				<p>Page Up</p>
				</td>
			</tr>
			<tr>
				<td><span class="btn">БЛОК<br>РЕД</span></td>
				<td>
				<p>F6</p>
				</td>
				<td><span class="btn">СТИР</span></td>
				<td>
				<p>Page Down</p>
				</td>
			</tr>
			<tr>
				<td><span class="btn">ШАГ</span></td>
				<td>
				<p>F7</p>
				</td>
				<td><span class="btn">СТР</span></td>
				<td>
				<p>CapsLock выкл.</p>
				</td>
			</tr>
			<tr>
				<td><span class="btn">СБР</span></td>
				<td>
				<p>F8</p>
				</td>
				<td><span class="btn">ЗАГЛ</span></td>
				<td>
				<p>CapsLock вкл.</p>
				</td>
			</tr>
			<tr>
				<td><span class="btn">СТОП</span></td>
				<td>
				<p>Pause или num. /</p>
				</td>
				<td><span class="btn">РУС</span></td>
				<td>
				<p>Левый/Правый Win</p>
				</td>
			</tr>
			<tr>
				<td><span class="btn">СУ</span></td>
				<td>
				<p>Любой Ctrl</p>
				</td>
				<td><span class="btn">ЛАТ</span></td>
				<td>
				<p>Левый/Правый Win</p>
				</td>
			</tr>
			<tr>
				<td><span class="btn">АР2</span></td>
				<td>
				<p>Любой Alt</p>
				</td>
				<td>&nbsp;</td>
				<td>&nbsp;</td>
			</tr>
		</table>
		<p>Цифро-буквенные клавиши полностью соответствуют знакам, нарисованным 
		на клавишах, кроме клавиши ~/` в русской раскладке. Т.к. Буквы Ё/ё на БК 
		нет, то выводится результат прямой перекодировки ПК-скан кода в БК скан 
		код (буквы Ю/Ч) </p>
		<p>Поскольку клавиши <span class="selc">Ctrl</span> и <span class="selc">
		Alt</span> заняты под эмуляцию <span class="selc">СУ</span> и
		<span class="selc">АР2</span>, то привычные сочетания клавиш
		<span class="selc">Ctrl</span>-&lt;клавиша&gt;, <span class="selc">Alt</span>-&lt;клавиша&gt;, 
		если клавиша относится к цифро-буквенным, работают не как горячие клавиши 
		приложения Windows, а как соответствующие клавиши клавиатуры БК.</p>
		<p><a href="kbdLayout_BKPC.html" target="_blank">Интерактивную карту</a> 
		раскладки клавиатуры можно посмотреть
		<a href="kbdLayout_BKPC.html" target="_blank">тут</a>.</p>
		<table class="border vtop">
			<caption>Табл.2. Сочетания горячих клавиш. </caption>
			<tr>
				<th style="width: 150px">Сочетание клавиш</th>
				<th style="width: 200px">Пункт меню</th>
				<th>Функция</th>
			</tr>
			<tr>
				<td>
				<p>F12</p>
				</td>
				<td>
				<p>Скриншот</p>
				</td>
				<td>
				<p>Сделать снимок экрана БК, файлы сохраняются в директории, заданной 
				ключом &laquo;<span class="selb">Screenshots directory</span>&raquo; 
				файла настроек.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Num. +</p>
				</td>
				<td>
				<p>Ускорить</p>
				</td>
				<td>
				<p>Увеличить частоту процессора на <span class="nmbr">1000</span> 
				Гц</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Num. -</p>
				</td>
				<td>
				<p>Замедлить</p>
				</td>
				<td>
				<p>Уменьшить частоту процессора на <span class="nmbr">1000</span> 
				Гц </p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Shift+Num. +</p>
				</td>
				<td>
				<p>Ускорить</p>
				</td>
				<td>
				<p>Увеличить частоту процессора на <span class="nmbr">1</span> Гц</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Shift+Num. -</p>
				</td>
				<td>
				<p>Замедлить</p>
				</td>
				<td>
				<p>Уменьшить частоту процессора на <span class="nmbr">1</span> Гц
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Ctrl+Num. +</p>
				</td>
				<td>
				<p>Ускорить</p>
				</td>
				<td>
				<p>Увеличить частоту процессора на <span class="nmbr">10</span> 
				Гц</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Ctrl+Num. -</p>
				</td>
				<td>
				<p>Замедлить</p>
				</td>
				<td>
				<p>Уменьшить частоту процессора на <span class="nmbr">10</span> 
				Гц </p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Ctrl+Shift+Num. +</p>
				</td>
				<td>
				<p>Ускорить</p>
				</td>
				<td>
				<p>Увеличить частоту процессора на <span class="nmbr">100</span> 
				Гц</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Ctrl+Shift+Num. -</p>
				</td>
				<td>
				<p>Замедлить</p>
				</td>
				<td>
				<p>Уменьшить частоту процессора на <span class="nmbr">100</span> 
				Гц </p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Alt+Num. +</p>
				</td>
				<td>
				<p>Ускорить</p>
				</td>
				<td>
				<p>Увеличить частоту процессора на <span class="nmbr">1</span> МГц</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Alt+Num. -</p>
				</td>
				<td>
				<p>Замедлить</p>
				</td>
				<td>
				<p>Уменьшить частоту процессора на <span class="nmbr">1</span> МГц
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Alt+Shift+Num. +</p>
				</td>
				<td>
				<p>Ускорить</p>
				</td>
				<td>
				<p>Увеличить частоту процессора на <span class="nmbr">10000</span> 
				Гц (<span class="nmbr">10</span> кГц)</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Alt+Shift+Num. -</p>
				</td>
				<td>
				<p>Замедлить</p>
				</td>
				<td>
				<p>Уменьшить частоту процессора на <span class="nmbr">10000</span> 
				Гц (<span class="nmbr">10</span> кГц)</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Ctrl+Alt+Num. +</p>
				</td>
				<td>
				<p>Ускорить</p>
				</td>
				<td>
				<p>Увеличить частоту процессора на <span class="nmbr">100000</span> 
				Гц (<span class="nmbr">100</span> кГц)</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Ctrl+Alt+Num. -</p>
				</td>
				<td>
				<p>Замедлить</p>
				</td>
				<td>
				<p>Уменьшить частоту процессора на <span class="nmbr">100000</span> 
				Гц (<span class="nmbr">100</span> кГц)</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Ctrl+Alt+Shift+Num. +</p>
				</td>
				<td>
				<p>Ускорить</p>
				</td>
				<td>
				<p>Увеличить частоту процессора в <span class="nmbr">10</span> раз</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Ctrl+Alt+Shift+Num. -</p>
				</td>
				<td>
				<p>Замедлить</p>
				</td>
				<td>
				<p>Уменьшить частоту процессора в <span class="nmbr">10</span> раз</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Num. *</p>
				</td>
				<td>
				<p>Стандартная скорость </p>
				</td>
				<td>
				<p>Восстановить частоту процессора по умолчанию </p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Alt+F9</p>
				</td>
				<td>
				<p>Стоп/Продолжить</p>
				</td>
				<td>
				<p>Прервать / Продолжить выполнение программы</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>F9</p>
				</td>
				<td>
				<p>Точка останова </p>
				</td>
				<td>
				<p>Поставить точку останова без условия</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Ctrl+F9</p>
				</td>
				<td>
				<p>Точка останова с условием</p>
				</td>
				<td>
				<p>Поставить точку останова с условием (<span class="itl">не работает, 
				т.к. отсутствует функционал</span>) </p>
				</td>
			</tr>
			<tr>
				<td>
				<p>F11</p>
				</td>
				<td>
				<p>Шаг с заходом </p>
				</td>
				<td>
				<p>Выполнить одну команду с заходом в подпрограмму</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>F10</p>
				</td>
				<td>
				<p>Шаг с обходом </p>
				</td>
				<td>
				<p>Выполнить одну команду без захода в подпрограмму</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Shift+F11</p>
				</td>
				<td>
				<p>Шаг с выходом </p>
				</td>
				<td>
				<p>Выйти из текущей подпрограммы</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Ctrl+F10</p>
				</td>
				<td>
				<p>Выполнить до строки </p>
				</td>
				<td>
				<p>Выполнить программы до указанной команды</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Scroll Lock</p>
				</td>
				<td>
				<p>Режим цвета </p>
				</td>
				<td>
				<p>Переключение Цветной/Чёрно-белый режим экрана</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Shift+Scroll Lock</p>
				</td>
				<td>
				<p>Адаптивный Ч/Б режим</p>
				</td>
				<td>
				<p>Переключить Ч/Б режим с адаптивного на точный </p>
				</td>
			</tr>
			<tr>
				<td>
				<p>Ctrl+Alt+Scroll Lock</p>
				</td>
				<td>
				<p>Во весь экран </p>
				</td>
				<td>
				<p>Переключение полноэкранного/оконного режим экрана</p>
				</td>
			</tr>
			<caption>&nbsp;</caption>
		</table>
		<h1><a name="toc_p6"></a>Приложение 2. Описание ключей в файле &laquo;bk.ini&raquo;</h1>
		<p>Все ключи делятся на две категории, информативные (<b>И</b>) и директивные 
		(<b>Д</b>). Информативные ключи содержат информацию о параметрах, которые 
		изменять можно, но нежелательно, поскольку они, в общем-то, предназначены 
		для хранения внутренних параметров эмулятора. Директивные ключи содержат 
		информацию о параметрах, которые можно менять по своему усмотрению и надобностям, 
		тем более, что некоторые параметры, можно задать только вручную, редактированием
		<span class="selc">ini</span> файла.</p>
		<p>Например, <span class="selb">BK11M Monitor BOS</span> - директивный ключ, 
		содержит имя файла дампа ПЗУ БОС 11М, при необходимости его можно заменить 
		на имя файла своего модифицированного ПЗУ БОС 11М, чтобы посмотреть, что 
		из этого выйдет, или с другими целями.</p>
		<table class="border vtop">
			<caption>Табл.3. Описание ключей файла конфигурации. </caption>
			<tr>
				<th style="width: 160px">Название ключа</th>
				<th style="width: 170px">Значение по умолчание</th>
				<th>Описание</th>
				<th>Тип</th>
			</tr>
			<tr>
				<td colspan="4">
				<p class="selb centr"><b>[Rom modules]</b></p>
				<p class="centr">Потенциально кастомизируемая секция</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK10 Monitor</p>
				</td>
				<td>
				<p>bk10_017_mon.rom</p>
				</td>
				<td>
				<p>Имя модуля ПЗУ монитора БК 0010</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK10 Focal</p>
				</td>
				<td>
				<p>bk10_018_focal.rom</p>
				</td>
				<td>
				<p>Имя модуля ПЗУ Фокала прошивки №18</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK10 Focal_84</p>
				</td>
				<td>
				<p>bk10_084_focal.rom</p>
				</td>
				<td>
				<p>Имя модуля ПЗУ Фокала прошивки №84</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK10 MSTD</p>
				</td>
				<td>
				<p>bk10_019_mstd.rom</p>
				</td>
				<td>
				<p>Имя модуля ПЗУ блока МСТД 10</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK10 Basic1</p>
				</td>
				<td>
				<p>bk10_106_basic1.rom</p>
				</td>
				<td>
				<p>Имя модуля 1-го ПЗУ Бейсика</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK10 Basic2</p>
				</td>
				<td>
				<p>bk10_107_basic2.rom</p>
				</td>
				<td>
				<p>Имя модуля 2-го ПЗУ Бейсика</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK10 Basic3</p>
				</td>
				<td>
				<p>bk10_108_basic3.rom</p>
				</td>
				<td>
				<p>Имя модуля 3-го ПЗУ Бейсика</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK11 Monitor BOS</p>
				</td>
				<td>
				<p>bk11_201_bos.rom</p>
				</td>
				<td>
				<p>Имя модуля ПЗУ БОС 11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK11 Monitor EXT</p>
				</td>
				<td>
				<p>bk11_202_ext.rom</p>
				</td>
				<td>
				<p>Имя модуля ПЗУ расширения БОС 11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK11 MSTD</p>
				</td>
				<td>
				<p>bk11_203_mstd.rom</p>
				</td>
				<td>
				<p>Имя модуля ПЗУ блока МСТД 11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK11 Basic1</p>
				</td>
				<td>
				<p>bk11_198_basic1.rom</p>
				</td>
				<td>
				<p>Имя модуля 1-го ПЗУ Бейсика БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK11 Basic2</p>
				</td>
				<td>
				<p>bk11_199_basic2.rom</p>
				</td>
				<td>
				<p>Имя модуля 2-го ПЗУ Бейсика БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK11 Basic3</p>
				</td>
				<td>
				<p>bk11_200_basic3.rom</p>
				</td>
				<td>
				<p>Имя модуля 3-го ПЗУ Бейсика БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK11M Monitor BOS</p>
				</td>
				<td>
				<p>bk11m_324_bos.rom</p>
				</td>
				<td>
				<p>Имя модуля ПЗУ БОС 11М </p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK11M Monitor EXT</p>
				</td>
				<td>
				<p>bk11m_325_ext.rom</p>
				</td>
				<td>
				<p>Имя модуля ПЗУ расширения БОС 11М </p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK11M MSTD</p>
				</td>
				<td>
				<p>b11m_mstd.rom</p>
				</td>
				<td>
				<p>Имя модуля ПЗУ блока МСТД 11М </p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK11M Basic1</p>
				</td>
				<td>
				<p>basic11m_0.rom</p>
				</td>
				<td>
				<p>Имя модуля 1-го ПЗУ Бейсика БК11М</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK11M Basic2</p>
				</td>
				<td>
				<p>basic11m_1.rom</p>
				</td>
				<td>
				<p>Имя модуля 2-го ПЗУ Бейсика БК11М</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK11M Basic3</p>
				</td>
				<td>
				<p>basic11m_1.rom</p>
				</td>
				<td>
				<p>Имя модуля 3-го ПЗУ Бейсика БК11М</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>FDD KNGMD</p>
				</td>
				<td>
				<p>DISK_326.rom</p>
				</td>
				<td>
				<p>Имя модуля ПЗУ блока КНГМД БК11М</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>FDD KNGMD253</p>
				</td>
				<td>
				<p>DISK_253.rom</p>
				</td>
				<td>
				<p>Имя модуля ПЗУ блока КНГМД БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>FDD A16M</p>
				</td>
				<td>
				<p>DISK_A16M_v2.41.rom</p>
				</td>
				<td>
				<p>Имя модуля ПЗУ контроллера <b>А16М</b> </p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>FDD SMK512</p>
				</td>
				<td>
				<p>DISK_SMK512_v2.05.rom</p>
				</td>
				<td>
				<p>Имя модуля ПЗУ контроллера <b>СМК-512</b> </p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>FDD Samara</p>
				</td>
				<td>
				<p>DISK_SAMARA_HDD+FIS.rom</p>
				</td>
				<td>
				<p>Имя модуля ПЗУ самарского блока КНГМД+HDD ПЗУ на основе 326-й 
				прошивки.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK11 Optional Page12.1</p>
				</td>
				<td>
				<p>&lt;empty&gt;</p>
				</td>
				<td>
				<p>Имя опционального модуля ПЗУ, подгружаемого в
				<span class="nmbr">012</span>(<span class="nmbr">10</span>.) страницу 
				БК11(М) по адресам <span class="nmbr">0100000</span>-<span class="nmbr">0117777</span></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK11 Optional Page12.2</p>
				</td>
				<td>
				<p>&lt;empty&gt;</p>
				</td>
				<td>
				<p>Имя опционального модуля ПЗУ, подгружаемого в
				<span class="nmbr">012</span>(<span class="nmbr">10</span>.) страницу 
				БК11(М) по адресам <span class="nmbr">0120000</span>-<span class="nmbr">0137777</span></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK11 Optional Page13.1</p>
				</td>
				<td>
				<p>&lt;empty&gt;</p>
				</td>
				<td>
				<p>Имя опционального модуля ПЗУ, подгружаемого в
				<span class="nmbr">013</span>(<span class="nmbr">11</span>.) страницу 
				БК11(М) по адресам <span class="nmbr">0100000</span>-<span class="nmbr">0117777</span></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK11 Optional Page13.2</p>
				</td>
				<td>
				<p>&lt;empty&gt;</p>
				</td>
				<td>
				<p>Имя опционального модуля ПЗУ, подгружаемого в
				<span class="nmbr">013</span>(<span class="nmbr">11</span>.) страницу 
				БК11(М) по адресам <span class="nmbr">0120000</span>-<span class="nmbr">0137777</span></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK10 Optional MSTD</p>
				</td>
				<td>
				<p>&lt;empty&gt;</p>
				</td>
				<td>
				<p>Имя опционального модуля ПЗУ, которое можно подгрузить в блок 
				МСТД БК10 по адресам <span class="nmbr">0140000</span>-<span class="nmbr">0157777</span></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td colspan="4">
				<p class="selb centr"><b>[Directories]</b></p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Program directory</p>
				</td>
				<td>
				<p>Bin</p>
				</td>
				<td>
				<p>Путь к программам в формате <b>Bin</b></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Tools directory</p>
				</td>
				<td>
				<p>Tools</p>
				</td>
				<td>
				<p>Путь к утилитам</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Memory directory</p>
				</td>
				<td>
				<p>Memory</p>
				</td>
				<td>
				<p>Путь к файлам состояния</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>User Saves directory</p>
				</td>
				<td>
				<p>UserSaves</p>
				</td>
				<td>
				<p>Путь к записываемым файлам</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Tapes directory</p>
				</td>
				<td>
				<p>Tapes</p>
				</td>
				<td>
				<p>Путь к кассетам БК</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Scripts directory</p>
				</td>
				<td>
				<p>Scripts</p>
				</td>
				<td>
				<p>Путь к клавиатурным скриптам</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Rom directory</p>
				</td>
				<td>
				<p>ROM</p>
				</td>
				<td>
				<p>Путь к модулям ПЗУ </p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>IMG directory </p>
				</td>
				<td>
				<p>Img</p>
				</td>
				<td>
				<p>Путь к образам дискет </p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Screenshots directory</p>
				</td>
				<td>
				<p>Screenshots</p>
				</td>
				<td>
				<p>Директория для хранения скриншотов</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td colspan="4">
				<p class="selb centr"><b>[Main]</b></p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BK model</p>
				</td>
				<td>
				<p>BK-0010-01</p>
				</td>
				<td>
				<p>Конфигурация БК, которая стартует при запуске эмулятора. Возможные 
				значения: </p>
				<ul>
					<li>
					<p>BK-0010-01</p>
					</li>
					<li>
					<p>BK-0010-01_MSTD</p>
					</li>
					<li>
					<p>BK-0010-01_EXT32RAM</p>
					</li>
					<li>
					<p>BK-0010-01_FDD</p>
					</li>
					<li>
					<p>BK-0010-01_A16M</p>
					</li>
					<li>
					<p>BK-0010-01_SMK512</p>
					</li>
					<li>
					<p>BK-0010-01_SAMARA</p>
					</li>
					<li>
					<p>BK-0011</p>
					</li>
					<li>
					<p>BK-0011_FDD</p>
					</li>
					<li>
					<p>BK-0011_SAMARA</p>
					</li>
					<li>
					<p>BK-0011M</p>
					</li>
					<li>
					<p>BK-0011M_FDD</p>
					</li>
					<li>
					<p>BK-0011M_A16M</p>
					</li>
					<li>
					<p>BK-0011M_SMK512</p>
					</li>
					<li>
					<p>BK-0011M_SAMARA</p>
					</li>
				</ul>
				<p>Если здесь будет записано что-либо другое, то по умолчанию будет 
				запущена конфигурация BK-0010-01. (<i>не меняйте вручную, вообще 
				не трогайте</i>) </p>
				</td>
				<td>
				<p>И</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Screenshot number</p>
				</td>
				<td>
				<p><span class="nmbr">1</span></p>
				</td>
				<td>
				<p>Инкрементный счётчик для файлов скриншотов. Увеличивается с каждым 
				сделанным скриншотом. Если число станет слишком большим, можно вручную 
				установить своё значение, которое больше нравится.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Screen render type</p>
				</td>
				<td>
				<p><span class="nmbr">1</span></p>
				</td>
				<td>
				<p>Тип движка прорисовки для экрана. Поддерживаемые режимы:
				<span class="nmbr">0</span> - <span class="selc">OpenGL</span>,
				<span class="nmbr">1</span> - <span class="selc">Direct2D</span>,
				<span class="nmbr">2</span> - <span class="selc">VFW</span>,
				<span class="nmbr">3</span> - <span class="selc">Direct3D</span>. 
				В <span class="selc">Windows XP Direct2D</span> не поддерживается, 
				его поддержка начинается с <span class="selc">Windows Vista</span>, 
				поэтому при запуске эмулятора в <span class="selc">Windows XP</span> 
				номер <span class="nmbr">1</span> автоматически заменяется на
				<span class="nmbr">2</span>, любой другой режим остаётся прежним. 
				Режим <span class="selc">Direct3D</span> в настоящее время работает 
				не совсем удовлетворительно в полноэкранном режиме.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Oscilloscope render type</p>
				</td>
				<td>
				<p><span class="nmbr">1</span></p>
				</td>
				<td>
				<p>Тип движка прорисовки для осциллографа. Поддерживаемые режимы:
				<span class="nmbr">0</span> - <span class="selc">OpenGL</span>,
				<span class="nmbr">1</span> - <span class="selc">Direct2D</span>. 
				В <span class="selc">Windows XP Direct2D</span> не поддерживается, 
				его поддержка начинается с <span class="selc">Windows Vista</span>, 
				поэтому для <span class="selc">XP</span> остаётся единственный вариант:
				<span class="nmbr">0</span> - <span class="selc">OpenGL</span>, 
				при запуске эмулятора в <span class="selc">Windows XP</span> номер 
				автоматически устанавливается в <span class="nmbr">0</span>.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Sound Sample Rate</p>
				</td>
				<td>
				<p><span class="nmbr">44100</span></p>
				</td>
				<td>
				<p>Частота дискретизации звука. Чем выше частота, тем лучше работают 
				фильтры пищалки, ковокса и AY. Но и тем больше требования к производительности. 
				На данный момент поддерживается четыре значения:
				<span class="nmbr">44100</span>, <span class="nmbr">48000</span>,
				<span class="nmbr">96000</span>, <span class="nmbr">192000</span> 
				Гц. Все другие значения заменяются на значение по умолчанию
				<span class="nmbr">44100</span>.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>SoundChip Frequency</p>
				</td>
				<td>
				<p><span class="nmbr">1714286</span></p>
				</td>
				<td>
				<p>Рабочая частота музыкального сопроцессора. Можно задать значение 
				от <span class="nmbr">1000000</span> до <span class="nmbr">2000000</span> 
				Гц. Значения вне этого диапазона заменяются частотой по умолчанию
				<span class="nmbr">1714286</span> ≈ <span class="nmbr">12</span>МГц 
				/ <span class="nmbr">7</span></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>SoundChip Model</p>
				<p>SoundChip #2 Model</p>
				</td>
				<td>
				<p><span class="nmbr">1</span></p>
				</td>
				<td>
				<p>Модель музыкального сопроцессора. <span class="nmbr">0</span> 
				- AY-3-8910, <span class="nmbr">1</span> - YM2149F. Различие моделей 
				в том, что амплитуда огибающей формируется <span class="nmbr">4</span>-х 
				битным ЦАПом у AY-3-8910 и <span class="nmbr">5</span>-ти битным 
				у YM2149F. Разница в алгоритмах формирования шума не эмулируется, 
				и используется алгоритм, как у YM2149F.</p>
				<p>Все другие значения заменяются значением по умолчанию -
				<span class="nmbr">1</span>.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Multi AY Work Mode</p>
				</td>
				<td>
				<p><span class="nmbr">1</span></p>
				</td>
				<td>Эмуляция режима работы двух сопроцессоров.<br>
				<span class="nmbr">0</span> - режим "gid"<br><span class="nmbr">
				1</span> - режим "Gryphon"<br><span class="nmbr">2</span> - режим 
				"TurboSound"</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Use long Bin format</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Генерировать <span class="var">.bin</span> файлы в длинном формате, 
				т.е. <span class="nmbr">020</span> байтов заголовок: адрес загрузки, 
				длина, оригинальное имя файла и в конце файла - слово контрольной 
				суммы.</p>
				<p>Иначе - генерируется простой <span class="var">.bin</span> файл, 
				с заголовком <span class="nmbr">4</span> байта: адрес загрузки и 
				длина.</p>
				</td>
				<td>Д</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Origin screenshot size</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Создавать скриншоты оригинального размера, т.е. такого, какого 
				формируется текстура кадра экрана перед выводом на экран. Если опция 
				выключена, то скриншоты создаются размером как у viewport'а (на 
				данный момент <span class="nmbr">1024</span>х<span class="nmbr">768</span>) 
				путём масштабирования оригинальной текстуры, со сглаживанием средствами 
				рендера в процессе увеличения размеров.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>FFMPEG Cmd Line</p>
				</td>
				<td>
				<p>...</p>
				</td>
				<td>
				<p>Командная строка для запуска консольной утилиты
				<span class="selc">ffmpeg.exe</span>, по умолчанию имеет следующий 
				вид: &quot;<span class="var"> ffmpeg.exe -y -f rawvideo -vcodec 
				rawvideo -s %dx%d -pix_fmt bgra -framerate 48.804 -i - -c:v libx264 
				-crf 18 -preset slow -vf scale=1024:768</span>&quot;. Т.е. имя самого 
				файла <span class="selc">ffmpeg.exe</span> и его параметры командной 
				строки.</p>
				<p><span class="var">-s %dx%d</span> - это шаблон для подставляемого 
				разрешения кадров в буфере, если его убрать, то видео не получится.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Big buttons for Instrumental Panel</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Опция, влияющая на размер иконок на панелях инструментов. Введена 
				по просьбе людей, имеющих мониторы очень большого разрешения, для 
				которых обычные иконки слишком мелки.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Exclusive Open Image Files</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Опция, определяющая режим открытия монтируемых файлов образов 
				дискет. Если включена, то файлы образов, открытые эмулятором доступны 
				всем остальным программам только по чтению. Если выключена, то остальные 
				программы так же могут иметь доступ к файлам образов и по записи.</p>
				<p>Данная опция опасна и чревата порчей образов при неаккуратном 
				обращении.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Native RusLat Switch</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Опция задаёт способ переключения раскладки клавиатуры БК. Если 
				включена, то действует классическая схема: левая клавиша Windows 
				- клавиша РУС, правая клавиша Windows - клавиша ЛАТ. Это нужно тем 
				людям, у которых на клавиатуре две клавиши Windows. и которые пользуются 
				программами БК, в которых на клавиши РУС/ЛАТ назначены разные действия.</p>
				<p>Если опция выключена, то любая клавиша Windows действует как 
				переключатель раскладки. Это нужно тем людям, у которых на клавиатуре 
				осталась только одна клавиша Windows, и они не имеют возможности 
				найти и использовать старую добрую классическую 104-кнопочную клавиатуру 
				ПК.</p>
				</td>
				<td>&nbsp;</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Screen Width</p>
				</td>
				<td>
				<p>1024</p>
				</td>
				<td>
				<p>Ширина экрана БК, высота экрана вычисляется с помощью значения
				<span class="selb">Screen Aspect Ratio</span>, поэтому нет смысла 
				хранить её.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Screen Aspect Ratio</p>
				</td>
				<td>
				<p>1,3333333333333333</p>
				</td>
				<td>
				<p>Соотношение сторон экрана БК&nbsp; = Ш / В</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Date Instead Of Screenshot Number</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Управляет видом имён файлов сохраняемых скриншотов. Если включена 
				- то в имя файла вставляется штамп времени, если выключена - к имени 
				добавляется номер из ключа <span class="selb">Screenshot number</span>.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Enable MMG Instructions</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Опция включающая в отладочном ассемблере/дизассемблере опознавание 
				инструкций семейства MMG: <span class="cmds">MFPI</span>/<span class="cmds">MTPI</span>,
				<span class="cmds">MFPD</span>/<span class="cmds">MTPD</span></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Enable EIS Instructions</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Опция включающая в отладочном ассемблере/дизассемблере опознавание 
				инструкций семейства EIS: <span class="cmds">MUL</span>,<span class="cmds">DIV</span>,<span class="cmds">ASH</span>,<span class="cmds">ASHC</span></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Enable FIS Instructions</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Опция включающая в отладочном ассемблере/дизассемблере опознавание 
				инструкций семейства FIS: <span class="cmds">FADD</span>,<span class="cmds">FSUB</span>,<span class="cmds">FMUL</span>,<span class="cmds">FDIV</span></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Enable FPU Instructions</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Опция включающая в отладочном ассемблере/дизассемблере опознавание 
				инструкций семейства FPU: команд из диапазона <span class="nmbr">
				170000</span>-<span class="nmbr">177777</span></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">Emulate C Bug</td>
				<td>Yes</td>
				<td>Опция включает эмуляцию найденного в <span class="nmbr">2019</span> 
				году бага в процессоре с флагом <span class="symb">C</span> для 
				команд <span class="cmds">MOVB</span>, <span class="cmds">SWAB</span>,
				<span class="cmds">MFPS</span>.</td>
				<td>Д</td>
			</tr>
			<tr>
				<td class="selb">Emulate 177702 behavior</td>
				<td>Yes</td>
				<td>Опция включает реальное поведение регистра 177702 на шине МПИ</td>
				<td>Д</td>
			</tr>
			<tr>
				<td class="selb">Emulate CPU 1801VM1G</td>
				<td>No</td>
				<td>Опция включает эмуляцию процессора 1801ВМ1Г</td>
				<td>Д</td>
			</tr>
			<tr>
				<td class="selb">Emulate EIS Instructions Set</td>
				<td>No</td>
				<td>Опция включает аппаратную эмуляцию команд семейства EIS, которое 
				не реализовано в реальном процессоре 1801ВМ1.</td>
				<td>Д</td>
			</tr>
			<tr>
				<td class="selb">Emulate FIS Instructions Set</td>
				<td>No</td>
				<td>Опция включает аппаратную эмуляцию команд семейства FIS, которое 
				не реализовано в реальном процессоре 1801ВМ1.</td>
				<td>Д</td>
			</tr>
			<tr>
				<td colspan="4">
				<p class="selb centr"><b>[Parameters]</b></p>
				<p class="centr">Кастомизируемая секция</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>CPU start address</p>
				</td>
				<td>
				<p><span class="nmbr">0</span></p>
				</td>
				<td>
				<p>Адрес начального запуска, если <span class="nmbr">0</span>, то 
				берётся стандартный предзаданный для заданного типа БК, иначе - 
				БК стартует с заданного здесь адреса. Значим только старший байт, 
				как в регистре <span class="nmbr">177716</span>.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>CPU frequency</p>
				</td>
				<td>
				<p><span class="nmbr">0</span></p>
				</td>
				<td>
				<p>Начальная частота процессора БК, если <span class="nmbr">0</span>, 
				то берётся стандартная предзаданная для заданного типа БК.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Registers dump interval</p>
				</td>
				<td>
				<p><span class="nmbr">10</span></p>
				</td>
				<td>
				<p>Частота обновления содержимого регистров в окне Дампа регистров, 
				если задано значение <span class="nmbr">0</span> - то выключено. 
				Допустимые значения: <span class="nmbr">0</span>,
				<span class="nmbr">1</span>, <span class="nmbr">2</span>,
				<span class="nmbr">3</span>, <span class="nmbr">4</span>,
				<span class="nmbr">5</span>, <span class="nmbr">10</span>,
				<span class="nmbr">15</span>, <span class="nmbr">20</span>,
				<span class="nmbr">25</span>, <span class="nmbr">50</span>. Означает, 
				через сколько фреймов длительностью <span class="nmbr">20</span> 
				мс необходимо обновлять значения регистров и дампа памяти.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Sound volume</p>
				</td>
				<td>
				<p><span class="nmbr">30</span>%</p>
				</td>
				<td>
				<p>Громкость звука. Задаётся в процентах от <span class="nmbr">0</span> 
				до <span class="nmbr">100</span>.</p>
				</td>
				<td>
				<p>И</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Start dump address #0<br>...<br>Start dump address #3</p>
				</td>
				<td>
				<p><span class="nmbr">0</span></p>
				</td>
				<td>
				<p>Начальный адрес в окнах дамперов #<span class="nmbr">0</span>..#<span class="nmbr">3</span></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Dump List Pos #0<br>...<br>Dump List Pos #3</p>
				</td>
				<td>
				<p><span class="nmbr">0</span> : <span class="nmbr">0</span></p>
				</td>
				<td>
				<p>Задаёт, какую страницу и с какого адреса отображать в заданном 
				окне дампа памяти. Формат: Номер_Страницы : Адрес</p>
				<p>Данный параметр не рекомендуется изменять вручную, т.к. эти опции 
				действуют только в тех конфигурациях, где возможна страничная организация 
				памяти, номера страниц специфичны для конкретных конфигураций, а 
				адрес отображения имеет всего <span class="nmbr">4</span> значения
				<span class="nmbr">0</span>, <span class="nmbr">40000</span>,<span class="nmbr">100000</span>,<span class="nmbr">140000</span>.</p>
				</td>
				<td>
				<p>И</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Start disasm address</p>
				</td>
				<td>
				<p><span class="nmbr">01000</span></p>
				</td>
				<td>
				<p>Начальный адрес в окне дизассемблера</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>AY Channel A Pan Left</p>
				<p>AY2 Channel A Pan Left</p>
				</td>
				<td>
				<p><span class="nmbr">95</span></p>
				</td>
				<td rowspan="3">
				<p>Значение панорамирования для каналов сопр. AY-3-8910 в процентах. 
				Это относительный уровень громкости канала AY в аудиоканале, суммарно 
				- <span class="nmbr">100</span>%. Поэтому сохраняется значение только 
				для левого канала, значение для правого канала вычисляется по формуле 
				R = <span class="nmbr">100</span> - L, и хранить его нет смысла.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>AY Channel B Pan Left</p>
				<p>AY2 Channel B Pan Left</p>
				</td>
				<td>
				<p><span class="nmbr">50</span></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>AY Channel C Pan Left</p>
				<p>AY2 Channel C Pan Left</p>
				</td>
				<td>
				<p><span class="nmbr">5</span></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>AY Channel A Volume</p>
				<p>AY2 Channel A Volume</p>
				</td>
				<td>
				<p><span class="nmbr">1</span>,<span class="nmbr">0000000000000000</span></p>
				</td>
				<td rowspan="3">
				<p>Значения локальной громкости для каналов сопр. AY-3-8910.</p>
				<p>Возможны значения с плавающей точкой от <span class="nmbr">0</span>.<span class="nmbr">0</span> 
				(мин.) до <span class="nmbr">1</span>.<span class="nmbr">0</span> 
				(макс.). В спец. окошке слайдером эти значения меняются в этом диапазоне 
				с шагом <span class="nmbr">0</span>.<span class="nmbr">01</span></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>AY Channel B Volume</p>
				<p>AY2 Channel B Volume</p>
				</td>
				<td>
				<p><span class="nmbr">1</span>,<span class="nmbr">0000000000000000</span></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>AY Channel C Volume</p>
				<p>AY2 Channel C Volume</p>
				</td>
				<td>
				<p><span class="nmbr">1</span>,<span class="nmbr">0000000000000000</span></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td colspan="4">
				<p class="selb centr"><b>[Options]</b></p>
				<p class="centr">Кастомизируемая секция</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Use Saves directory as default</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Поменять директорию для записи</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Speaker enabled</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Включить звук пищалки </p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Covox enabled</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Включить звук приставки <b>Covox</b></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>AY8910 enabled</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Включить звук муз. сопроцессора <b>AY-3-8910</b> </p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Menestrel enabled</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Включить звук муз. приставки <b>Менестрель</b></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Speaker filter enabled</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Фильтровать звук пищалки </p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Covox filter enabled</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Фильтровать звук приставки <b>Covox</b></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>AY8910 filter enabled</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Фильтровать звук сопроцессора <b>AY-3-8910</b></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Menestrel filter enabled</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Фильтровать звук муз. приставки <b>Менестрель</b></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Stereo covox</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Включить стерео <b>Covox</b></p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Speaker DC Offset correct</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Включить коррекцию смещения постоянного тока для пищалки</p>
				</td>
				<td>Д</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Covox DC Offset correct</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Включить коррекцию смещения постоянного тока для приставки <b>
				Covox</b></p>
				</td>
				<td>Д</td>
			</tr>
			<tr>
				<td class="selb">
				<p>AY8910 DC Offset correct</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Включить коррекцию смещения постоянного тока для муз. сопроцессора
				<b>AY-3-8910</b> </p>
				</td>
				<td>Д</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Menestrel DC Offset correct</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Включить коррекцию смещения постоянного тока для приставки <b>
				Менестрель</b></p>
				</td>
				<td>Д</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Emulate BK keyboard</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Эмулировать клавиатуру БК. Т.е. отключить аппаратный автоповтор</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Joystick enabled</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Эмулировать джойстик</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Run in color mode</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Запуск в цветном режиме</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Adapt black &amp; white mode</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Включить адаптированный ч/б режим</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Run in fullscreen mode</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Запуск в полноэкранном режиме</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Emulate load tape operations</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Эмулировать чтение с кассеты</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Emulate save tape operations</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Эмулировать запись на кассету</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Tape auto start detection</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Автоматически определять начало записи кассеты</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Tape auto end detection</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Автоматически определять конец записи кассеты</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Pause CPU after emulator start </p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Остановить процессор сразу после запуска эмулятора (<i>полезно 
				для отладки</i>) </p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Show performance string</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Показать строку состояния </p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Show dialog on access violation</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>При попытке записи в ПЗУ или чтения из несуществующего адреса, 
				показывать диалог с вопросом, что делать в возникшей ситуации (Не 
				рекомендуется включать без крайней надобности) </p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Emulate FDD IO</p>
				</td>
				<td>
				<p>Yes</p>
				</td>
				<td>
				<p>Эмулировать процедуру чтения/записи блока на дискету</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb" nowrap>
				<p>Virtual Keyboard Type</p>
				</td>
				<td>
				<p><span class="nmbr">0</span></p>
				</td>
				<td>
				<p>Внешний вид виртуальной клавиатуры: <span class="nmbr">0</span> 
				- кнопочная, <span class="nmbr">1</span> - плёночная</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb" nowrap>
				<p>Screen fade emulation</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Эмуляция затухания люминофора</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb" nowrap>
				<p>IC Load Block</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Включить блок нагрузок в порт УП</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb" nowrap>
				<p>Smoothing Screen</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Включить сглаживание экрана. Сглаживание делается на уровне драйверов 
				используемого рендера. В VFW не работает.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb" nowrap>
				<p>Emulate Mouse</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Включить эмуляцию мыши Марсианка методом захвата курсора мыши. 
				Работает отвратительно.<br>Поэтому лучше не включать.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb" nowrap>
				<p>2nd AY8910 Enabled</p>
				</td>
				<td>
				<p>No</p>
				</td>
				<td>
				<p>Подключить второй муз. сопроцессор AY.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td colspan="4">
				<p class="selb centr"><b>[Palettes]</b></p>
				<p class="centr">Кастомизируемая секция</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>BW Palette</p>
				</td>
				<td>
				<p>#000000,#ffffff</p>
				</td>
				<td>
				<p>RGB значения для чёрной точки и белой.</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Adapt BW Palette</p>
				</td>
				<td>
				<p>#000000,#6b6b6b,#a9a9a9,#ffffff</p>
				</td>
				<td>
				<p>RGB значения для двухбитий: 00,01,10,11 - black,blue,green,red</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Color Palette 00</p>
				</td>
				<td>
				<p>#000000,#0000ff,#00ff00,#ff0000</p>
				</td>
				<td>
				<p>RGB значения для двухбитий: 00,01,10,11 - black,blue,green,red 
				палитры 0. БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Color Palette 01</p>
				</td>
				<td>
				<p>#000000,#ffff00,#ff00ff,#ff0000</p>
				</td>
				<td>
				<p>RGB значения для палитры 1. БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Color Palette 02</p>
				</td>
				<td>
				<p>#000000,#00ffff,#0000ff,#ff00ff</p>
				</td>
				<td>
				<p>RGB значения для палитры 2. БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Color Palette 03</p>
				</td>
				<td>
				<p>#000000,#00ff00,#00ffff,#ffff00</p>
				</td>
				<td>
				<p>RGB значения для палитры 3. БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Color Palette 04</p>
				</td>
				<td>
				<p>#000000,#ff00ff,#00ffff,#ffffff</p>
				</td>
				<td>
				<p>RGB значения для палитры 4. БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Color Palette 05</p>
				</td>
				<td>
				<p>#000000,#ffffff,#ffffff,#ffffff</p>
				</td>
				<td>
				<p>RGB значения для палитры 5. БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Color Palette 06</p>
				</td>
				<td>
				<p>#000000,#aa0000,#700000,#ff0000</p>
				</td>
				<td>
				<p>RGB значения для палитры 6. БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Color Palette 07</p>
				</td>
				<td>
				<p>#000000,#aaff00,#55ff00,#ffff00</p>
				</td>
				<td>
				<p>RGB значения для палитры 7. БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Color Palette 08</p>
				</td>
				<td>
				<p>#000000,#aa00ff,#7000ff,#ff00ff</p>
				</td>
				<td>
				<p>RGB значения для палитры 8. БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Color Palette 09</p>
				</td>
				<td>
				<p>#000000,#55ff00,#7000ff,#700000</p>
				</td>
				<td>
				<p>RGB значения для палитры 9. БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Color Palette 10</p>
				</td>
				<td>
				<p>#000000,#aaff00,#aa00ff,#aa0000</p>
				</td>
				<td>
				<p>RGB значения для палитры 10. БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Color Palette 11</p>
				</td>
				<td>
				<p>#000000,#00ffff,#ffff00,#ff0000</p>
				</td>
				<td>
				<p>RGB значения для палитры 11. БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Color Palette 12</p>
				</td>
				<td>
				<p>#000000,#ff0000,#00ff00,#00ffff</p>
				</td>
				<td>
				<p>RGB значения для палитры 12. БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Color Palette 13</p>
				</td>
				<td>
				<p>#000000,#00ffff,#ffff00,#ffffff</p>
				</td>
				<td>
				<p>RGB значения для палитры 13. БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Color Palette 14</p>
				</td>
				<td>
				<p>#000000,#ffff00,#00ff00,#ffffff</p>
				</td>
				<td>
				<p>RGB значения для палитры 14. БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Color Palette 15</p>
				</td>
				<td>
				<p>#000000,#00ffff,#00ff00,#ffffff</p>
				</td>
				<td>
				<p>RGB значения для палитры 15. БК11</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td colspan="4">
				<p class="selb centr"><b>[Joystick Parameters]</b></p>
				<p class="centr">Кастомизируемая секция</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Joystick Up</p>
				</td>
				<td>
				<p>VK_UP : 000001</p>
				</td>
				<td rowspan="8">
				<p>Клавиши переназначения эмулятора джойстика. Имеют вид: &lt;Имя_виртуальной_клавиши&gt; 
				: &lt;номер_бита_в_порту_177714&gt;</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Joystick Right</p>
				</td>
				<td>
				<p>VK_RIGHT : 000002</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Joystick Down</p>
				</td>
				<td>
				<p>VK_DOWN : 000004</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Joystick Left</p>
				</td>
				<td>
				<p>VK_LEFT : 000010</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Joystick Fire</p>
				</td>
				<td>
				<p>VK_HOME : 000040</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Joystick AltFire</p>
				</td>
				<td>
				<p>VK_PRIOR : 000100</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Joystick A Button</p>
				</td>
				<td>
				<p>VK_END : 000020</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Joystick B Button</p>
				</td>
				<td>
				<p>VK_NEXT : 000200</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td colspan="4">
				<p class="selb centr"><b>[Drives]</b></p>
				<p class="centr">Кастомизируемая секция</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Drive A:</p>
				</td>
				<td>
				<p>&lt;empty&gt;</p>
				</td>
				<td>
				<p>Имя образа, монтируемого в диск А:</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Drive B:</p>
				</td>
				<td>
				<p>&lt;empty&gt;</p>
				</td>
				<td>
				<p>Имя образа, монтируемого в диск B:</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Drive C:</p>
				</td>
				<td>
				<p>&lt;empty&gt;</p>
				</td>
				<td>
				<p>Имя образа, монтируемого в диск C:</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>Drive D:</p>
				</td>
				<td>
				<p>&lt;empty&gt;</p>
				</td>
				<td>
				<p>Имя образа, монтируемого в диск D:</p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>HDD0</p>
				</td>
				<td>
				<p>&lt;empty&gt;</p>
				</td>
				<td>
				<p>Имя образа HDD, подключаемого как Master </p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
			<tr>
				<td class="selb">
				<p>HDD1</p>
				</td>
				<td>
				<p>&lt;empty&gt;</p>
				</td>
				<td>
				<p>Имя образа HDD, подключаемого как Slave </p>
				</td>
				<td>
				<p>Д</p>
				</td>
			</tr>
		</table>
		<p>Секция <b class="selb">[Directories]</b> используется только для чтения, 
		и никак не изменяется эмулятором.</p>
		<p>Секция <b class="selb">[Main]</b> является самой важной и общей для всех 
		конфигураций.</p>
		<p>Все остальные секции поддерживают кастомизацию. Кастомной является секция, 
		в которой хранятся индивидуальные настройки для определённой конфигурации. 
		Она имеет вид <b class="selb">[SectionName.ConfigName]</b>, например,
		<b class="selb">[Options.BK-0010-01]</b>. Значение <b>ConfigName</b> должно 
		совпадать со значением ключа <span class="selb">BK model</span> из секции
		<b class="selb">[Main]</b></p>
		<p>Алгоритм работы следующий: При чтении настроек, нужное значение сперва 
		ищется в кастомной секции, и, если там его нет, берётся из основной секции.</p>
		<p>При сохранении настроек, в кастомную секцию сохраняется значение только 
		в том случае, если оно не совпадает со значением из основной секции. За 
		исключением кастомной секции <b class="selb">[Drives.ConfigName]</b>, эти 
		значения всегда сохраняются в кастомную секцию, чтобы проще было жить - 
		в каждой конфигурации свои настройки дисководов и винчестеров.</p>
		<p>Для каждой конфигурации можно создать свой собственный набор модулей 
		ПЗУ. Для этого нужно вручную создать заданную кастомную секцию
		<b class="selb">[Rom modules]</b> и прописать там свои имена файлов дампов 
		ПЗУ.</p>
		<p><i class="attnt">Примечание.</i></p>
		<blockquote>
			<p>В секции <b class="selb">[Directories]</b> все пути задаются относительно 
			пути к исполняемому файлу эмулятора.</p>
			<p>В секции <b class="selb">[Drives]</b> можно указывать полный путь 
			к имени файла образа, находящегося в любом месте. Если образ находится 
			в директории по умолчанию, задаваемой для образов дисков, в секции
			<b class="selb">[Directories]</b> в ключе &laquo;<span class="selb">IMG 
			Directory</span>&raquo;, то полный путь указывать не нужно. Подключение 
			можно осуществлять как вручную, так и с помощью специальных кнопок на 
			стандартной панели инструментов.</p>
			<p>Образ винчестера можно подключить как вручную, редактированием файла
			<span class="selc">bk.ini</span>, так и через специальный диалог &quot;<span class="menu">Настройки 
			эмулятора</span>&quot;, находящийся в меню &quot;<span class="menu">Опции</span>&quot;. 
			Т.к. винчестер штука сложная и не поддерживает горячее отключение-подключение.</p>
			<p>Все изменения, вручную вносимые в файл <span class="selc">bk.ini</span> 
			во время работы эмулятора, не учитываются и заменяются теми значениями, 
			которые были использованы эмулятором на момент выхода, так что будьте 
			внимательны.</p>
		</blockquote>
		<h1><a name="toc_p7"></a>Приложение 3. Описание параметров командной строки</h1>
		<p><span class="symb">Bk.exe [/Флаг][/Флаг]...</span>.</p>
		<p>Флаги:</p>
		<table class="border vtop">
			<tr>
				<td style="width: 90px">
				<p><span class="symb">/?</span>, <span class="symb">/H</span></p>
				</td>
				<td>
				<p>- вывод краткого списка ключей и параметров командной строки.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p class="symb">/M &laquo;имя файла&raquo; </p>
				</td>
				<td>
				<p>- запуск указанного файла состояния в формате &laquo;<span class="var">.msf</span>&raquo; 
				(Memory state file). Если задан этот ключ, то все остальные ключи 
				игнорируются.</p>
				<p>Этот ключ имеет приоритет над всеми остальными ключами.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="symb">/D &laquo;имя файла&raquo;</span> </p>
				</td>
				<td>
				<p>- загрузка дампа файла в формате &laquo;<span class="var">.bin</span>&raquo; 
				либо в указанную конфигурацию с помощью ключа <span class="symb">
				/C</span>, либо в текущую, скрипт при этом не используется, используются 
				ключи <span class="symb">/L</span>, <span class="symb">/A</span>,
				<span class="symb">/P</span>, <span class="symb">/R</span>,
				<span class="symb">/F</span>.</p>
				<p>В отличии от ключа <span class="symb">/B</span>, загрузку можно 
				делать в любую конфигурацию. Однако, если загрузка делается не в 
				текущую конфигурацию, а создаваемую заново, то при запуске дампа 
				имейте в виду, что система не инициализирована, векторы и стек не 
				установлены, и в окнах БК11(М) подключена страница
				<span class="nmbr">0</span>. Все действия по инициализации системы 
				должен взять на себя ваш дамп.</p>
				<p>Если задан ключ <span class="symb">/L</span>, то загрузка дампа 
				производится по заданному адресу, иначе - по адресу из заголовка
				<span class="var">bin</span>. Если задан ключ <span class="symb">
				/F</span>, то адрес по умолчанию - <span class="nmbr">0</span>.</p>
				<p>Если задан ключ <span class="symb">/R</span>, то после загрузки 
				дампа будет произведён его запуск либо по адресу, заданному ключом
				<span class="symb">/A</span>, либо по адресу загрузки.</p>
				<p>Если задан ключ <span class="symb">/P</span>, то на время загрузки 
				в окна <span class="nmbr">0</span>,<span class="nmbr">1</span> в 
				конфигурациях БК11(М) подключаются указанные страницы.</p>
				<p>Если задан этот ключ, то ключи <span class="symb">/B</span>,
				<span class="symb">/S</span> и <span class="symb">/T</span> игнорируются.</p>
				<p><span class="attnt">Внимание!</span> Загрузка дампа делается 
				без учёта доступности памяти, без учёта того, что там ПЗУ. Просто 
				копирование данных с &lt;адреса загрузки&gt; до &lt;адреса загрузки 
				+ длина файла&gt;. Потому что в момент загрузки эмулятор остановлен 
				и обработка ошибок записи в ПЗУ невозможна.</p>
				<p>Этим можно пользоваться для модификации ПЗУ на лету. А можно 
				навредить себе по неосторожности.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="symb">/B &laquo;имя файла&raquo;</span> </p>
				</td>
				<td>
				<p>- загрузка указанного файла в формате &laquo;<span class="var">.bin</span>&raquo; 
				(Binary file) через скрипт. Если при этом не задан ключ
				<span class="symb">/S</span>, то используются предустановленные 
				имена скриптов для загрузки файла. Иначе, для загрузки будет использован 
				скрипт, указанный пользователем. Можно использовать ключ
				<span class="symb">/P</span>, чтобы указать номера страниц для подключения 
				в окна на БК11(М).</p>
				<ol>
					<li>Если не указана конкретная конфигурация ключом
					<span class="symb">/C</span>, то используется текущая.</li>
					<li>Загрузка делается только в базовые конфигурации БК10, БК11, 
					БК11М без контроллеров FDD/HDD. </li>
					<li>Базовая конфигурация выбирается из того, к какому семейству 
					конфигураций относится текущая конфигурация, или заданная ключом
					<span class="symb">/C</span>.</li>
				</ol>
				<p>С этим ключом можно использовать ключи <span class="symb">/C</span>,
				<span class="symb">/P</span> и <span class="symb">/S</span>, остальные 
				- игнорируются.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p class="symb">/S &laquo;имя файла&raquo;</p>
				</td>
				<td>
				<p>- запуск указанного скрипта &laquo;<span class="var">.bkscript</span>&raquo; 
				(Файл клавиатурного скрипта).</p>
				<p>Данный ключ может быть использован совместно с другими ключами. 
				Но смысл использовать имеет только совместно с ключом
				<span class="symb">/B</span>, либо отдельно от всего, как самостоятельный 
				ключ.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p class="symb">/T &laquo;имя файла&raquo; </p>
				</td>
				<td>
				<p>- включить указанную кассету на воспроизведение (расширение &laquo;<span class="var">.tap</span>&raquo; 
				или &laquo;<span class="var">.wav</span>&raquo;).</p>
				<p>Данный ключ может быть использован совместно с другими ключами. 
				Но смысла в этом мало, т.к. воспроизведение начинается сразу же, 
				и все остальные действия могут не успеть сделаться до этого. Так 
				что лучше использовать его как самостоятельный ключ.</p>
				</td>
			</tr>
			<tr>
				<td nowrap>
				<p class="symb">/C &laquo;имя конфигурации&raquo; </p>
				</td>
				<td>
				<p>- запустить эмулятор с заданной конфигурацией, а не той, что 
				указана в файле <span class="selc">bk.ini</span>. Имя конфигурации 
				должно в точности быть одним из списка имён, представленных в
				<a href="#toc_p6">Приложении 2</a>, Табл. 3 в описании параметра
				<span class="selb">BK model</span>. Ошибочное имя или любое другое 
				значение будет заменено на конфигурацию по умолчанию BK-0010-01.</p>
				<p>Ключ используется совместно с ключами <span class="symb">/D</span> 
				и <span class="symb">/B</span>.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p class="symb">/P &laquo;n0:n1&raquo; </p>
				</td>
				<td>
				<p>- номера страниц, подключаемых в окна <span class="nmbr">0</span> 
				и <span class="nmbr">1</span> в конфигурациях БК11(М).
				<span class="symb">n0</span> и <span class="symb">n1</span> - числа 
				в восьмеричной форме, обозначающие номера страниц БК:
				<span class="nmbr">0</span>..<span class="nmbr">7</span> - страницы 
				ОЗУ <span class="nmbr">10</span>..<span class="nmbr">13</span> - 
				страницы ПЗУ. Параметр может отсутствовать, тогда ничего не подключается, 
				если задано только <span class="symb">n0</span> - подключается только 
				страница в окно <span class="nmbr">0</span>, если параметр имеет 
				вид <span class="symb">:n1</span>, то подключается только страница 
				в окно <span class="nmbr">1</span>.<br>Параметр работает только 
				в конфигурациях БК11(М).</p>
				<p>Ключ используется совместно с ключами <span class="symb">/D</span> 
				и <span class="symb">/B</span>.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="symb">/L &laquo;адрес&raquo;</span></p>
				</td>
				<td>
				<p>- задать адрес загрузки дампа файла. Адрес - число только в восьмеричной 
				форме.</p>
				<p>Ключ используется только совместно с ключом
				<span class="symb">/D</span>.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="symb">/A &laquo;адрес&raquo;</span></p>
				</td>
				<td>
				<p>- задать адрес запуска дампа файла. Адрес - число только 
				в восьмеричной форме.</p>
				<p>Ключ используется только совместно с ключом
				<span class="symb">/D</span>.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="symb">/R</span></p>
				</td>
				<td>
				<p>- запустить загруженный дамп после загрузки.</p>
				<p>Ключ используется только совместно с ключом
				<span class="symb">/D</span>.</p>
				</td>
			</tr>
			<tr>
				<td>
				<p><span class="symb">/F</span></p>
				</td>
				<td>
				<p>- загружать дамп не в формате &laquo;<span class="var">.bin</span>&raquo;. 
				а в виде произвольного файла.</p>
				<p>Ключ используется только совместно с ключом
				<span class="symb">/D</span>.</p>
				</td>
			</tr>
		</table>
		<p><span class="symb">&laquo;имя файла&raquo;</span> - может содержать путь, 
		относительный или абсолютный. Если путь не задан, то файл ищется в директории 
		по умолчанию, заданной в параметрах <span class="selc">ini</span> файла 
		(Файл каждого типа, в своей соответствующей директории).</p>
		<p>Порядок следования ключей значения не имеет.</p>
		<p>Примеры:</p>
		<table class="border2 vtop">
			<colgroup>
				<col width="100"><col width="*">
			</colgroup>
			<tr>
				<td colspan="2">
				<p><span class="symb">bk.exe /m c:\my_saves\my_prog.msf</span>
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p></p>
				</td>
				<td>
				<p>– загрузить сохранённое состояние эмулятора из файла:
				<span class="symb">c:\my_saves\my_prog.msf</span></p>
				</td>
			</tr>
			<tr>
				<td colspan="2">
				<p><span class="symb">bk.exe /s my_scripts\basic.bkscript</span></p>
				</td>
			</tr>
			<tr>
				<td>
				<p></p>
				</td>
				<td>
				<p>– запустить файл скрипта, который находится в директории:
				<span class="symb">&laquo;каталог эмулятора&raquo;\ my_scripts\</span></p>
				</td>
			</tr>
			<tr>
				<td colspan="2">
				<p><span class="symb">bk.exe /b game.bin /s my_load.bkscript</span></p>
				</td>
			</tr>
			<tr>
				<td>
				<p></p>
				</td>
				<td>
				<p>– загрузить и запустить файл из директории:
				<span class="symb">&laquo;каталог эмулятора&raquo;\bin\</span>, 
				используя при этом свой загрузочный скрипт <span class="symb">my_load.bkscript</span>.</p>
				</td>
			</tr>
			<tr>
				<td colspan="2">
				<p><span class="symb">bk.exe /b D:\games\game.bin /c BK-0010-01</span>
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p></p>
				</td>
				<td>
				<p>– загрузить и запустить файл из директории <span class="symb">&laquo;D:\games\&raquo;</span> 
				в конфигурацию БК0010-01. При этом данная директория становится 
				текущей, и все последующие файлы будут искаться там.</p>
				</td>
			</tr>
			<tr>
				<td colspan="2">
				<p><span class="symb">bk.exe /t mytape.wav</span></p>
				</td>
			</tr>
			<tr>
				<td>
				<p></p>
				</td>
				<td>
				<p>– запустить файл mytape.wav из каталога по умолчанию:
				<span class="symb">&laquo;каталог эмулятора&raquo;\tapes\</span></p>
				</td>
			</tr>
			<tr>
				<td colspan="2">
				<p><span class="symb">bk.exe /d mydump.bin /c BK-0011М /p 5 /l 40000</span></p>
				</td>
			</tr>
			<tr>
				<td>&nbsp;</td>
				<td>
				<p>- загрузить дамп в формате &laquo;<span class="var">.bin</span>&raquo; 
				в конфигурацию БК-0011М, при этом в окно <span class="nmbr">0</span> 
				подключить страницу <span class="nmbr">5</span> (экран), а в окне
				<span class="nmbr">1</span> оставить то, что там было подключено, 
				загрузку делать по адресу <span class="nmbr">040000</span>, а не 
				из заголовка &laquo;<span class="var">.bin</span>&raquo;.</p>
				</td>
			</tr>
			<tr>
				<td colspan="2">
				<p><span class="symb">bk.exe /d mydump.bin /a 1222 /r</span></p>
				</td>
			</tr>
			<tr>
				<td>&nbsp;</td>
				<td>
				<p>- загрузить дамп в формате &laquo;<span class="var">.bin</span>&raquo; 
				в текущую конфигурацию, и запустить с адреса <span class="nmbr">
				01222</span>. При этом эмулятор должен быть запущен и работать, 
				а это запуск второй копии, при этом, копия передаст параметры командной 
				строки экземпляру, уже находящемуся в памяти, и он их обработает.</p>
				<p>Если адрес запуска не указан, то запуск делается с адреса загрузки.</p>
				</td>
			</tr>
			<tr>
				<td colspan="2">
				<p><span class="symb">bk.exe /d filename.ext /l 1000 /a 1222 /r 
				/f</span></p>
				</td>
			</tr>
			<tr>
				<td>&nbsp;</td>
				<td>
				<p>- загрузить произвольный файл в текущую конфигурацию с адреса
				<span class="nmbr">01000</span>, и запустить с адреса
				<span class="nmbr">01222</span>. При этом эмулятор должен быть запущен 
				и работать, а это запуск второй копии, при этом, копия передаст 
				параметры командной строки экземпляру, уже находящемуся в памяти, 
				и он их обработает.</p>
				<p>Если адрес загрузки не указан, то не &laquo;<span class="var">.bin</span>&raquo; 
				файл загружается с адреса <span class="nmbr">0</span>.</p>
				<p>Если адрес запуска не указан, то запуск делается с адреса загрузки.</p>
				</td>
			</tr>
		</table>
		<p>Данные ключи используются не только при запуске эмулятора, но и 
		при регистрации файловых расширений. Одновременно в памяти
		<span class="selc">Windows</span> может находится только одна копия эмулятора. 
		При запуске второй копии с данными ключами, она передаёт параметры запущенному 
		эмулятору и выгружается из памяти. Если эмулятор не загружен в память, то 
		он автоматически загружается при клике на любом файле с зарегистрированным 
		расширением (при этом текущим каталогом для файлов данного типа становится 
		каталог, в котором находится данный файл). Вышеприведённое свойство можно 
		использовать для автоматизации загрузки файлов указанного типа:</p>
		<table class="border vtop">
			<caption>Табл.4. Файловые расширения. </caption>
			<tr>
				<th style="width: 55px">Иконка</th>
				<th style="width: 220px">Тип файла</th>
				<th>Действие</th>
			</tr>
			<tr>
				<td><img alt="" src="img/bkemu/image006.jpg"></td>
				<td>
				<p>Файл БК в формате <b>bin</b>.<br>Расширение: &laquo;<span class="var">.bin</span>&raquo;</p>
				</td>
				<td>
				<p>Клик на иконке с таким файлом приводит к перезапуску текущей 
				копии эмулятора и запуску скрипта из директории:<br>autorun\monitor_load.bkscript.</p>
				</td>
			</tr>
			<tr>
				<td><img alt="" src="img/bkemu/image007.jpg"></td>
				<td>
				<p>Сохранённое состояние БК.<br>Расширение: &laquo;<span class="var">.msf</span>&raquo;</p>
				</td>
				<td>
				<p>Клик на иконке с таким файлом приводит к мгновенной загрузке 
				выбранного состояния в текущую копию эмулятора. </p>
				</td>
			</tr>
			<tr>
				<td><img alt="" src="img/bkemu/image008.jpg"></td>
				<td>
				<p>Образ кассеты БК.<br>Расширение: &laquo;<span class="var">.tap</span>&raquo;</p>
				</td>
				<td>
				<p>Клик на иконке с таким файлом приводит к запуску данной кассеты 
				на воспроизведение в текущей копии эмулятора.</p>
				</td>
			</tr>
			<tr>
				<td><img alt="" src="img/bkemu/image009.jpg"></td>
				<td>
				<p>Вспомогательный клавиатурный скрипт.<br>Расширение: &laquo;<span class="var">.bkscript</span>&raquo;</p>
				</td>
				<td>
				<p>Клик на иконке с таким файлом приводит к выполнению выбранного 
				скрипта в текущей копии эмулятора.</p>
				</td>
			</tr>
		</table>
		<p>Загружать файлы в эмулятор также можно, просто перетаскивая их мышкой 
		на виртуальный экран, с помощью технологии Drag&amp;Drop.</p>
		<h1><a name="toc_p8"></a>Приложение 4. Описание вспомогательных утилит</h1>
		<p>В директории <span class="cmdk">Tools</span> находятся дополнительные 
		утилиты, которые могут быть полезны. Чтобы утилиты были видны из меню эмулятора, 
		они снабжены особым модулем проверки свой-чужой, с помощью которого обмениваются 
		параметрами с эмулятором при его инициализации. Так что совершенно любую 
		программу туда поместить можно, но видна она из меню не будет.</p>
		<p>На данный момент есть две утилиты:</p>
		<p><span class="selc">BKDE</span> - утилита для работы с образами дискет, 
		позволяет извлекать файлы из образов и записывать их обратно.</p>
		<p><span class="selc">HDDImgMaker</span> - утилита для создания образа винчестера 
		формата эмулятора, либо чистого, либо из существующего образа - посекторной 
		копии винчестера.</p>
	</div>
</div>

</body>

</html>
